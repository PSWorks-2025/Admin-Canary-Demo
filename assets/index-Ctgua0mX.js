(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ef={exports:{}},ol={},bf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function vA(){if(kw)return Ve;kw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=_&&W[_]||W["@@iterator"],typeof W=="function"?W:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function x(W,Z,ve){this.props=W,this.context=Z,this.refs=S,this.updater=ve||b}x.prototype.isReactComponent={},x.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function I(){}I.prototype=x.prototype;function D(W,Z,ve){this.props=W,this.context=Z,this.refs=S,this.updater=ve||b}var j=D.prototype=new I;j.constructor=D,C(j,x.prototype),j.isPureReactComponent=!0;var L=Array.isArray,$=Object.prototype.hasOwnProperty,Q={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(W,Z,ve){var Pe,ke={},De=null,Ue=null;if(Z!=null)for(Pe in Z.ref!==void 0&&(Ue=Z.ref),Z.key!==void 0&&(De=""+Z.key),Z)$.call(Z,Pe)&&!P.hasOwnProperty(Pe)&&(ke[Pe]=Z[Pe]);var Me=arguments.length-2;if(Me===1)ke.children=ve;else if(1<Me){for(var Xe=Array(Me),yt=0;yt<Me;yt++)Xe[yt]=arguments[yt+2];ke.children=Xe}if(W&&W.defaultProps)for(Pe in Me=W.defaultProps,Me)ke[Pe]===void 0&&(ke[Pe]=Me[Pe]);return{$$typeof:t,type:W,key:De,ref:Ue,props:ke,_owner:Q.current}}function V(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function M(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ve){return Z[ve]})}var q=/\/+/g;function F(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):Z.toString(36)}function Le(W,Z,ve,Pe,ke){var De=typeof W;(De==="undefined"||De==="boolean")&&(W=null);var Ue=!1;if(W===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(W.$$typeof){case t:case e:Ue=!0}}if(Ue)return Ue=W,ke=ke(Ue),W=Pe===""?"."+F(Ue,0):Pe,L(ke)?(ve="",W!=null&&(ve=W.replace(q,"$&/")+"/"),Le(ke,Z,ve,"",function(yt){return yt})):ke!=null&&(O(ke)&&(ke=V(ke,ve+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(q,"$&/")+"/")+W)),Z.push(ke)),1;if(Ue=0,Pe=Pe===""?".":Pe+":",L(W))for(var Me=0;Me<W.length;Me++){De=W[Me];var Xe=Pe+F(De,Me);Ue+=Le(De,Z,ve,Xe,ke)}else if(Xe=w(W),typeof Xe=="function")for(W=Xe.call(W),Me=0;!(De=W.next()).done;)De=De.value,Xe=Pe+F(De,Me++),Ue+=Le(De,Z,ve,Xe,ke);else if(De==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ue}function je(W,Z,ve){if(W==null)return W;var Pe=[],ke=0;return Le(W,Pe,"","",function(De){return Z.call(ve,De,ke++)}),Pe}function be(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ve){(W._status===0||W._status===-1)&&(W._status=1,W._result=ve)},function(ve){(W._status===0||W._status===-1)&&(W._status=2,W._result=ve)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var ye={current:null},oe={transition:null},me={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Q};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:je,forEach:function(W,Z,ve){je(W,function(){Z.apply(this,arguments)},ve)},count:function(W){var Z=0;return je(W,function(){Z++}),Z},toArray:function(W){return je(W,function(Z){return Z})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ve.Component=x,Ve.Fragment=n,Ve.Profiler=s,Ve.PureComponent=D,Ve.StrictMode=r,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ve.act=ue,Ve.cloneElement=function(W,Z,ve){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Pe=C({},W.props),ke=W.key,De=W.ref,Ue=W._owner;if(Z!=null){if(Z.ref!==void 0&&(De=Z.ref,Ue=Q.current),Z.key!==void 0&&(ke=""+Z.key),W.type&&W.type.defaultProps)var Me=W.type.defaultProps;for(Xe in Z)$.call(Z,Xe)&&!P.hasOwnProperty(Xe)&&(Pe[Xe]=Z[Xe]===void 0&&Me!==void 0?Me[Xe]:Z[Xe])}var Xe=arguments.length-2;if(Xe===1)Pe.children=ve;else if(1<Xe){Me=Array(Xe);for(var yt=0;yt<Xe;yt++)Me[yt]=arguments[yt+2];Pe.children=Me}return{$$typeof:t,type:W.type,key:ke,ref:De,props:Pe,_owner:Ue}},Ve.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},Ve.createElement=A,Ve.createFactory=function(W){var Z=A.bind(null,W);return Z.type=W,Z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(W){return{$$typeof:c,render:W}},Ve.isValidElement=O,Ve.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:be}},Ve.memo=function(W,Z){return{$$typeof:p,type:W,compare:Z===void 0?null:Z}},Ve.startTransition=function(W){var Z=oe.transition;oe.transition={};try{W()}finally{oe.transition=Z}},Ve.unstable_act=ue,Ve.useCallback=function(W,Z){return ye.current.useCallback(W,Z)},Ve.useContext=function(W){return ye.current.useContext(W)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(W){return ye.current.useDeferredValue(W)},Ve.useEffect=function(W,Z){return ye.current.useEffect(W,Z)},Ve.useId=function(){return ye.current.useId()},Ve.useImperativeHandle=function(W,Z,ve){return ye.current.useImperativeHandle(W,Z,ve)},Ve.useInsertionEffect=function(W,Z){return ye.current.useInsertionEffect(W,Z)},Ve.useLayoutEffect=function(W,Z){return ye.current.useLayoutEffect(W,Z)},Ve.useMemo=function(W,Z){return ye.current.useMemo(W,Z)},Ve.useReducer=function(W,Z,ve){return ye.current.useReducer(W,Z,ve)},Ve.useRef=function(W){return ye.current.useRef(W)},Ve.useState=function(W){return ye.current.useState(W)},Ve.useSyncExternalStore=function(W,Z,ve){return ye.current.useSyncExternalStore(W,Z,ve)},Ve.useTransition=function(){return ye.current.useTransition()},Ve.version="18.3.1",Ve}var Nw;function Hg(){return Nw||(Nw=1,bf.exports=vA()),bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function _A(){if(Dw)return ol;Dw=1;var t=Hg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,_={},w=null,b=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(_[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)_[g]===void 0&&(_[g]=d[g]);return{$$typeof:e,type:c,key:w,ref:b,props:_,_owner:s.current}}return ol.Fragment=n,ol.jsx=l,ol.jsxs=l,ol}var Vw;function wA(){return Vw||(Vw=1,Ef.exports=_A()),Ef.exports}var E=wA(),Ic={},Sf={exports:{}},Cn={},Cf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function xA(){return Lw||(Lw=1,function(t){function e(oe,me){var ue=oe.length;oe.push(me);e:for(;0<ue;){var W=ue-1>>>1,Z=oe[W];if(0<s(Z,me))oe[W]=me,oe[ue]=Z,ue=W;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var me=oe[0],ue=oe.pop();if(ue!==me){oe[0]=ue;e:for(var W=0,Z=oe.length,ve=Z>>>1;W<ve;){var Pe=2*(W+1)-1,ke=oe[Pe],De=Pe+1,Ue=oe[De];if(0>s(ke,ue))De<Z&&0>s(Ue,ke)?(oe[W]=Ue,oe[De]=ue,W=De):(oe[W]=ke,oe[Pe]=ue,W=Pe);else if(De<Z&&0>s(Ue,ue))oe[W]=Ue,oe[De]=ue,W=De;else break e}}return me}function s(oe,me){var ue=oe.sortIndex-me.sortIndex;return ue!==0?ue:oe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,_=null,w=3,b=!1,C=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=oe)r(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function L(oe){if(S=!1,j(oe),!C)if(n(d)!==null)C=!0,be($);else{var me=n(p);me!==null&&ye(L,me.startTime-oe)}}function $(oe,me){C=!1,S&&(S=!1,I(A),A=-1),b=!0;var ue=w;try{for(j(me),_=n(d);_!==null&&(!(_.expirationTime>me)||oe&&!M());){var W=_.callback;if(typeof W=="function"){_.callback=null,w=_.priorityLevel;var Z=W(_.expirationTime<=me);me=t.unstable_now(),typeof Z=="function"?_.callback=Z:_===n(d)&&r(d),j(me)}else r(d);_=n(d)}if(_!==null)var ve=!0;else{var Pe=n(p);Pe!==null&&ye(L,Pe.startTime-me),ve=!1}return ve}finally{_=null,w=ue,b=!1}}var Q=!1,P=null,A=-1,V=5,O=-1;function M(){return!(t.unstable_now()-O<V)}function q(){if(P!==null){var oe=t.unstable_now();O=oe;var me=!0;try{me=P(!0,oe)}finally{me?F():(Q=!1,P=null)}}else Q=!1}var F;if(typeof D=="function")F=function(){D(q)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,je=Le.port2;Le.port1.onmessage=q,F=function(){je.postMessage(null)}}else F=function(){x(q,0)};function be(oe){P=oe,Q||(Q=!0,F())}function ye(oe,me){A=x(function(){oe(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){C||b||(C=!0,be($))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var ue=w;w=me;try{return oe()}finally{w=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,me){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=w;w=oe;try{return me()}finally{w=ue}},t.unstable_scheduleCallback=function(oe,me,ue){var W=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?W+ue:W):ue=W,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ue+Z,oe={id:g++,callback:me,priorityLevel:oe,startTime:ue,expirationTime:Z,sortIndex:-1},ue>W?(oe.sortIndex=ue,e(p,oe),n(d)===null&&oe===n(p)&&(S?(I(A),A=-1):S=!0,ye(L,ue-W))):(oe.sortIndex=Z,e(d,oe),C||b||(C=!0,be($))),oe},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(oe){var me=w;return function(){var ue=w;w=me;try{return oe.apply(this,arguments)}finally{w=ue}}}}(Rf)),Rf}var Ow;function TA(){return Ow||(Ow=1,Cf.exports=xA()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw;function EA(){if(jw)return Cn;jw=1;var t=Hg(),e=TA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(i){return d.call(_,i)?!0:d.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function b(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,f){if(o===null||typeof o>"u"||b(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,f,m,v,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=R}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];x[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(I,D);x[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(I,D);x[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(I,D);x[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,o,u,f){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,m,f)&&(u=null),f||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),Q=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),oe=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,W;function Z(i){if(W===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+i}var ve=!1;function Pe(i,o){if(!i||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){f=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}i()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),v=f.stack.split(`
`),R=m.length-1,U=v.length-1;1<=R&&0<=U&&m[R]!==v[U];)U--;for(;1<=R&&0<=U;R--,U--)if(m[R]!==v[U]){if(R!==1||U!==1)do if(R--,U--,0>U||m[R]!==v[U]){var B=`
`+m[R].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=R&&0<=U);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function ke(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case Q:return"Portal";case V:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case Le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case q:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case je:return o=i.displayName||null,o!==null?o:De(i.type)||"Memo";case be:o=i._payload,i=i._init;try{return De(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yt(i){var o=Xe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,v.call(this,R)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Nt(i){i._valueTracker||(i._valueTracker=yt(i))}function vr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Xe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function _r(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function zr(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ss(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Me(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function os(i,o){o=o.checked,o!=null&&j(i,"checked",o,!1)}function Rt(i,o){os(i,o);var u=Me(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Ht(i,o.type,u):o.hasOwnProperty("defaultValue")&&Ht(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function hn(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ht(i,o,u){(o!=="number"||_r(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var rt=Array.isArray;function it(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Me(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ze(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(rt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Me(u)}}function en(i,o){var u=Me(o.value),f=Me(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Be(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function He(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?He(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ye,Dt=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ye=Ye||document.createElement("div"),Ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ye.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function st(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},as=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(i){as.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),wr[o]=wr[i]})});function ya(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||wr.hasOwnProperty(i)&&wr[i]?(""+o).trim():o+"px"}function va(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=ya(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var _a=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(i,o){if(o){if(_a[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function xa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function Zs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var eo=null,Mn=null,xr=null;function to(i){if(i=Ha(i)){if(typeof eo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=$u(o),eo(i.stateNode,i.type,o))}}function Tr(i){Mn?xr?xr.push(i):xr=[i]:Mn=i}function Ta(){if(Mn){var i=Mn,o=xr;if(xr=Mn=null,to(i),o)for(i=0;i<o.length;i++)to(o[i])}}function us(i,o){return i(o)}function Ea(){}var Hr=!1;function ba(i,o,u){if(Hr)return i(o,u);Hr=!0;try{return us(i,o,u)}finally{Hr=!1,(Mn!==null||xr!==null)&&(Ea(),Ta())}}function Tt(i,o){var u=i.stateNode;if(u===null)return null;var f=$u(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var no=!1;if(c)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){no=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{no=!1}function cs(i,o,u,f,m,v,R,U,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(ne){this.onError(ne)}}var hs=!1,ro=null,Zn=!1,Sa=null,Xh={onError:function(i){hs=!0,ro=i}};function io(i,o,u,f,m,v,R,U,B){hs=!1,ro=null,cs.apply(Xh,arguments)}function fu(i,o,u,f,m,v,R,U,B){if(io.apply(this,arguments),hs){if(hs){var Y=ro;hs=!1,ro=null}else throw Error(n(198));Zn||(Zn=!0,Sa=Y)}}function er(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function ds(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function tr(i){if(er(i)!==i)throw Error(n(188))}function pu(i){var o=i.alternate;if(!o){if(o=er(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return tr(m),i;if(v===f)return tr(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var R=!1,U=m.child;U;){if(U===u){R=!0,u=m,f=v;break}if(U===f){R=!0,f=m,u=v;break}U=U.sibling}if(!R){for(U=v.child;U;){if(U===u){R=!0,u=v,f=m;break}if(U===f){R=!0,f=v,u=m;break}U=U.sibling}if(!R)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Ca(i){return i=pu(i),i!==null?so(i):null}function so(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=so(i);if(o!==null)return o;i=i.sibling}return null}var oo=e.unstable_scheduleCallback,Ra=e.unstable_cancelCallback,mu=e.unstable_shouldYield,Yh=e.unstable_requestPaint,tt=e.unstable_now,gu=e.unstable_getCurrentPriorityLevel,fs=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,yu=e.unstable_IdlePriority,ps=null,In=null;function vu(i){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(ps,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:wu,Aa=Math.log,_u=Math.LN2;function wu(i){return i>>>=0,i===0?32:31-(Aa(i)/_u|0)|0}var ao=64,lo=4194304;function mi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ms(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,R=u&268435455;if(R!==0){var U=R&~m;U!==0?f=mi(U):(v&=R,v!==0&&(f=mi(v)))}else R=u&~m,R!==0?f=mi(R):v!==0&&(f=mi(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-dn(o),m=1<<u,f|=i[u],o&=~m;return f}function Jh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var R=31-dn(v),U=1<<R,B=m[R];B===-1?(!(U&u)||U&f)&&(m[R]=Jh(U,o)):B<=o&&(i.expiredLanes|=U),v&=~U}}function An(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gs(){var i=ao;return ao<<=1,!(ao&4194240)&&(ao=64),i}function gi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function yi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-dn(o),i[o]=u}function et(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-dn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function vi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-dn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Fe=0;function _i(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var xu,uo,Tu,Eu,bu,Pa=!1,Er=[],Wt=null,nr=null,rr=null,wi=new Map,Un=new Map,br=[],Zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(i,o){switch(i){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(o.pointerId)}}function _n(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ha(o),o!==null&&uo(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function ed(i,o,u,f,m){switch(o){case"focusin":return Wt=_n(Wt,i,o,u,f,m),!0;case"dragenter":return nr=_n(nr,i,o,u,f,m),!0;case"mouseover":return rr=_n(rr,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return wi.set(v,_n(wi.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Un.set(v,_n(Un.get(v)||null,i,o,u,f,m)),!0}return!1}function Cu(i){var o=xs(i.target);if(o!==null){var u=er(o);if(u!==null){if(o=u.tag,o===13){if(o=ds(u),o!==null){i.blockedOn=o,bu(i.priority,function(){Tu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=co(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ls=f,u.target.dispatchEvent(f),ls=null}else return o=Ha(u),o!==null&&uo(o),i.blockedOn=u,!1;o.shift()}return!0}function ys(i,o,u){Gr(i)&&u.delete(o)}function Ru(){Pa=!1,Wt!==null&&Gr(Wt)&&(Wt=null),nr!==null&&Gr(nr)&&(nr=null),rr!==null&&Gr(rr)&&(rr=null),wi.forEach(ys),Un.forEach(ys)}function ir(i,o){i.blockedOn===o&&(i.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function sr(i){function o(m){return ir(m,i)}if(0<Er.length){ir(Er[0],i);for(var u=1;u<Er.length;u++){var f=Er[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Wt!==null&&ir(Wt,i),nr!==null&&ir(nr,i),rr!==null&&ir(rr,i),wi.forEach(o),Un.forEach(o),u=0;u<br.length;u++)f=br[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<br.length&&(u=br[0],u.blockedOn===null);)Cu(u),u.blockedOn===null&&br.shift()}var Kr=L.ReactCurrentBatchConfig,xi=!0;function ut(i,o,u,f){var m=Fe,v=Kr.transition;Kr.transition=null;try{Fe=1,ka(i,o,u,f)}finally{Fe=m,Kr.transition=v}}function td(i,o,u,f){var m=Fe,v=Kr.transition;Kr.transition=null;try{Fe=4,ka(i,o,u,f)}finally{Fe=m,Kr.transition=v}}function ka(i,o,u,f){if(xi){var m=co(i,o,u,f);if(m===null)dd(i,o,f,vs,u),Su(i,f);else if(ed(m,i,o,u,f))f.stopPropagation();else if(Su(i,f),o&4&&-1<Zh.indexOf(i)){for(;m!==null;){var v=Ha(m);if(v!==null&&xu(v),v=co(i,o,u,f),v===null&&dd(i,o,f,vs,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else dd(i,o,f,null,u)}}var vs=null;function co(i,o,u,f){if(vs=null,i=Zs(f),i=xs(i),i!==null)if(o=er(i),o===null)i=null;else if(u=o.tag,u===13){if(i=ds(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return vs=i,null}function Na(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case fs:return 1;case pi:return 4;case Fn:case Ia:return 16;case yu:return 536870912;default:return 16}default:return 16}}var Pn=null,ho=null,wn=null;function Da(){if(wn)return wn;var i,o=ho,u=o.length,f,m="value"in Pn?Pn.value:Pn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var R=u-i;for(f=1;f<=R&&o[u-f]===m[v-f];f++);return wn=m.slice(i,1<f?1-f:void 0)}function fo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function Va(){return!1}function Gt(i){function o(u,f,m,v,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(u=i[U],this[U]=u?u(v):v[U]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Sr:Va,this.isPropagationStopped=Va,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Gt(or),Cr=ue({},or,{view:0,detail:0}),nd=Gt(Cr),mo,Qr,Ti,_s=ue({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(mo=i.screenX-Ti.screenX,Qr=i.screenY-Ti.screenY):Qr=mo=0,Ti=i),mo)},movementY:function(i){return"movementY"in i?i.movementY:Qr}}),go=Gt(_s),La=ue({},_s,{dataTransfer:0}),Iu=Gt(La),yo=ue({},Cr,{relatedTarget:0}),vo=Gt(yo),Au=ue({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Xr=Gt(Au),Pu=ue({},or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ku=Gt(Pu),Nu=ue({},or,{data:0}),Oa=Gt(Nu),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Du[i])?!!o[i]:!1}function Rr(){return Vu}var h=ue({},Cr,{key:function(i){if(i.key){var o=_o[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=fo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(i){return i.type==="keypress"?fo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Gt(h),T=ue({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Gt(T),G=ue({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),J=Gt(G),le=ue({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Gt(le),Vt=ue({},_s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Gt(Vt),Ft=[9,13,27,32],It=c&&"CompositionEvent"in window,Bn=null;c&&"documentMode"in document&&(Bn=document.documentMode);var kn=c&&"TextEvent"in window&&!Bn,ws=c&&(!It||Bn&&8<Bn&&11>=Bn),wo=" ",Sv=!1;function Cv(i,o){switch(i){case"keyup":return Ft.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function gI(i,o){switch(i){case"compositionend":return Rv(o);case"keypress":return o.which!==32?null:(Sv=!0,wo);case"textInput":return i=o.data,i===wo&&Sv?null:i;default:return null}}function yI(i,o){if(xo)return i==="compositionend"||!It&&Cv(i,o)?(i=Da(),wn=ho=Pn=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ws&&o.locale!=="ko"?null:o.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!vI[i.type]:o==="textarea"}function Av(i,o,u,f){Tr(f),o=Fu(o,"onChange"),0<o.length&&(u=new po("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var ja=null,Ma=null;function _I(i){Gv(i,0)}function Lu(i){var o=Co(i);if(vr(o))return i}function wI(i,o){if(i==="change")return o}var Pv=!1;if(c){var rd;if(c){var id="oninput"in document;if(!id){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),id=typeof kv.oninput=="function"}rd=id}else rd=!1;Pv=rd&&(!document.documentMode||9<document.documentMode)}function Nv(){ja&&(ja.detachEvent("onpropertychange",Dv),Ma=ja=null)}function Dv(i){if(i.propertyName==="value"&&Lu(Ma)){var o=[];Av(o,Ma,i,Zs(i)),ba(_I,o)}}function xI(i,o,u){i==="focusin"?(Nv(),ja=o,Ma=u,ja.attachEvent("onpropertychange",Dv)):i==="focusout"&&Nv()}function TI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lu(Ma)}function EI(i,o){if(i==="click")return Lu(o)}function bI(i,o){if(i==="input"||i==="change")return Lu(o)}function SI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:SI;function Fa(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!ar(i[m],o[m]))return!1}return!0}function Vv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lv(i,o){var u=Vv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vv(u)}}function Ov(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ov(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function jv(){for(var i=window,o=_r();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=_r(i.document)}return o}function sd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function CI(i){var o=jv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ov(u.ownerDocument.documentElement,u)){if(f!==null&&sd(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Lv(u,v);var R=Lv(u,f);m&&R&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var RI=c&&"documentMode"in document&&11>=document.documentMode,To=null,od=null,Ua=null,ad=!1;function Mv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ad||To==null||To!==_r(f)||(f=To,"selectionStart"in f&&sd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ua&&Fa(Ua,f)||(Ua=f,f=Fu(od,"onSelect"),0<f.length&&(o=new po("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=To)))}function Ou(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Eo={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},ld={},Fv={};c&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ju(i){if(ld[i])return ld[i];if(!Eo[i])return i;var o=Eo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Fv)return ld[i]=o[u];return i}var Uv=ju("animationend"),Bv=ju("animationiteration"),$v=ju("animationstart"),qv=ju("transitionend"),zv=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(i,o){zv.set(i,o),a(o,[i])}for(var ud=0;ud<Hv.length;ud++){var cd=Hv[ud],II=cd.toLowerCase(),AI=cd[0].toUpperCase()+cd.slice(1);Ei(II,"on"+AI)}Ei(Uv,"onAnimationEnd"),Ei(Bv,"onAnimationIteration"),Ei($v,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(qv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Wv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,fu(f,o,void 0,i),i.currentTarget=null}function Gv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var R=f.length-1;0<=R;R--){var U=f[R],B=U.instance,Y=U.currentTarget;if(U=U.listener,B!==v&&m.isPropagationStopped())break e;Wv(m,U,Y),v=B}else for(R=0;R<f.length;R++){if(U=f[R],B=U.instance,Y=U.currentTarget,U=U.listener,B!==v&&m.isPropagationStopped())break e;Wv(m,U,Y),v=B}}}if(Zn)throw i=Sa,Zn=!1,Sa=null,i}function ot(i,o){var u=o[vd];u===void 0&&(u=o[vd]=new Set);var f=i+"__bubble";u.has(f)||(Kv(o,i,2,!1),u.add(f))}function hd(i,o,u){var f=0;o&&(f|=4),Kv(u,i,f,o)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function $a(i){if(!i[Mu]){i[Mu]=!0,r.forEach(function(u){u!=="selectionchange"&&(PI.has(u)||hd(u,!1,i),hd(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Mu]||(o[Mu]=!0,hd("selectionchange",!1,o))}}function Kv(i,o,u,f){switch(Na(o)){case 1:var m=ut;break;case 4:m=td;break;default:m=ka}u=m.bind(null,o,u,i),m=void 0,!no||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function dd(i,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var U=f.stateNode.containerInfo;if(U===m||U.nodeType===8&&U.parentNode===m)break;if(R===4)for(R=f.return;R!==null;){var B=R.tag;if((B===3||B===4)&&(B=R.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;R=R.return}for(;U!==null;){if(R=xs(U),R===null)return;if(B=R.tag,B===5||B===6){f=v=R;continue e}U=U.parentNode}}f=f.return}ba(function(){var Y=v,ne=Zs(u),se=[];e:{var te=zv.get(i);if(te!==void 0){var ce=po,fe=i;switch(i){case"keypress":if(fo(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":fe="focus",ce=vo;break;case"focusout":fe="blur",ce=vo;break;case"beforeblur":case"afterblur":ce=vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=J;break;case Uv:case Bv:case $v:ce=Xr;break;case qv:ce=Je;break;case"scroll":ce=nd;break;case"wheel":ce=$e;break;case"copy":case"cut":case"paste":ce=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=k}var pe=(o&4)!==0,Et=!pe&&i==="scroll",K=pe?te!==null?te+"Capture":null:te;pe=[];for(var z=Y,X;z!==null;){X=z;var ae=X.stateNode;if(X.tag===5&&ae!==null&&(X=ae,K!==null&&(ae=Tt(z,K),ae!=null&&pe.push(qa(z,ae,X)))),Et)break;z=z.return}0<pe.length&&(te=new ce(te,fe,null,u,ne),se.push({event:te,listeners:pe}))}}if(!(o&7)){e:{if(te=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",te&&u!==ls&&(fe=u.relatedTarget||u.fromElement)&&(xs(fe)||fe[Yr]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=u.relatedTarget||u.toElement,ce=Y,fe=fe?xs(fe):null,fe!==null&&(Et=er(fe),fe!==Et||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=Y),ce!==fe)){if(pe=go,ae="onMouseLeave",K="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(pe=k,ae="onPointerLeave",K="onPointerEnter",z="pointer"),Et=ce==null?te:Co(ce),X=fe==null?te:Co(fe),te=new pe(ae,z+"leave",ce,u,ne),te.target=Et,te.relatedTarget=X,ae=null,xs(ne)===Y&&(pe=new pe(K,z+"enter",fe,u,ne),pe.target=X,pe.relatedTarget=Et,ae=pe),Et=ae,ce&&fe)t:{for(pe=ce,K=fe,z=0,X=pe;X;X=bo(X))z++;for(X=0,ae=K;ae;ae=bo(ae))X++;for(;0<z-X;)pe=bo(pe),z--;for(;0<X-z;)K=bo(K),X--;for(;z--;){if(pe===K||K!==null&&pe===K.alternate)break t;pe=bo(pe),K=bo(K)}pe=null}else pe=null;ce!==null&&Qv(se,te,ce,pe,!1),fe!==null&&Et!==null&&Qv(se,Et,fe,pe,!0)}}e:{if(te=Y?Co(Y):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ge=wI;else if(Iv(te))if(Pv)ge=bI;else{ge=TI;var xe=xI}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=EI);if(ge&&(ge=ge(i,Y))){Av(se,ge,u,ne);break e}xe&&xe(i,te,Y),i==="focusout"&&(xe=te._wrapperState)&&xe.controlled&&te.type==="number"&&Ht(te,"number",te.value)}switch(xe=Y?Co(Y):window,i){case"focusin":(Iv(xe)||xe.contentEditable==="true")&&(To=xe,od=Y,Ua=null);break;case"focusout":Ua=od=To=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Mv(se,u,ne);break;case"selectionchange":if(RI)break;case"keydown":case"keyup":Mv(se,u,ne)}var Te;if(It)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else xo?Cv(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(ws&&u.locale!=="ko"&&(xo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&xo&&(Te=Da()):(Pn=ne,ho="value"in Pn?Pn.value:Pn.textContent,xo=!0)),xe=Fu(Y,Re),0<xe.length&&(Re=new Oa(Re,i,null,u,ne),se.push({event:Re,listeners:xe}),Te?Re.data=Te:(Te=Rv(u),Te!==null&&(Re.data=Te)))),(Te=kn?gI(i,u):yI(i,u))&&(Y=Fu(Y,"onBeforeInput"),0<Y.length&&(ne=new Oa("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:Y}),ne.data=Te))}Gv(se,o)})}function qa(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Fu(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Tt(i,u),v!=null&&f.unshift(qa(i,v,m)),v=Tt(i,o),v!=null&&f.push(qa(i,v,m))),i=i.return}return f}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Qv(i,o,u,f,m){for(var v=o._reactName,R=[];u!==null&&u!==f;){var U=u,B=U.alternate,Y=U.stateNode;if(B!==null&&B===f)break;U.tag===5&&Y!==null&&(U=Y,m?(B=Tt(u,v),B!=null&&R.unshift(qa(u,B,U))):m||(B=Tt(u,v),B!=null&&R.push(qa(u,B,U)))),u=u.return}R.length!==0&&i.push({event:o,listeners:R})}var kI=/\r\n?/g,NI=/\u0000|\uFFFD/g;function Xv(i){return(typeof i=="string"?i:""+i).replace(kI,`
`).replace(NI,"")}function Uu(i,o,u){if(o=Xv(o),Xv(i)!==o&&u)throw Error(n(425))}function Bu(){}var fd=null,pd=null;function md(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,VI=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(i){return Yv.resolve(null).then(i).catch(LI)}:gd;function LI(i){setTimeout(function(){throw i})}function yd(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),sr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);sr(o)}function bi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Jv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var So=Math.random().toString(36).slice(2),Ir="__reactFiber$"+So,za="__reactProps$"+So,Yr="__reactContainer$"+So,vd="__reactEvents$"+So,OI="__reactListeners$"+So,jI="__reactHandles$"+So;function xs(i){var o=i[Ir];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yr]||u[Ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Jv(i);i!==null;){if(u=i[Ir])return u;i=Jv(i)}return o}i=u,u=i.parentNode}return null}function Ha(i){return i=i[Ir]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Co(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function $u(i){return i[za]||null}var _d=[],Ro=-1;function Si(i){return{current:i}}function at(i){0>Ro||(i.current=_d[Ro],_d[Ro]=null,Ro--)}function nt(i,o){Ro++,_d[Ro]=i.current,i.current=o}var Ci={},tn=Si(Ci),xn=Si(!1),Ts=Ci;function Io(i,o){var u=i.type.contextTypes;if(!u)return Ci;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Tn(i){return i=i.childContextTypes,i!=null}function qu(){at(xn),at(tn)}function Zv(i,o,u){if(tn.current!==Ci)throw Error(n(168));nt(tn,o),nt(xn,u)}function e_(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Ue(i)||"Unknown",m));return ue({},u,f)}function zu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ci,Ts=tn.current,nt(tn,i),nt(xn,xn.current),!0}function t_(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=e_(i,o,Ts),f.__reactInternalMemoizedMergedChildContext=i,at(xn),at(tn),nt(tn,i)):at(xn),nt(xn,u)}var Jr=null,Hu=!1,wd=!1;function n_(i){Jr===null?Jr=[i]:Jr.push(i)}function MI(i){Hu=!0,n_(i)}function Ri(){if(!wd&&Jr!==null){wd=!0;var i=0,o=Fe;try{var u=Jr;for(Fe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Jr=null,Hu=!1}catch(m){throw Jr!==null&&(Jr=Jr.slice(i+1)),oo(fs,Ri),m}finally{Fe=o,wd=!1}}return null}var Ao=[],Po=0,Wu=null,Gu=0,$n=[],qn=0,Es=null,Zr=1,ei="";function bs(i,o){Ao[Po++]=Gu,Ao[Po++]=Wu,Wu=i,Gu=o}function r_(i,o,u){$n[qn++]=Zr,$n[qn++]=ei,$n[qn++]=Es,Es=i;var f=Zr;i=ei;var m=32-dn(f)-1;f&=~(1<<m),u+=1;var v=32-dn(o)+m;if(30<v){var R=m-m%5;v=(f&(1<<R)-1).toString(32),f>>=R,m-=R,Zr=1<<32-dn(o)+m|u<<m|f,ei=v+i}else Zr=1<<v|u<<m|f,ei=i}function xd(i){i.return!==null&&(bs(i,1),r_(i,1,0))}function Td(i){for(;i===Wu;)Wu=Ao[--Po],Ao[Po]=null,Gu=Ao[--Po],Ao[Po]=null;for(;i===Es;)Es=$n[--qn],$n[qn]=null,ei=$n[--qn],$n[qn]=null,Zr=$n[--qn],$n[qn]=null}var Nn=null,Dn=null,ct=!1,lr=null;function i_(i,o){var u=Gn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function s_(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Nn=i,Dn=bi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Nn=i,Dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Es!==null?{id:Zr,overflow:ei}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Gn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Nn=i,Dn=null,!0):!1;default:return!1}}function Ed(i){return(i.mode&1)!==0&&(i.flags&128)===0}function bd(i){if(ct){var o=Dn;if(o){var u=o;if(!s_(i,o)){if(Ed(i))throw Error(n(418));o=bi(u.nextSibling);var f=Nn;o&&s_(i,o)?i_(f,u):(i.flags=i.flags&-4097|2,ct=!1,Nn=i)}}else{if(Ed(i))throw Error(n(418));i.flags=i.flags&-4097|2,ct=!1,Nn=i}}}function o_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Nn=i}function Ku(i){if(i!==Nn)return!1;if(!ct)return o_(i),ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!md(i.type,i.memoizedProps)),o&&(o=Dn)){if(Ed(i))throw a_(),Error(n(418));for(;o;)i_(i,o),o=bi(o.nextSibling)}if(o_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Dn=bi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Dn=null}}else Dn=Nn?bi(i.stateNode.nextSibling):null;return!0}function a_(){for(var i=Dn;i;)i=bi(i.nextSibling)}function ko(){Dn=Nn=null,ct=!1}function Sd(i){lr===null?lr=[i]:lr.push(i)}var FI=L.ReactCurrentBatchConfig;function Wa(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(R){var U=m.refs;R===null?delete U[v]:U[v]=R},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Qu(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function l_(i){var o=i._init;return o(i._payload)}function u_(i){function o(K,z){if(i){var X=K.deletions;X===null?(K.deletions=[z],K.flags|=16):X.push(z)}}function u(K,z){if(!i)return null;for(;z!==null;)o(K,z),z=z.sibling;return null}function f(K,z){for(K=new Map;z!==null;)z.key!==null?K.set(z.key,z):K.set(z.index,z),z=z.sibling;return K}function m(K,z){return K=Li(K,z),K.index=0,K.sibling=null,K}function v(K,z,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<z?(K.flags|=2,z):X):(K.flags|=2,z)):(K.flags|=1048576,z)}function R(K){return i&&K.alternate===null&&(K.flags|=2),K}function U(K,z,X,ae){return z===null||z.tag!==6?(z=yf(X,K.mode,ae),z.return=K,z):(z=m(z,X),z.return=K,z)}function B(K,z,X,ae){var ge=X.type;return ge===P?ne(K,z,X.props.children,ae,X.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&l_(ge)===z.type)?(ae=m(z,X.props),ae.ref=Wa(K,z,X),ae.return=K,ae):(ae=_c(X.type,X.key,X.props,null,K.mode,ae),ae.ref=Wa(K,z,X),ae.return=K,ae)}function Y(K,z,X,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=vf(X,K.mode,ae),z.return=K,z):(z=m(z,X.children||[]),z.return=K,z)}function ne(K,z,X,ae,ge){return z===null||z.tag!==7?(z=Ns(X,K.mode,ae,ge),z.return=K,z):(z=m(z,X),z.return=K,z)}function se(K,z,X){if(typeof z=="string"&&z!==""||typeof z=="number")return z=yf(""+z,K.mode,X),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return X=_c(z.type,z.key,z.props,null,K.mode,X),X.ref=Wa(K,null,z),X.return=K,X;case Q:return z=vf(z,K.mode,X),z.return=K,z;case be:var ae=z._init;return se(K,ae(z._payload),X)}if(rt(z)||me(z))return z=Ns(z,K.mode,X,null),z.return=K,z;Qu(K,z)}return null}function te(K,z,X,ae){var ge=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ge!==null?null:U(K,z,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case $:return X.key===ge?B(K,z,X,ae):null;case Q:return X.key===ge?Y(K,z,X,ae):null;case be:return ge=X._init,te(K,z,ge(X._payload),ae)}if(rt(X)||me(X))return ge!==null?null:ne(K,z,X,ae,null);Qu(K,X)}return null}function ce(K,z,X,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return K=K.get(X)||null,U(z,K,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case $:return K=K.get(ae.key===null?X:ae.key)||null,B(z,K,ae,ge);case Q:return K=K.get(ae.key===null?X:ae.key)||null,Y(z,K,ae,ge);case be:var xe=ae._init;return ce(K,z,X,xe(ae._payload),ge)}if(rt(ae)||me(ae))return K=K.get(X)||null,ne(z,K,ae,ge,null);Qu(z,ae)}return null}function fe(K,z,X,ae){for(var ge=null,xe=null,Te=z,Re=z=0,$t=null;Te!==null&&Re<X.length;Re++){Te.index>Re?($t=Te,Te=null):$t=Te.sibling;var Ge=te(K,Te,X[Re],ae);if(Ge===null){Te===null&&(Te=$t);break}i&&Te&&Ge.alternate===null&&o(K,Te),z=v(Ge,z,Re),xe===null?ge=Ge:xe.sibling=Ge,xe=Ge,Te=$t}if(Re===X.length)return u(K,Te),ct&&bs(K,Re),ge;if(Te===null){for(;Re<X.length;Re++)Te=se(K,X[Re],ae),Te!==null&&(z=v(Te,z,Re),xe===null?ge=Te:xe.sibling=Te,xe=Te);return ct&&bs(K,Re),ge}for(Te=f(K,Te);Re<X.length;Re++)$t=ce(Te,K,Re,X[Re],ae),$t!==null&&(i&&$t.alternate!==null&&Te.delete($t.key===null?Re:$t.key),z=v($t,z,Re),xe===null?ge=$t:xe.sibling=$t,xe=$t);return i&&Te.forEach(function(Oi){return o(K,Oi)}),ct&&bs(K,Re),ge}function pe(K,z,X,ae){var ge=me(X);if(typeof ge!="function")throw Error(n(150));if(X=ge.call(X),X==null)throw Error(n(151));for(var xe=ge=null,Te=z,Re=z=0,$t=null,Ge=X.next();Te!==null&&!Ge.done;Re++,Ge=X.next()){Te.index>Re?($t=Te,Te=null):$t=Te.sibling;var Oi=te(K,Te,Ge.value,ae);if(Oi===null){Te===null&&(Te=$t);break}i&&Te&&Oi.alternate===null&&o(K,Te),z=v(Oi,z,Re),xe===null?ge=Oi:xe.sibling=Oi,xe=Oi,Te=$t}if(Ge.done)return u(K,Te),ct&&bs(K,Re),ge;if(Te===null){for(;!Ge.done;Re++,Ge=X.next())Ge=se(K,Ge.value,ae),Ge!==null&&(z=v(Ge,z,Re),xe===null?ge=Ge:xe.sibling=Ge,xe=Ge);return ct&&bs(K,Re),ge}for(Te=f(K,Te);!Ge.done;Re++,Ge=X.next())Ge=ce(Te,K,Re,Ge.value,ae),Ge!==null&&(i&&Ge.alternate!==null&&Te.delete(Ge.key===null?Re:Ge.key),z=v(Ge,z,Re),xe===null?ge=Ge:xe.sibling=Ge,xe=Ge);return i&&Te.forEach(function(yA){return o(K,yA)}),ct&&bs(K,Re),ge}function Et(K,z,X,ae){if(typeof X=="object"&&X!==null&&X.type===P&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case $:e:{for(var ge=X.key,xe=z;xe!==null;){if(xe.key===ge){if(ge=X.type,ge===P){if(xe.tag===7){u(K,xe.sibling),z=m(xe,X.props.children),z.return=K,K=z;break e}}else if(xe.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&l_(ge)===xe.type){u(K,xe.sibling),z=m(xe,X.props),z.ref=Wa(K,xe,X),z.return=K,K=z;break e}u(K,xe);break}else o(K,xe);xe=xe.sibling}X.type===P?(z=Ns(X.props.children,K.mode,ae,X.key),z.return=K,K=z):(ae=_c(X.type,X.key,X.props,null,K.mode,ae),ae.ref=Wa(K,z,X),ae.return=K,K=ae)}return R(K);case Q:e:{for(xe=X.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){u(K,z.sibling),z=m(z,X.children||[]),z.return=K,K=z;break e}else{u(K,z);break}else o(K,z);z=z.sibling}z=vf(X,K.mode,ae),z.return=K,K=z}return R(K);case be:return xe=X._init,Et(K,z,xe(X._payload),ae)}if(rt(X))return fe(K,z,X,ae);if(me(X))return pe(K,z,X,ae);Qu(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,z!==null&&z.tag===6?(u(K,z.sibling),z=m(z,X),z.return=K,K=z):(u(K,z),z=yf(X,K.mode,ae),z.return=K,K=z),R(K)):u(K,z)}return Et}var No=u_(!0),c_=u_(!1),Xu=Si(null),Yu=null,Do=null,Cd=null;function Rd(){Cd=Do=Yu=null}function Id(i){var o=Xu.current;at(Xu),i._currentValue=o}function Ad(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Vo(i,o){Yu=i,Cd=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(En=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(Cd!==i)if(i={context:i,memoizedValue:o,next:null},Do===null){if(Yu===null)throw Error(n(308));Do=i,Yu.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return o}var Ss=null;function Pd(i){Ss===null?Ss=[i]:Ss.push(i)}function h_(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Pd(o)):(u.next=m.next,m.next=u),o.interleaved=u,ti(i,f)}function ti(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ii=!1;function kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ni(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,We&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,ti(i,u)}return m=f.interleaved,m===null?(o.next=o,Pd(f)):(o.next=m.next,m.next=o),f.interleaved=o,ti(i,u)}function Ju(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}function f_(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Zu(i,o,u,f){var m=i.updateQueue;Ii=!1;var v=m.firstBaseUpdate,R=m.lastBaseUpdate,U=m.shared.pending;if(U!==null){m.shared.pending=null;var B=U,Y=B.next;B.next=null,R===null?v=Y:R.next=Y,R=B;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,U=ne.lastBaseUpdate,U!==R&&(U===null?ne.firstBaseUpdate=Y:U.next=Y,ne.lastBaseUpdate=B))}if(v!==null){var se=m.baseState;R=0,ne=Y=B=null,U=v;do{var te=U.lane,ce=U.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var fe=i,pe=U;switch(te=o,ce=u,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){se=fe.call(ce,se,te);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,se,te):fe,te==null)break e;se=ue({},se,te);break e;case 2:Ii=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[U]:te.push(U))}else ce={eventTime:ce,lane:te,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ne===null?(Y=ne=ce,B=se):ne=ne.next=ce,R|=te;if(U=U.next,U===null){if(U=m.shared.pending,U===null)break;te=U,U=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(B=se),m.baseState=B,m.firstBaseUpdate=Y,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do R|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Is|=R,i.lanes=R,i.memoizedState=se}}function p_(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var Ga={},Ar=Si(Ga),Ka=Si(Ga),Qa=Si(Ga);function Cs(i){if(i===Ga)throw Error(n(174));return i}function Nd(i,o){switch(nt(Qa,o),nt(Ka,i),nt(Ar,Ga),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ie(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ie(o,i)}at(Ar),nt(Ar,o)}function Lo(){at(Ar),at(Ka),at(Qa)}function m_(i){Cs(Qa.current);var o=Cs(Ar.current),u=ie(o,i.type);o!==u&&(nt(Ka,i),nt(Ar,u))}function Dd(i){Ka.current===i&&(at(Ar),at(Ka))}var ht=Si(0);function ec(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vd=[];function Ld(){for(var i=0;i<Vd.length;i++)Vd[i]._workInProgressVersionPrimary=null;Vd.length=0}var tc=L.ReactCurrentDispatcher,Od=L.ReactCurrentBatchConfig,Rs=0,dt=null,Lt=null,Ut=null,nc=!1,Xa=!1,Ya=0,UI=0;function nn(){throw Error(n(321))}function jd(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!ar(i[u],o[u]))return!1;return!0}function Md(i,o,u,f,m,v){if(Rs=v,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,tc.current=i===null||i.memoizedState===null?zI:HI,i=u(f,m),Xa){v=0;do{if(Xa=!1,Ya=0,25<=v)throw Error(n(301));v+=1,Ut=Lt=null,o.updateQueue=null,tc.current=WI,i=u(f,m)}while(Xa)}if(tc.current=sc,o=Lt!==null&&Lt.next!==null,Rs=0,Ut=Lt=dt=null,nc=!1,o)throw Error(n(300));return i}function Fd(){var i=Ya!==0;return Ya=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?dt.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Hn(){if(Lt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=Ut===null?dt.memoizedState:Ut.next;if(o!==null)Ut=o,Lt=i;else{if(i===null)throw Error(n(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ut===null?dt.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Ja(i,o){return typeof o=="function"?o(i):o}function Ud(i){var o=Hn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Lt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var R=m.next;m.next=v.next,v.next=R}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var U=R=null,B=null,Y=v;do{var ne=Y.lane;if((Rs&ne)===ne)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:i(f,Y.action);else{var se={lane:ne,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(U=B=se,R=f):B=B.next=se,dt.lanes|=ne,Is|=ne}Y=Y.next}while(Y!==null&&Y!==v);B===null?R=f:B.next=U,ar(f,o.memoizedState)||(En=!0),o.memoizedState=f,o.baseState=R,o.baseQueue=B,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,dt.lanes|=v,Is|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bd(i){var o=Hn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do v=i(v,R.action),R=R.next;while(R!==m);ar(v,o.memoizedState)||(En=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function g_(){}function y_(i,o){var u=dt,f=Hn(),m=o(),v=!ar(f.memoizedState,m);if(v&&(f.memoizedState=m,En=!0),f=f.queue,$d(w_.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Za(9,__.bind(null,u,f,m,o),void 0,null),Bt===null)throw Error(n(349));Rs&30||v_(u,o,m)}return m}function v_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function __(i,o,u,f){o.value=u,o.getSnapshot=f,x_(o)&&T_(i)}function w_(i,o,u){return u(function(){x_(o)&&T_(i)})}function x_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!ar(i,u)}catch{return!0}}function T_(i){var o=ti(i,1);o!==null&&dr(o,i,1,-1)}function E_(i){var o=Pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:i},o.queue=i,i=i.dispatch=qI.bind(null,dt,i),[o.memoizedState,i]}function Za(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function b_(){return Hn().memoizedState}function rc(i,o,u,f){var m=Pr();dt.flags|=i,m.memoizedState=Za(1|o,u,void 0,f===void 0?null:f)}function ic(i,o,u,f){var m=Hn();f=f===void 0?null:f;var v=void 0;if(Lt!==null){var R=Lt.memoizedState;if(v=R.destroy,f!==null&&jd(f,R.deps)){m.memoizedState=Za(o,u,v,f);return}}dt.flags|=i,m.memoizedState=Za(1|o,u,v,f)}function S_(i,o){return rc(8390656,8,i,o)}function $d(i,o){return ic(2048,8,i,o)}function C_(i,o){return ic(4,2,i,o)}function R_(i,o){return ic(4,4,i,o)}function I_(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function A_(i,o,u){return u=u!=null?u.concat([i]):null,ic(4,4,I_.bind(null,o,i),u)}function qd(){}function P_(i,o){var u=Hn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jd(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function k_(i,o){var u=Hn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&jd(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function N_(i,o,u){return Rs&21?(ar(u,o)||(u=gs(),dt.lanes|=u,Is|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,En=!0),i.memoizedState=u)}function BI(i,o){var u=Fe;Fe=u!==0&&4>u?u:4,i(!0);var f=Od.transition;Od.transition={};try{i(!1),o()}finally{Fe=u,Od.transition=f}}function D_(){return Hn().memoizedState}function $I(i,o,u){var f=Di(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},V_(i))L_(o,u);else if(u=h_(i,o,u,f),u!==null){var m=mn();dr(u,i,f,m),O_(u,o,f)}}function qI(i,o,u){var f=Di(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(V_(i))L_(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var R=o.lastRenderedState,U=v(R,u);if(m.hasEagerState=!0,m.eagerState=U,ar(U,R)){var B=o.interleaved;B===null?(m.next=m,Pd(o)):(m.next=B.next,B.next=m),o.interleaved=m;return}}catch{}finally{}u=h_(i,o,m,f),u!==null&&(m=mn(),dr(u,i,f,m),O_(u,o,f))}}function V_(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function L_(i,o){Xa=nc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function O_(i,o,u){if(u&4194240){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,vi(i,u)}}var sc={readContext:zn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},zI={readContext:zn,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:S_,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,rc(4194308,4,I_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return rc(4194308,4,i,o)},useInsertionEffect:function(i,o){return rc(4,2,i,o)},useMemo:function(i,o){var u=Pr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Pr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=$I.bind(null,dt,i),[f.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:E_,useDebugValue:qd,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=E_(!1),o=i[0];return i=BI.bind(null,i[1]),Pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=dt,m=Pr();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Bt===null)throw Error(n(349));Rs&30||v_(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,S_(w_.bind(null,f,v,i),[i]),f.flags|=2048,Za(9,__.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Pr(),o=Bt.identifierPrefix;if(ct){var u=ei,f=Zr;u=(f&~(1<<32-dn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ya++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=UI++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},HI={readContext:zn,useCallback:P_,useContext:zn,useEffect:$d,useImperativeHandle:A_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:k_,useReducer:Ud,useRef:b_,useState:function(){return Ud(Ja)},useDebugValue:qd,useDeferredValue:function(i){var o=Hn();return N_(o,Lt.memoizedState,i)},useTransition:function(){var i=Ud(Ja)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:g_,useSyncExternalStore:y_,useId:D_,unstable_isNewReconciler:!1},WI={readContext:zn,useCallback:P_,useContext:zn,useEffect:$d,useImperativeHandle:A_,useInsertionEffect:C_,useLayoutEffect:R_,useMemo:k_,useReducer:Bd,useRef:b_,useState:function(){return Bd(Ja)},useDebugValue:qd,useDeferredValue:function(i){var o=Hn();return Lt===null?o.memoizedState=i:N_(o,Lt.memoizedState,i)},useTransition:function(){var i=Bd(Ja)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:g_,useSyncExternalStore:y_,useId:D_,unstable_isNewReconciler:!1};function ur(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function zd(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var oc={isMounted:function(i){return(i=i._reactInternals)?er(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=mn(),m=Di(i),v=ni(f,m);v.payload=o,u!=null&&(v.callback=u),o=Ai(i,v,m),o!==null&&(dr(o,i,m,f),Ju(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=mn(),m=Di(i),v=ni(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ai(i,v,m),o!==null&&(dr(o,i,m,f),Ju(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=mn(),f=Di(i),m=ni(u,f);m.tag=2,o!=null&&(m.callback=o),o=Ai(i,m,f),o!==null&&(dr(o,i,f,u),Ju(o,i,f))}};function j_(i,o,u,f,m,v,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,R):o.prototype&&o.prototype.isPureReactComponent?!Fa(u,f)||!Fa(m,v):!0}function M_(i,o,u){var f=!1,m=Ci,v=o.contextType;return typeof v=="object"&&v!==null?v=zn(v):(m=Tn(o)?Ts:tn.current,f=o.contextTypes,v=(f=f!=null)?Io(i,m):Ci),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=oc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function F_(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&oc.enqueueReplaceState(o,o.state,null)}function Hd(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},kd(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=zn(v):(v=Tn(o)?Ts:tn.current,m.context=Io(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(zd(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&oc.enqueueReplaceState(m,m.state,null),Zu(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Oo(i,o){try{var u="",f=o;do u+=ke(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Wd(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Gd(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function U_(i,o,u){u=ni(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){fc||(fc=!0,uf=f),Gd(i,o)},u}function B_(i,o,u){u=ni(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Gd(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Gd(i,o),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function $_(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new GI;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=aA.bind(null,i,o,u),o.then(i,i))}function q_(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function z_(i,o,u,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ni(-1,1),o.tag=2,Ai(u,o,1))),u.lanes|=1),i)}var KI=L.ReactCurrentOwner,En=!1;function pn(i,o,u,f){o.child=i===null?c_(o,null,u,f):No(o,i.child,u,f)}function H_(i,o,u,f,m){u=u.render;var v=o.ref;return Vo(o,m),f=Md(i,o,u,f,v,m),u=Fd(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ri(i,o,m)):(ct&&u&&xd(o),o.flags|=1,pn(i,o,f,m),o.child)}function W_(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!gf(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,G_(i,o,v,f,m)):(i=_c(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:Fa,u(R,f)&&i.ref===o.ref)return ri(i,o,m)}return o.flags|=1,i=Li(v,f),i.ref=o.ref,i.return=o,o.child=i}function G_(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(Fa(v,f)&&i.ref===o.ref)if(En=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&(En=!0);else return o.lanes=i.lanes,ri(i,o,m)}return Kd(i,o,u,f,m)}function K_(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Mo,Vn),Vn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,nt(Mo,Vn),Vn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,nt(Mo,Vn),Vn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,nt(Mo,Vn),Vn|=f;return pn(i,o,m,u),o.child}function Q_(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Kd(i,o,u,f,m){var v=Tn(u)?Ts:tn.current;return v=Io(o,v),Vo(o,m),u=Md(i,o,u,f,v,m),f=Fd(),i!==null&&!En?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ri(i,o,m)):(ct&&f&&xd(o),o.flags|=1,pn(i,o,u,m),o.child)}function X_(i,o,u,f,m){if(Tn(u)){var v=!0;zu(o)}else v=!1;if(Vo(o,m),o.stateNode===null)lc(i,o),M_(o,u,f),Hd(o,u,f,m),f=!0;else if(i===null){var R=o.stateNode,U=o.memoizedProps;R.props=U;var B=R.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=zn(Y):(Y=Tn(u)?Ts:tn.current,Y=Io(o,Y));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof R.getSnapshotBeforeUpdate=="function";se||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(U!==f||B!==Y)&&F_(o,R,f,Y),Ii=!1;var te=o.memoizedState;R.state=te,Zu(o,f,R,m),B=o.memoizedState,U!==f||te!==B||xn.current||Ii?(typeof ne=="function"&&(zd(o,u,ne,f),B=o.memoizedState),(U=Ii||j_(o,u,U,f,te,B,Y))?(se||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),R.props=f,R.state=B,R.context=Y,f=U):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{R=o.stateNode,d_(i,o),U=o.memoizedProps,Y=o.type===o.elementType?U:ur(o.type,U),R.props=Y,se=o.pendingProps,te=R.context,B=u.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=Tn(u)?Ts:tn.current,B=Io(o,B));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(U!==se||te!==B)&&F_(o,R,f,B),Ii=!1,te=o.memoizedState,R.state=te,Zu(o,f,R,m);var fe=o.memoizedState;U!==se||te!==fe||xn.current||Ii?(typeof ce=="function"&&(zd(o,u,ce,f),fe=o.memoizedState),(Y=Ii||j_(o,u,Y,f,te,fe,B)||!1)?(ne||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(f,fe,B),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(f,fe,B)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||U===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=fe),R.props=f,R.state=fe,R.context=B,f=Y):(typeof R.componentDidUpdate!="function"||U===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),f=!1)}return Qd(i,o,u,f,v,m)}function Qd(i,o,u,f,m,v){Q_(i,o);var R=(o.flags&128)!==0;if(!f&&!R)return m&&t_(o,u,!1),ri(i,o,v);f=o.stateNode,KI.current=o;var U=R&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&R?(o.child=No(o,i.child,null,v),o.child=No(o,null,U,v)):pn(i,o,U,v),o.memoizedState=f.state,m&&t_(o,u,!0),o.child}function Y_(i){var o=i.stateNode;o.pendingContext?Zv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Zv(i,o.context,!1),Nd(i,o.containerInfo)}function J_(i,o,u,f,m){return ko(),Sd(m),o.flags|=256,pn(i,o,u,f),o.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Yd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Z_(i,o,u){var f=o.pendingProps,m=ht.current,v=!1,R=(o.flags&128)!==0,U;if((U=R)||(U=i!==null&&i.memoizedState===null?!1:(m&2)!==0),U?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),nt(ht,m&1),i===null)return bd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(R=f.children,i=f.fallback,v?(f=o.mode,v=o.child,R={mode:"hidden",children:R},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=R):v=wc(R,f,0,null),i=Ns(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Yd(u),o.memoizedState=Xd,i):Jd(o,R));if(m=i.memoizedState,m!==null&&(U=m.dehydrated,U!==null))return QI(i,o,R,f,U,m,u);if(v){v=f.fallback,R=o.mode,m=i.child,U=m.sibling;var B={mode:"hidden",children:f.children};return!(R&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=Li(m,B),f.subtreeFlags=m.subtreeFlags&14680064),U!==null?v=Li(U,v):(v=Ns(v,R,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,R=i.child.memoizedState,R=R===null?Yd(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},v.memoizedState=R,v.childLanes=i.childLanes&~u,o.memoizedState=Xd,f}return v=i.child,i=v.sibling,f=Li(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Jd(i,o){return o=wc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ac(i,o,u,f){return f!==null&&Sd(f),No(o,i.child,null,u),i=Jd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function QI(i,o,u,f,m,v,R){if(u)return o.flags&256?(o.flags&=-257,f=Wd(Error(n(422))),ac(i,o,R,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=wc({mode:"visible",children:f.children},m,0,null),v=Ns(v,m,R,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&No(o,i.child,null,R),o.child.memoizedState=Yd(R),o.memoizedState=Xd,v);if(!(o.mode&1))return ac(i,o,R,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var U=f.dgst;return f=U,v=Error(n(419)),f=Wd(v,f,void 0),ac(i,o,R,f)}if(U=(R&i.childLanes)!==0,En||U){if(f=Bt,f!==null){switch(R&-R){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|R)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ti(i,m),dr(f,i,m,-1))}return mf(),f=Wd(Error(n(421))),ac(i,o,R,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=lA.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Dn=bi(m.nextSibling),Nn=o,ct=!0,lr=null,i!==null&&($n[qn++]=Zr,$n[qn++]=ei,$n[qn++]=Es,Zr=i.id,ei=i.overflow,Es=o),o=Jd(o,f.children),o.flags|=4096,o)}function ew(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Ad(i.return,o,u)}function Zd(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function tw(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(pn(i,o,f.children,u),f=ht.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ew(i,u,o);else if(i.tag===19)ew(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(nt(ht,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&ec(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Zd(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&ec(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Zd(o,!0,u,null,v);break;case"together":Zd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function lc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ri(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Is|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Li(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function XI(i,o,u){switch(o.tag){case 3:Y_(o),ko();break;case 5:m_(o);break;case 1:Tn(o.type)&&zu(o);break;case 4:Nd(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;nt(Xu,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):u&o.child.childLanes?Z_(i,o,u):(nt(ht,ht.current&1),i=ri(i,o,u),i!==null?i.sibling:null);nt(ht,ht.current&1);break;case 19:if(f=(u&o.childLanes)!==0,i.flags&128){if(f)return tw(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(ht,ht.current),f)break;return null;case 22:case 23:return o.lanes=0,K_(i,o,u)}return ri(i,o,u)}var nw,ef,rw,iw;nw=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ef=function(){},rw=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Cs(Ar.current);var v=null;switch(u){case"input":m=zr(i,m),f=zr(i,f),v=[];break;case"select":m=ue({},m,{value:void 0}),f=ue({},f,{value:void 0}),v=[];break;case"textarea":m=Ze(i,m),f=Ze(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Bu)}wa(u,f);var R;u=null;for(Y in m)if(!f.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var U=m[Y];for(R in U)U.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?v||(v=[]):(v=v||[]).push(Y,null));for(Y in f){var B=f[Y];if(U=m!=null?m[Y]:void 0,f.hasOwnProperty(Y)&&B!==U&&(B!=null||U!=null))if(Y==="style")if(U){for(R in U)!U.hasOwnProperty(R)||B&&B.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in B)B.hasOwnProperty(R)&&U[R]!==B[R]&&(u||(u={}),u[R]=B[R])}else u||(v||(v=[]),v.push(Y,u)),u=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,U=U?U.__html:void 0,B!=null&&U!==B&&(v=v||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(v=v||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&ot("scroll",i),v||U===B||(v=[])):(v=v||[]).push(Y,B))}u&&(v=v||[]).push("style",u);var Y=v;(o.updateQueue=Y)&&(o.flags|=4)}},iw=function(i,o,u,f){u!==f&&(o.flags|=4)};function el(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function rn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function YI(i,o,u){var f=o.pendingProps;switch(Td(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return Tn(o.type)&&qu(),rn(o),null;case 3:return f=o.stateNode,Lo(),at(xn),at(tn),Ld(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Ku(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,lr!==null&&(df(lr),lr=null))),ef(i,o),rn(o),null;case 5:Dd(o);var m=Cs(Qa.current);if(u=o.type,i!==null&&o.stateNode!=null)rw(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return rn(o),null}if(i=Cs(Ar.current),Ku(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Ir]=o,f[za]=v,i=(o.mode&1)!==0,u){case"dialog":ot("cancel",f),ot("close",f);break;case"iframe":case"object":case"embed":ot("load",f);break;case"video":case"audio":for(m=0;m<Ba.length;m++)ot(Ba[m],f);break;case"source":ot("error",f);break;case"img":case"image":case"link":ot("error",f),ot("load",f);break;case"details":ot("toggle",f);break;case"input":ss(f,v),ot("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},ot("invalid",f);break;case"textarea":vn(f,v),ot("invalid",f)}wa(u,v),m=null;for(var R in v)if(v.hasOwnProperty(R)){var U=v[R];R==="children"?typeof U=="string"?f.textContent!==U&&(v.suppressHydrationWarning!==!0&&Uu(f.textContent,U,i),m=["children",U]):typeof U=="number"&&f.textContent!==""+U&&(v.suppressHydrationWarning!==!0&&Uu(f.textContent,U,i),m=["children",""+U]):s.hasOwnProperty(R)&&U!=null&&R==="onScroll"&&ot("scroll",f)}switch(u){case"input":Nt(f),hn(f,v,!0);break;case"textarea":Nt(f),Be(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Bu)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{R=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=He(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=R.createElement(u,{is:f.is}):(i=R.createElement(u),u==="select"&&(R=i,f.multiple?R.multiple=!0:f.size&&(R.size=f.size))):i=R.createElementNS(i,u),i[Ir]=o,i[za]=f,nw(i,o,!1,!1),o.stateNode=i;e:{switch(R=xa(u,f),u){case"dialog":ot("cancel",i),ot("close",i),m=f;break;case"iframe":case"object":case"embed":ot("load",i),m=f;break;case"video":case"audio":for(m=0;m<Ba.length;m++)ot(Ba[m],i);m=f;break;case"source":ot("error",i),m=f;break;case"img":case"image":case"link":ot("error",i),ot("load",i),m=f;break;case"details":ot("toggle",i),m=f;break;case"input":ss(i,f),m=zr(i,f),ot("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ue({},f,{value:void 0}),ot("invalid",i);break;case"textarea":vn(i,f),m=Ze(i,f),ot("invalid",i);break;default:m=f}wa(u,m),U=m;for(v in U)if(U.hasOwnProperty(v)){var B=U[v];v==="style"?va(i,B):v==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Dt(i,B)):v==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&st(i,B):typeof B=="number"&&st(i,""+B):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?B!=null&&v==="onScroll"&&ot("scroll",i):B!=null&&j(i,v,B,R))}switch(u){case"input":Nt(i),hn(i,f,!1);break;case"textarea":Nt(i),Be(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Me(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?it(i,!!f.multiple,v,!1):f.defaultValue!=null&&it(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Bu)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return rn(o),null;case 6:if(i&&o.stateNode!=null)iw(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Cs(Qa.current),Cs(Ar.current),Ku(o)){if(f=o.stateNode,u=o.memoizedProps,f[Ir]=o,(v=f.nodeValue!==u)&&(i=Nn,i!==null))switch(i.tag){case 3:Uu(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Uu(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Ir]=o,o.stateNode=f}return rn(o),null;case 13:if(at(ht),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ct&&Dn!==null&&o.mode&1&&!(o.flags&128))a_(),ko(),o.flags|=98560,v=!1;else if(v=Ku(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Ir]=o}else ko(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;rn(o),v=!1}else lr!==null&&(df(lr),lr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||ht.current&1?Ot===0&&(Ot=3):mf())),o.updateQueue!==null&&(o.flags|=4),rn(o),null);case 4:return Lo(),ef(i,o),i===null&&$a(o.stateNode.containerInfo),rn(o),null;case 10:return Id(o.type._context),rn(o),null;case 17:return Tn(o.type)&&qu(),rn(o),null;case 19:if(at(ht),v=o.memoizedState,v===null)return rn(o),null;if(f=(o.flags&128)!==0,R=v.rendering,R===null)if(f)el(v,!1);else{if(Ot!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(R=ec(i),R!==null){for(o.flags|=128,el(v,!1),f=R.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,R=v.alternate,R===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=R.childLanes,v.lanes=R.lanes,v.child=R.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=R.memoizedProps,v.memoizedState=R.memoizedState,v.updateQueue=R.updateQueue,v.type=R.type,i=R.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return nt(ht,ht.current&1|2),o.child}i=i.sibling}v.tail!==null&&tt()>Fo&&(o.flags|=128,f=!0,el(v,!1),o.lanes=4194304)}else{if(!f)if(i=ec(R),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),el(v,!0),v.tail===null&&v.tailMode==="hidden"&&!R.alternate&&!ct)return rn(o),null}else 2*tt()-v.renderingStartTime>Fo&&u!==1073741824&&(o.flags|=128,f=!0,el(v,!1),o.lanes=4194304);v.isBackwards?(R.sibling=o.child,o.child=R):(u=v.last,u!==null?u.sibling=R:o.child=R,v.last=R)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=tt(),o.sibling=null,u=ht.current,nt(ht,f?u&1|2:u&1),o):(rn(o),null);case 22:case 23:return pf(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Vn&1073741824&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function JI(i,o){switch(Td(o),o.tag){case 1:return Tn(o.type)&&qu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Lo(),at(xn),at(tn),Ld(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Dd(o),null;case 13:if(at(ht),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ko()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return at(ht),null;case 4:return Lo(),null;case 10:return Id(o.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var uc=!1,sn=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,de=null;function jo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){vt(i,o,f)}else u.current=null}function tf(i,o,u){try{u()}catch(f){vt(i,o,f)}}var sw=!1;function eA(i,o){if(fd=xi,i=jv(),sd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var R=0,U=-1,B=-1,Y=0,ne=0,se=i,te=null;t:for(;;){for(var ce;se!==u||m!==0&&se.nodeType!==3||(U=R+m),se!==v||f!==0&&se.nodeType!==3||(B=R+f),se.nodeType===3&&(R+=se.nodeValue.length),(ce=se.firstChild)!==null;)te=se,se=ce;for(;;){if(se===i)break t;if(te===u&&++Y===m&&(U=R),te===v&&++ne===f&&(B=R),(ce=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ce}u=U===-1||B===-1?null:{start:U,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(pd={focusedElem:i,selectionRange:u},xi=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Et=fe.memoizedState,K=o.stateNode,z=K.getSnapshotBeforeUpdate(o.elementType===o.type?pe:ur(o.type,pe),Et);K.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){vt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return fe=sw,sw=!1,fe}function tl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&tf(o,u,v)}m=m.next}while(m!==f)}}function cc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function nf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function ow(i){var o=i.alternate;o!==null&&(i.alternate=null,ow(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ir],delete o[za],delete o[vd],delete o[OI],delete o[jI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function aw(i){return i.tag===5||i.tag===3||i.tag===4}function lw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||aw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Bu));else if(f!==4&&(i=i.child,i!==null))for(rf(i,o,u),i=i.sibling;i!==null;)rf(i,o,u),i=i.sibling}function sf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(sf(i,o,u),i=i.sibling;i!==null;)sf(i,o,u),i=i.sibling}var Kt=null,cr=!1;function Pi(i,o,u){for(u=u.child;u!==null;)uw(i,o,u),u=u.sibling}function uw(i,o,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(ps,u)}catch{}switch(u.tag){case 5:sn||jo(u,o);case 6:var f=Kt,m=cr;Kt=null,Pi(i,o,u),Kt=f,cr=m,Kt!==null&&(cr?(i=Kt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Kt.removeChild(u.stateNode));break;case 18:Kt!==null&&(cr?(i=Kt,u=u.stateNode,i.nodeType===8?yd(i.parentNode,u):i.nodeType===1&&yd(i,u),sr(i)):yd(Kt,u.stateNode));break;case 4:f=Kt,m=cr,Kt=u.stateNode.containerInfo,cr=!0,Pi(i,o,u),Kt=f,cr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,R=v.destroy;v=v.tag,R!==void 0&&(v&2||v&4)&&tf(u,o,R),m=m.next}while(m!==f)}Pi(i,o,u);break;case 1:if(!sn&&(jo(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(U){vt(u,o,U)}Pi(i,o,u);break;case 21:Pi(i,o,u);break;case 22:u.mode&1?(sn=(f=sn)||u.memoizedState!==null,Pi(i,o,u),sn=f):Pi(i,o,u);break;default:Pi(i,o,u)}}function cw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new ZI),o.forEach(function(f){var m=uA.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function hr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,R=o,U=R;e:for(;U!==null;){switch(U.tag){case 5:Kt=U.stateNode,cr=!1;break e;case 3:Kt=U.stateNode.containerInfo,cr=!0;break e;case 4:Kt=U.stateNode.containerInfo,cr=!0;break e}U=U.return}if(Kt===null)throw Error(n(160));uw(v,R,m),Kt=null,cr=!1;var B=m.alternate;B!==null&&(B.return=null),m.return=null}catch(Y){vt(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)hw(o,i),o=o.sibling}function hw(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(hr(o,i),kr(i),f&4){try{tl(3,i,i.return),cc(3,i)}catch(pe){vt(i,i.return,pe)}try{tl(5,i,i.return)}catch(pe){vt(i,i.return,pe)}}break;case 1:hr(o,i),kr(i),f&512&&u!==null&&jo(u,u.return);break;case 5:if(hr(o,i),kr(i),f&512&&u!==null&&jo(u,u.return),i.flags&32){var m=i.stateNode;try{st(m,"")}catch(pe){vt(i,i.return,pe)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,R=u!==null?u.memoizedProps:v,U=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{U==="input"&&v.type==="radio"&&v.name!=null&&os(m,v),xa(U,R);var Y=xa(U,v);for(R=0;R<B.length;R+=2){var ne=B[R],se=B[R+1];ne==="style"?va(m,se):ne==="dangerouslySetInnerHTML"?Dt(m,se):ne==="children"?st(m,se):j(m,ne,se,Y)}switch(U){case"input":Rt(m,v);break;case"textarea":en(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?it(m,!!v.multiple,ce,!1):te!==!!v.multiple&&(v.defaultValue!=null?it(m,!!v.multiple,v.defaultValue,!0):it(m,!!v.multiple,v.multiple?[]:"",!1))}m[za]=v}catch(pe){vt(i,i.return,pe)}}break;case 6:if(hr(o,i),kr(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(pe){vt(i,i.return,pe)}}break;case 3:if(hr(o,i),kr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{sr(o.containerInfo)}catch(pe){vt(i,i.return,pe)}break;case 4:hr(o,i),kr(i);break;case 13:hr(o,i),kr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(lf=tt())),f&4&&cw(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(sn=(Y=sn)||ne,hr(o,i),sn=Y):hr(o,i),kr(i),f&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!ne&&i.mode&1)for(de=i,ne=i.child;ne!==null;){for(se=de=ne;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:tl(4,te,te.return);break;case 1:jo(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){f=te,u=te.return;try{o=f,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){vt(f,u,pe)}}break;case 5:jo(te,te.return);break;case 22:if(te.memoizedState!==null){pw(se);continue}}ce!==null?(ce.return=te,de=ce):pw(se)}ne=ne.sibling}e:for(ne=null,se=i;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,Y?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(U=se.stateNode,B=se.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null,U.style.display=ya("display",R))}catch(pe){vt(i,i.return,pe)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(pe){vt(i,i.return,pe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:hr(o,i),kr(i),f&4&&cw(i);break;case 21:break;default:hr(o,i),kr(i)}}function kr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(aw(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(st(m,""),f.flags&=-33);var v=lw(i);sf(i,v,m);break;case 3:case 4:var R=f.stateNode.containerInfo,U=lw(i);rf(i,U,R);break;default:throw Error(n(161))}}catch(B){vt(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function tA(i,o,u){de=i,dw(i)}function dw(i,o,u){for(var f=(i.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&f){var R=m.memoizedState!==null||uc;if(!R){var U=m.alternate,B=U!==null&&U.memoizedState!==null||sn;U=uc;var Y=sn;if(uc=R,(sn=B)&&!Y)for(de=m;de!==null;)R=de,B=R.child,R.tag===22&&R.memoizedState!==null?mw(m):B!==null?(B.return=R,de=B):mw(m);for(;v!==null;)de=v,dw(v),v=v.sibling;de=m,uc=U,sn=Y}fw(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,de=v):fw(i)}}function fw(i){for(;de!==null;){var o=de;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:sn||cc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!sn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ur(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&p_(o,v,f);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}p_(o,R,u)}break;case 5:var U=o.stateNode;if(u===null&&o.flags&4){u=U;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ne=Y.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&sr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||o.flags&512&&nf(o)}catch(te){vt(o,o.return,te)}}if(o===i){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function pw(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function mw(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{cc(4,o)}catch(B){vt(o,u,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(B){vt(o,m,B)}}var v=o.return;try{nf(o)}catch(B){vt(o,v,B)}break;case 5:var R=o.return;try{nf(o)}catch(B){vt(o,R,B)}}}catch(B){vt(o,o.return,B)}if(o===i){de=null;break}var U=o.sibling;if(U!==null){U.return=o.return,de=U;break}de=o.return}}var nA=Math.ceil,hc=L.ReactCurrentDispatcher,of=L.ReactCurrentOwner,Wn=L.ReactCurrentBatchConfig,We=0,Bt=null,At=null,Qt=0,Vn=0,Mo=Si(0),Ot=0,nl=null,Is=0,dc=0,af=0,rl=null,bn=null,lf=0,Fo=1/0,ii=null,fc=!1,uf=null,ki=null,pc=!1,Ni=null,mc=0,il=0,cf=null,gc=-1,yc=0;function mn(){return We&6?tt():gc!==-1?gc:gc=tt()}function Di(i){return i.mode&1?We&2&&Qt!==0?Qt&-Qt:FI.transition!==null?(yc===0&&(yc=gs()),yc):(i=Fe,i!==0||(i=window.event,i=i===void 0?16:Na(i.type)),i):1}function dr(i,o,u,f){if(50<il)throw il=0,cf=null,Error(n(185));yi(i,u,f),(!(We&2)||i!==Bt)&&(i===Bt&&(!(We&2)&&(dc|=u),Ot===4&&Vi(i,Qt)),Sn(i,f),u===1&&We===0&&!(o.mode&1)&&(Fo=tt()+500,Hu&&Ri()))}function Sn(i,o){var u=i.callbackNode;Wr(i,o);var f=ms(i,i===Bt?Qt:0);if(f===0)u!==null&&Ra(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Ra(u),o===1)i.tag===0?MI(yw.bind(null,i)):n_(yw.bind(null,i)),VI(function(){!(We&6)&&Ri()}),u=null;else{switch(_i(f)){case 1:u=fs;break;case 4:u=pi;break;case 16:u=Fn;break;case 536870912:u=yu;break;default:u=Fn}u=Sw(u,gw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function gw(i,o){if(gc=-1,yc=0,We&6)throw Error(n(327));var u=i.callbackNode;if(Uo()&&i.callbackNode!==u)return null;var f=ms(i,i===Bt?Qt:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=vc(i,f);else{o=f;var m=We;We|=2;var v=_w();(Bt!==i||Qt!==o)&&(ii=null,Fo=tt()+500,Ps(i,o));do try{sA();break}catch(U){vw(i,U)}while(!0);Rd(),hc.current=v,We=m,At!==null?o=0:(Bt=null,Qt=0,o=Ot)}if(o!==0){if(o===2&&(m=An(i),m!==0&&(f=m,o=hf(i,m))),o===1)throw u=nl,Ps(i,0),Vi(i,f),Sn(i,tt()),u;if(o===6)Vi(i,f);else{if(m=i.current.alternate,!(f&30)&&!rA(m)&&(o=vc(i,f),o===2&&(v=An(i),v!==0&&(f=v,o=hf(i,v))),o===1))throw u=nl,Ps(i,0),Vi(i,f),Sn(i,tt()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ks(i,bn,ii);break;case 3:if(Vi(i,f),(f&130023424)===f&&(o=lf+500-tt(),10<o)){if(ms(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){mn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=gd(ks.bind(null,i,bn,ii),o);break}ks(i,bn,ii);break;case 4:if(Vi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var R=31-dn(f);v=1<<R,R=o[R],R>m&&(m=R),f&=~v}if(f=m,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*nA(f/1960))-f,10<f){i.timeoutHandle=gd(ks.bind(null,i,bn,ii),f);break}ks(i,bn,ii);break;case 5:ks(i,bn,ii);break;default:throw Error(n(329))}}}return Sn(i,tt()),i.callbackNode===u?gw.bind(null,i):null}function hf(i,o){var u=rl;return i.current.memoizedState.isDehydrated&&(Ps(i,o).flags|=256),i=vc(i,o),i!==2&&(o=bn,bn=u,o!==null&&df(o)),i}function df(i){bn===null?bn=i:bn.push.apply(bn,i)}function rA(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!ar(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~af,o&=~dc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-dn(o),f=1<<u;i[u]=-1,o&=~f}}function yw(i){if(We&6)throw Error(n(327));Uo();var o=ms(i,0);if(!(o&1))return Sn(i,tt()),null;var u=vc(i,o);if(i.tag!==0&&u===2){var f=An(i);f!==0&&(o=f,u=hf(i,f))}if(u===1)throw u=nl,Ps(i,0),Vi(i,o),Sn(i,tt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ks(i,bn,ii),Sn(i,tt()),null}function ff(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(Fo=tt()+500,Hu&&Ri())}}function As(i){Ni!==null&&Ni.tag===0&&!(We&6)&&Uo();var o=We;We|=1;var u=Wn.transition,f=Fe;try{if(Wn.transition=null,Fe=1,i)return i()}finally{Fe=f,Wn.transition=u,We=o,!(We&6)&&Ri()}}function pf(){Vn=Mo.current,at(Mo)}function Ps(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,DI(u)),At!==null)for(u=At.return;u!==null;){var f=u;switch(Td(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qu();break;case 3:Lo(),at(xn),at(tn),Ld();break;case 5:Dd(f);break;case 4:Lo();break;case 13:at(ht);break;case 19:at(ht);break;case 10:Id(f.type._context);break;case 22:case 23:pf()}u=u.return}if(Bt=i,At=i=Li(i.current,null),Qt=Vn=o,Ot=0,nl=null,af=dc=Is=0,bn=rl=null,Ss!==null){for(o=0;o<Ss.length;o++)if(u=Ss[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var R=v.next;v.next=m,f.next=R}u.pending=f}Ss=null}return i}function vw(i,o){do{var u=At;try{if(Rd(),tc.current=sc,nc){for(var f=dt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}nc=!1}if(Rs=0,Ut=Lt=dt=null,Xa=!1,Ya=0,of.current=null,u===null||u.return===null){Ot=1,nl=o,At=null;break}e:{var v=i,R=u.return,U=u,B=o;if(o=Qt,U.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,ne=U,se=ne.tag;if(!(ne.mode&1)&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=q_(R);if(ce!==null){ce.flags&=-257,z_(ce,R,U,v,o),ce.mode&1&&$_(v,Y,o),o=ce,B=Y;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(B),o.updateQueue=pe}else fe.add(B);break e}else{if(!(o&1)){$_(v,Y,o),mf();break e}B=Error(n(426))}}else if(ct&&U.mode&1){var Et=q_(R);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),z_(Et,R,U,v,o),Sd(Oo(B,U));break e}}v=B=Oo(B,U),Ot!==4&&(Ot=2),rl===null?rl=[v]:rl.push(v),v=R;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var K=U_(v,B,o);f_(v,K);break e;case 1:U=B;var z=v.type,X=v.stateNode;if(!(v.flags&128)&&(typeof z.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ki===null||!ki.has(X)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=B_(v,U,o);f_(v,ae);break e}}v=v.return}while(v!==null)}xw(u)}catch(ge){o=ge,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function _w(){var i=hc.current;return hc.current=sc,i===null?sc:i}function mf(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||!(Is&268435455)&&!(dc&268435455)||Vi(Bt,Qt)}function vc(i,o){var u=We;We|=2;var f=_w();(Bt!==i||Qt!==o)&&(ii=null,Ps(i,o));do try{iA();break}catch(m){vw(i,m)}while(!0);if(Rd(),We=u,hc.current=f,At!==null)throw Error(n(261));return Bt=null,Qt=0,Ot}function iA(){for(;At!==null;)ww(At)}function sA(){for(;At!==null&&!mu();)ww(At)}function ww(i){var o=bw(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,o===null?xw(i):At=o,of.current=null}function xw(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=JI(u,o),u!==null){u.flags&=32767,At=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ot=6,At=null;return}}else if(u=YI(u,o,Vn),u!==null){At=u;return}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Ot===0&&(Ot=5)}function ks(i,o,u){var f=Fe,m=Wn.transition;try{Wn.transition=null,Fe=1,oA(i,o,u,f)}finally{Wn.transition=m,Fe=f}return null}function oA(i,o,u,f){do Uo();while(Ni!==null);if(We&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(et(i,v),i===Bt&&(At=Bt=null,Qt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||pc||(pc=!0,Sw(Fn,function(){return Uo(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Wn.transition,Wn.transition=null;var R=Fe;Fe=1;var U=We;We|=4,of.current=null,eA(i,u),hw(u,i),CI(pd),xi=!!fd,pd=fd=null,i.current=u,tA(u),Yh(),We=U,Fe=R,Wn.transition=v}else i.current=u;if(pc&&(pc=!1,Ni=i,mc=m),v=i.pendingLanes,v===0&&(ki=null),vu(u.stateNode),Sn(i,tt()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(fc)throw fc=!1,i=uf,uf=null,i;return mc&1&&i.tag!==0&&Uo(),v=i.pendingLanes,v&1?i===cf?il++:(il=0,cf=i):il=0,Ri(),null}function Uo(){if(Ni!==null){var i=_i(mc),o=Wn.transition,u=Fe;try{if(Wn.transition=null,Fe=16>i?16:i,Ni===null)var f=!1;else{if(i=Ni,Ni=null,mc=0,We&6)throw Error(n(331));var m=We;for(We|=4,de=i.current;de!==null;){var v=de,R=v.child;if(de.flags&16){var U=v.deletions;if(U!==null){for(var B=0;B<U.length;B++){var Y=U[B];for(de=Y;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:tl(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,de=se;else for(;de!==null;){ne=de;var te=ne.sibling,ce=ne.return;if(ow(ne),ne===Y){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=v.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Et=pe.sibling;pe.sibling=null,pe=Et}while(pe!==null)}}de=v}}if(v.subtreeFlags&2064&&R!==null)R.return=v,de=R;else e:for(;de!==null;){if(v=de,v.flags&2048)switch(v.tag){case 0:case 11:case 15:tl(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,de=K;break e}de=v.return}}var z=i.current;for(de=z;de!==null;){R=de;var X=R.child;if(R.subtreeFlags&2064&&X!==null)X.return=R,de=X;else e:for(R=z;de!==null;){if(U=de,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:cc(9,U)}}catch(ge){vt(U,U.return,ge)}if(U===R){de=null;break e}var ae=U.sibling;if(ae!==null){ae.return=U.return,de=ae;break e}de=U.return}}if(We=m,Ri(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(ps,i)}catch{}f=!0}return f}finally{Fe=u,Wn.transition=o}}return!1}function Tw(i,o,u){o=Oo(u,o),o=U_(i,o,1),i=Ai(i,o,1),o=mn(),i!==null&&(yi(i,1,o),Sn(i,o))}function vt(i,o,u){if(i.tag===3)Tw(i,i,u);else for(;o!==null;){if(o.tag===3){Tw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))){i=Oo(u,i),i=B_(o,i,1),o=Ai(o,i,1),i=mn(),o!==null&&(yi(o,1,i),Sn(o,i));break}}o=o.return}}function aA(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=mn(),i.pingedLanes|=i.suspendedLanes&u,Bt===i&&(Qt&u)===u&&(Ot===4||Ot===3&&(Qt&130023424)===Qt&&500>tt()-lf?Ps(i,0):af|=u),Sn(i,o)}function Ew(i,o){o===0&&(i.mode&1?(o=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):o=1);var u=mn();i=ti(i,o),i!==null&&(yi(i,o,u),Sn(i,u))}function lA(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Ew(i,u)}function uA(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Ew(i,u)}var bw;bw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||xn.current)En=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return En=!1,XI(i,o,u);En=!!(i.flags&131072)}else En=!1,ct&&o.flags&1048576&&r_(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;lc(i,o),i=o.pendingProps;var m=Io(o,tn.current);Vo(o,u),m=Md(null,o,f,i,m,u);var v=Fd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(f)?(v=!0,zu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,kd(o),m.updater=oc,o.stateNode=m,m._reactInternals=o,Hd(o,f,i,u),o=Qd(null,o,f,!0,v,u)):(o.tag=0,ct&&v&&xd(o),pn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(lc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=hA(f),i=ur(f,i),m){case 0:o=Kd(null,o,f,i,u);break e;case 1:o=X_(null,o,f,i,u);break e;case 11:o=H_(null,o,f,i,u);break e;case 14:o=W_(null,o,f,ur(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ur(f,m),Kd(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ur(f,m),X_(i,o,f,m,u);case 3:e:{if(Y_(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,d_(i,o),Zu(o,f,null,u);var R=o.memoizedState;if(f=R.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Oo(Error(n(423)),o),o=J_(i,o,f,u,m);break e}else if(f!==m){m=Oo(Error(n(424)),o),o=J_(i,o,f,u,m);break e}else for(Dn=bi(o.stateNode.containerInfo.firstChild),Nn=o,ct=!0,lr=null,u=c_(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ko(),f===m){o=ri(i,o,u);break e}pn(i,o,f,u)}o=o.child}return o;case 5:return m_(o),i===null&&bd(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,R=m.children,md(f,m)?R=null:v!==null&&md(f,v)&&(o.flags|=32),Q_(i,o),pn(i,o,R,u),o.child;case 6:return i===null&&bd(o),null;case 13:return Z_(i,o,u);case 4:return Nd(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=No(o,null,f,u):pn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ur(f,m),H_(i,o,f,m,u);case 7:return pn(i,o,o.pendingProps,u),o.child;case 8:return pn(i,o,o.pendingProps.children,u),o.child;case 12:return pn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,R=m.value,nt(Xu,f._currentValue),f._currentValue=R,v!==null)if(ar(v.value,R)){if(v.children===m.children&&!xn.current){o=ri(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var U=v.dependencies;if(U!==null){R=v.child;for(var B=U.firstContext;B!==null;){if(B.context===f){if(v.tag===1){B=ni(-1,u&-u),B.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var ne=Y.pending;ne===null?B.next=B:(B.next=ne.next,ne.next=B),Y.pending=B}}v.lanes|=u,B=v.alternate,B!==null&&(B.lanes|=u),Ad(v.return,u,o),U.lanes|=u;break}B=B.next}}else if(v.tag===10)R=v.type===o.type?null:v.child;else if(v.tag===18){if(R=v.return,R===null)throw Error(n(341));R.lanes|=u,U=R.alternate,U!==null&&(U.lanes|=u),Ad(R,u,o),R=v.sibling}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===o){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}pn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Vo(o,u),m=zn(m),f=f(m),o.flags|=1,pn(i,o,f,u),o.child;case 14:return f=o.type,m=ur(f,o.pendingProps),m=ur(f.type,m),W_(i,o,f,m,u);case 15:return G_(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:ur(f,m),lc(i,o),o.tag=1,Tn(f)?(i=!0,zu(o)):i=!1,Vo(o,u),M_(o,f,m),Hd(o,f,m,u),Qd(null,o,f,!0,i,u);case 19:return tw(i,o,u);case 22:return K_(i,o,u)}throw Error(n(156,o.tag))};function Sw(i,o){return oo(i,o)}function cA(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(i,o,u,f){return new cA(i,o,u,f)}function gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hA(i){if(typeof i=="function")return gf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===je)return 14}return 2}function Li(i,o){var u=i.alternate;return u===null?(u=Gn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function _c(i,o,u,f,m,v){var R=2;if(f=i,typeof i=="function")gf(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case P:return Ns(u.children,m,v,o);case A:R=8,m|=8;break;case V:return i=Gn(12,u,o,m|2),i.elementType=V,i.lanes=v,i;case F:return i=Gn(13,u,o,m),i.elementType=F,i.lanes=v,i;case Le:return i=Gn(19,u,o,m),i.elementType=Le,i.lanes=v,i;case ye:return wc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:R=10;break e;case M:R=9;break e;case q:R=11;break e;case je:R=14;break e;case be:R=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Gn(R,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Ns(i,o,u,f){return i=Gn(7,i,f,o),i.lanes=u,i}function wc(i,o,u,f){return i=Gn(22,i,f,o),i.elementType=ye,i.lanes=u,i.stateNode={isHidden:!1},i}function yf(i,o,u){return i=Gn(6,i,null,o),i.lanes=u,i}function vf(i,o,u){return o=Gn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function dA(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function _f(i,o,u,f,m,v,R,U,B){return i=new dA(i,o,u,U,B),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Gn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(v),i}function fA(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function Cw(i){if(!i)return Ci;i=i._reactInternals;e:{if(er(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Tn(u))return e_(i,u,o)}return o}function Rw(i,o,u,f,m,v,R,U,B){return i=_f(u,f,!0,i,m,v,R,U,B),i.context=Cw(null),u=i.current,f=mn(),m=Di(u),v=ni(f,m),v.callback=o??null,Ai(u,v,m),i.current.lanes=m,yi(i,m,f),Sn(i,f),i}function xc(i,o,u,f){var m=o.current,v=mn(),R=Di(m);return u=Cw(u),o.context===null?o.context=u:o.pendingContext=u,o=ni(v,R),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ai(m,o,R),i!==null&&(dr(i,m,R,v),Ju(i,m,R)),R}function Tc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Iw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function wf(i,o){Iw(i,o),(i=i.alternate)&&Iw(i,o)}var Aw=typeof reportError=="function"?reportError:function(i){console.error(i)};function xf(i){this._internalRoot=i}Ec.prototype.render=xf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));xc(i,o,null,null)},Ec.prototype.unmount=xf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;As(function(){xc(null,i,null,null)}),o[Yr]=null}};function Ec(i){this._internalRoot=i}Ec.prototype.unstable_scheduleHydration=function(i){if(i){var o=Eu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<br.length&&o!==0&&o<br[u].priority;u++);br.splice(u,0,i),u===0&&Cu(i)}};function Tf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function bc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function pA(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var Y=Tc(R);v.call(Y)}}var R=Rw(o,f,i,0,null,!1,!1,"",Pw);return i._reactRootContainer=R,i[Yr]=R.current,$a(i.nodeType===8?i.parentNode:i),As(),R}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var U=f;f=function(){var Y=Tc(B);U.call(Y)}}var B=_f(i,0,!1,null,null,!1,!1,"",Pw);return i._reactRootContainer=B,i[Yr]=B.current,$a(i.nodeType===8?i.parentNode:i),As(function(){xc(o,B,u,f)}),B}function Sc(i,o,u,f,m){var v=u._reactRootContainer;if(v){var R=v;if(typeof m=="function"){var U=m;m=function(){var B=Tc(R);U.call(B)}}xc(o,R,i,m)}else R=pA(u,o,i,m,f);return Tc(R)}xu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=mi(o.pendingLanes);u!==0&&(vi(o,u|1),Sn(o,tt()),!(We&6)&&(Fo=tt()+500,Ri()))}break;case 13:As(function(){var f=ti(i,1);if(f!==null){var m=mn();dr(f,i,1,m)}}),wf(i,1)}},uo=function(i){if(i.tag===13){var o=ti(i,134217728);if(o!==null){var u=mn();dr(o,i,134217728,u)}wf(i,134217728)}},Tu=function(i){if(i.tag===13){var o=Di(i),u=ti(i,o);if(u!==null){var f=mn();dr(u,i,o,f)}wf(i,o)}},Eu=function(){return Fe},bu=function(i,o){var u=Fe;try{return Fe=i,o()}finally{Fe=u}},eo=function(i,o,u){switch(o){case"input":if(Rt(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=$u(f);if(!m)throw Error(n(90));vr(f),Rt(f,m)}}}break;case"textarea":en(i,u);break;case"select":o=u.value,o!=null&&it(i,!!u.multiple,o,!1)}},us=ff,Ea=As;var mA={usingClientEntryPoint:!1,Events:[Ha,Co,$u,Tr,Ta,ff]},sl={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gA={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ca(i),i===null?null:i.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{ps=Cc.inject(gA),In=Cc}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA,Cn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(o))throw Error(n(200));return fA(i,o,null,u)},Cn.createRoot=function(i,o){if(!Tf(i))throw Error(n(299));var u=!1,f="",m=Aw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=_f(i,1,!1,null,null,u,!1,f,m),i[Yr]=o.current,$a(i.nodeType===8?i.parentNode:i),new xf(o)},Cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ca(o),i=i===null?null:i.stateNode,i},Cn.flushSync=function(i){return As(i)},Cn.hydrate=function(i,o,u){if(!bc(o))throw Error(n(200));return Sc(null,i,o,!0,u)},Cn.hydrateRoot=function(i,o,u){if(!Tf(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",R=Aw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=Rw(o,null,i,1,u??null,m,!1,v,R),i[Yr]=o.current,$a(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Ec(o)},Cn.render=function(i,o,u){if(!bc(o))throw Error(n(200));return Sc(null,i,o,!1,u)},Cn.unmountComponentAtNode=function(i){if(!bc(i))throw Error(n(40));return i._reactRootContainer?(As(function(){Sc(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1},Cn.unstable_batchedUpdates=ff,Cn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!bc(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Sc(i,o,u,!1,f)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var Mw;function bA(){if(Mw)return Sf.exports;Mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sf.exports=EA(),Sf.exports}var Fw;function SA(){if(Fw)return Ic;Fw=1;var t=bA();return Ic.createRoot=t.createRoot,Ic.hydrateRoot=t.hydrateRoot,Ic}var CA=SA(),N=Hg();const mr=Eh(N);var al={},Uw;function RA(){if(Uw)return al;Uw=1,Object.defineProperty(al,"__esModule",{value:!0}),al.parse=l,al.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,b){const C=new a,S=w.length;if(S<2)return C;const x=(b==null?void 0:b.decode)||g;let I=0;do{const D=w.indexOf("=",I);if(D===-1)break;const j=w.indexOf(";",I),L=j===-1?S:j;if(D>L){I=w.lastIndexOf(";",D-1)+1;continue}const $=c(w,I,D),Q=d(w,D,$),P=w.slice($,Q);if(C[P]===void 0){let A=c(w,D+1,L),V=d(w,L,A);const O=x(w.slice(A,V));C[P]=O}I=L+1}while(I<S);return C}function c(w,b,C){do{const S=w.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<C);return C}function d(w,b,C){for(;b>C;){const S=w.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return C}function p(w,b,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const x=S(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let I=w+"="+x;if(!C)return I;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);I+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);I+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);I+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);I+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(I+="; HttpOnly"),C.secure&&(I+="; Secure"),C.partitioned&&(I+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return I}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return s.call(w)==="[object Date]"}return al}RA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bw="popstate";function IA(t={}){function e(s,a){let{pathname:l="/",search:c="",hash:d=""}=Hs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Jm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");c=p===-1?d:d.slice(0,p)}return c+"#"+(typeof a=="string"?a:Dl(a))}function r(s,a){yr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return PA(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AA(){return Math.random().toString(36).substring(2,10)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function Jm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:n,key:e&&e.key||r||AA()}}function Dl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let x=g(),I=x==null?null:x-p;p=x,d&&d({action:c,location:S.location,delta:I})}function w(x,I){c="PUSH";let D=Jm(S.location,x,I);n(D,x),p=g()+1;let j=$w(D,p),L=S.createHref(D);try{l.pushState(j,"",L)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(L)}a&&d&&d({action:c,location:S.location,delta:1})}function b(x,I){c="REPLACE";let D=Jm(S.location,x,I);n(D,x),p=g();let j=$w(D,p),L=S.createHref(D);l.replaceState(j,"",L),a&&d&&d({action:c,location:S.location,delta:0})}function C(x){let I=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof x=="string"?x:Dl(x);return D=D.replace(/ $/,"%20"),mt(I,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,I)}let S={get action(){return c},get location(){return t(s,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Bw,_),d=x,()=>{s.removeEventListener(Bw,_),d=null}},createHref(x){return e(s,x)},createURL:C,encodeLocation(x){let I=C(x);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:b,go(x){return l.go(x)}};return S}function RE(t,e,n="/"){return kA(t,e,n,!1)}function kA(t,e,n,r){let s=typeof e=="string"?Hs(e):e,a=Wi(s.pathname||"/",n);if(a==null)return null;let l=IE(t);NA(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=qA(a);c=BA(l[d],p,r)}return c}function IE(t,e=[],n=[],r=""){let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(mt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=si([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),IE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:FA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of AE(a.path))s(a,l,d)}),e}function AE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=AE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function NA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var DA=/^:[\w-]+$/,VA=3,LA=2,OA=1,jA=10,MA=-2,qw=t=>t==="*";function FA(t,e){let n=t.split("/"),r=n.length;return n.some(qw)&&(r+=MA),e&&(r+=LA),n.filter(s=>!qw(s)).reduce((s,a)=>s+(DA.test(a)?VA:a===""?OA:jA),r)}function UA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Jc({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),w=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Jc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:si([a,_.pathname]),pathnameBase:GA(si([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=si([a,_.pathnameBase]))}return l}function Jc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$A(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let C=c[w]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const b=c[w];return _&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function $A(t,e=!1,n=!0){yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Hs(t):t;return{pathname:n?n.startsWith("/")?n:HA(n,e):e,search:KA(r),hash:QA(s)}}function HA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function If(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PE(t){let e=WA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kE(t,e,n,r=!1){let s;typeof t=="string"?s=Hs(t):(s={...t},mt(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}c=_>=0?e[_]:"/"}let d=zA(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var si=t=>t.join("/").replace(/\/\/+/g,"/"),GA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NE=["POST","PUT","PATCH","DELETE"];new Set(NE);var YA=["GET",...NE];new Set(YA);var la=N.createContext(null);la.displayName="DataRouter";var bh=N.createContext(null);bh.displayName="DataRouterState";var DE=N.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var JA=N.createContext(new Map);JA.displayName="Fetchers";var ZA=N.createContext(null);ZA.displayName="Await";var $r=N.createContext(null);$r.displayName="Navigation";var Yl=N.createContext(null);Yl.displayName="Location";var fi=N.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Wg=N.createContext(null);Wg.displayName="RouteError";function eP(t,{relative:e}={}){mt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext($r),{hash:s,pathname:a,search:l}=Zl(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:si([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Jl(){return N.useContext(Yl)!=null}function qr(){return mt(Jl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Yl).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(t){N.useContext($r).static||N.useLayoutEffect(t)}function Ws(){let{isDataRoute:t}=N.useContext(fi);return t?fP():tP()}function tP(){mt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(la),{basename:e,navigator:n}=N.useContext($r),{matches:r}=N.useContext(fi),{pathname:s}=qr(),a=JSON.stringify(PE(r)),l=N.useRef(!1);return LE(()=>{l.current=!0}),N.useCallback((d,p={})=>{if(yr(l.current,VE),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=kE(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:si([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}N.createContext(null);function Zl(t,{relative:e}={}){let{matches:n}=N.useContext(fi),{pathname:r}=qr(),s=JSON.stringify(PE(n));return N.useMemo(()=>kE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function nP(t,e){return OE(t,e)}function OE(t,e,n,r){var I;mt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext($r),{matches:a}=N.useContext(fi),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let D=g&&g.path||"";jE(d,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=qr(),w;if(e){let D=typeof e=="string"?Hs(e):e;mt(p==="/"||((I=D.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=_;let b=w.pathname||"/",C=b;if(p!=="/"){let D=p.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=RE(t,{pathname:C});yr(g||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),yr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=aP(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:si([p,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:si([p,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,n,r);return e&&x?N.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},x):x}function rP(){let t=dP(),e=XA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,l)}var iP=N.createElement(rP,null),sP=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(fi.Provider,{value:this.props.routeContext},N.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oP({routeContext:t,match:e,children:n}){let r=N.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(fi.Provider,{value:t},n)}function aP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);mt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:_}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let _,w=!1,b=null,C=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,b=p.route.errorElement||iP,l&&(c<0&&g===0?(jE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):c===g&&(w=!0,C=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),x=()=>{let I;return _?I=b:w?I=C:p.route.Component?I=N.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,N.createElement(oP,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(sP,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}function Gg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lP(t){let e=N.useContext(la);return mt(e,Gg(t)),e}function uP(t){let e=N.useContext(bh);return mt(e,Gg(t)),e}function cP(t){let e=N.useContext(fi);return mt(e,Gg(t)),e}function Kg(t){let e=cP(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hP(){return Kg("useRouteId")}function dP(){var r;let t=N.useContext(Wg),e=uP("useRouteError"),n=Kg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fP(){let{router:t}=lP("useNavigate"),e=Kg("useNavigate"),n=N.useRef(!1);return LE(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{yr(n.current,VE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var zw={};function jE(t,e,n){!e&&!zw[t]&&(zw[t]=!0,yr(!1,n))}N.memo(pP);function pP({routes:t,future:e,state:n}){return OE(t,void 0,n,e)}function ji(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){mt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Hs(n));let{pathname:d="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,b=N.useMemo(()=>{let C=Wi(d,l);return C==null?null:{location:{pathname:C,search:p,hash:g,state:_,key:w},navigationType:r}},[l,d,p,g,_,w,r]);return yr(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement($r.Provider,{value:c},N.createElement(Yl.Provider,{children:e,value:b}))}function gP({children:t,location:e}){return nP(Zm(t),e)}function Zm(t,e=[]){let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let a=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Zm(r.props.children,a));return}mt(r.type===ji,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Zm(r.props.children,a)),n.push(l)}),n}var Bc="get",$c="application/x-www-form-urlencoded";function Sh(t){return t!=null&&typeof t.tagName=="string"}function yP(t){return Sh(t)&&t.tagName.toLowerCase()==="button"}function vP(t){return Sh(t)&&t.tagName.toLowerCase()==="form"}function _P(t){return Sh(t)&&t.tagName.toLowerCase()==="input"}function wP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xP(t,e){return t.button===0&&(!e||e==="_self")&&!wP(t)}var Ac=null;function TP(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var EP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(t){return t!=null&&!EP.has(t)?(yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):t}function bP(t,e){let n,r,s,a,l;if(vP(t)){let c=t.getAttribute("action");r=c?Wi(c,e):null,n=t.getAttribute("method")||Bc,s=Af(t.getAttribute("enctype"))||$c,a=new FormData(t)}else if(yP(t)||_P(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Wi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Bc,s=Af(t.getAttribute("formenctype"))||Af(c.getAttribute("enctype"))||$c,a=new FormData(c,t),!TP()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(Sh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,r=null,s=$c,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function Qg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function SP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RP(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await SP(a,n);return l.links?l.links():[]}return[]}));return kP(r.flat(1).filter(CP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Hw(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function IP(t,e){return AP(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function AP(t){return[...new Set(t)]}function PP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(PP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function NP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DP(){let t=N.useContext(la);return Qg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VP(){let t=N.useContext(bh);return Qg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xg=N.createContext(void 0);Xg.displayName="FrameworkContext";function ME(){let t=N.useContext(Xg);return Qg(t,"You must render this element inside a <HydratedRouter> element"),t}function LP(t,e){let n=N.useContext(Xg),[r,s]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=I=>{I.forEach(D=>{l(D.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return w.current&&x.observe(w.current),()=>{x.disconnect()}}},[t]),N.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:ll(c,b),onBlur:ll(d,C),onMouseEnter:ll(p,b),onMouseLeave:ll(g,C),onTouchStart:ll(_,b)}]:[!1,w,{}]}function ll(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OP({page:t,...e}){let{router:n}=DP(),r=N.useMemo(()=>RE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(MP,{page:t,matches:r,...e}):null}function jP(t){let{manifest:e,routeModules:n}=ME(),[r,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return RP(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function MP({page:t,matches:e,...n}){let r=qr(),{manifest:s,routeModules:a}=ME(),{loaderData:l,matches:c}=VP(),d=N.useMemo(()=>Hw(t,e,c,s,r,"data"),[t,e,c,s,r]),p=N.useMemo(()=>Hw(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(x=>{var D;let I=s.routes[x.route.id];!I||!I.hasLoader||(!d.some(j=>j.route.id===x.route.id)&&x.route.id in l&&((D=a[x.route.id])!=null&&D.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(x.route.id))}),b.size===0)return[];let S=NP(t);return C&&b.size>0&&S.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[l,r,s,d,e,t,a]),_=N.useMemo(()=>IP(p,s),[p,s]),w=jP(p);return N.createElement(N.Fragment,null,g.map(b=>N.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),_.map(b=>N.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:C})=>N.createElement("link",{key:b,...C})))}function FP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.1.3")}catch{}function UP({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=IA({window:n,v5Compat:!0}));let s=r.current,[a,l]=N.useState({action:s.action,location:s.location}),c=N.useCallback(d=>{N.startTransition(()=>l(d))},[l]);return N.useLayoutEffect(()=>s.listen(c),[s,c]),N.createElement(mP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yg=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:_,...w},b){let{basename:C}=N.useContext($r),S=typeof p=="string"&&UE.test(p),x,I=!1;if(typeof p=="string"&&S&&(x=p,FE))try{let V=new URL(window.location.href),O=p.startsWith("//")?new URL(V.protocol+p):new URL(p),M=Wi(O.pathname,C);O.origin===V.origin&&M!=null?p=M+O.search+O.hash:I=!0}catch{yr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=eP(p,{relative:s}),[j,L,$]=LP(r,w),Q=zP(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:_});function P(V){e&&e(V),V.defaultPrevented||Q(V)}let A=N.createElement("a",{...w,...$,href:x||D,onClick:I||a?e:P,ref:FP(b,L),target:d,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?N.createElement(N.Fragment,null,A,N.createElement(OP,{page:D})):A});Yg.displayName="Link";var BP=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...p},g){let _=Zl(l,{relative:p.relative}),w=qr(),b=N.useContext(bh),{navigator:C,basename:S}=N.useContext($r),x=b!=null&&QP(_)&&c===!0,I=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,D=w.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&S&&(j=Wi(j,S)||j);const L=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=D===I||!s&&D.startsWith(I)&&D.charAt(L)==="/",Q=j!=null&&(j===I||!s&&j.startsWith(I)&&j.charAt(I.length)==="/"),P={isActive:$,isPending:Q,isTransitioning:x},A=$?e:void 0,V;typeof r=="function"?V=r(P):V=[r,$?"active":null,Q?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return N.createElement(Yg,{...p,"aria-current":A,className:V,ref:g,style:O,to:l,viewTransition:c},typeof d=="function"?d(P):d)});BP.displayName="NavLink";var $P=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Bc,action:c,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:_,...w},b)=>{let C=GP(),S=KP(c,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",I=typeof c=="string"&&UE.test(c),D=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let L=j.nativeEvent.submitter,$=(L==null?void 0:L.getAttribute("formmethod"))||l;C(L||j.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return N.createElement("form",{ref:b,method:x,action:S,onSubmit:r?d:D,...w,"data-discover":!I&&t==="render"?"true":void 0})});$P.displayName="Form";function qP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(t){let e=N.useContext(la);return mt(e,qP(t)),e}function zP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Ws(),d=qr(),p=Zl(t,{relative:a});return N.useCallback(g=>{if(xP(g,e)){g.preventDefault();let _=n!==void 0?n:Dl(d)===Dl(p);c(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,p,n,r,e,t,s,a,l])}var HP=0,WP=()=>`__${String(++HP)}__`;function GP(){let{router:t}=BE("useSubmit"),{basename:e}=N.useContext($r),n=hP();return N.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:d,body:p}=bP(r,e);if(s.navigate===!1){let g=s.fetcherKey||WP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function KP(t,{relative:e}={}){let{basename:n}=N.useContext($r),r=N.useContext(fi);mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Zl(t||".",{relative:e})},l=qr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:si([n,a.pathname])),Dl(a)}function QP(t,e={}){let n=N.useContext(DE);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BE("useViewTransitionState"),s=Zl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jc(s.pathname,l)!=null||Jc(s.pathname,a)!=null}new TextEncoder;var Pf={exports:{}},kf,Ww;function XP(){if(Ww)return kf;Ww=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kf=t,kf}var Nf,Gw;function YP(){if(Gw)return Nf;Gw=1;var t=XP();function e(){}function n(){}return n.resetWarningCache=e,Nf=function(){function r(l,c,d,p,g,_){if(_!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Nf}var Kw;function JP(){return Kw||(Kw=1,Pf.exports=YP()()),Pf.exports}var ZP=JP();const H=Eh(ZP),Ct=({handleImageUpload:t,section:e,top:n,left:r,right:s,className:a,style:l,children:c})=>{const d=N.useRef(),p=()=>{var g;(g=d.current)==null||g.click()};return E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"file",ref:d,accept:"image/*",className:"hidden",onChange:t}),E.jsx("div",{onClick:p,className:a,style:l,children:c})]})},e2=()=>{};var Qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},t2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,b=p&63;d||(b=64,l||(w=64)),r.push(n[g],n[_],n[w],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||_==null)throw new n2;const w=a<<2|c>>4;if(r.push(w),p!==64){const b=c<<4&240|p>>2;if(r.push(b),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r2=function(t){const e=$E(t);return qE.encodeByteArray(e,!0)},Zc=function(t){return r2(t).replace(/\./g,"")},i2=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>s2().__FIREBASE_DEFAULTS__,a2=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i2(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return e2()||o2()||a2()||l2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u2=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zE=t=>{const e=u2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HE=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(l)),""].join(".")}const xl={};function h2(){const t={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?t.emulator.push(e):t.prod.push(e);return t}function d2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function KE(t,e){if(typeof window>"u"||typeof document>"u"||!eu(window.location.host)||xl[t]===e||xl[t]||Xw)return;xl[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=h2().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,b){w.setAttribute("width","24"),w.setAttribute("id",b),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Xw=!0,l()},w}function g(w,b){w.setAttribute("id",b),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=d2(r),b=n("text"),C=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),x=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),D=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;c(j),g(x,S);const L=p();d(D,I),j.append(D,C,x,L),document.body.appendChild(j)}a?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p2(){var t;const e=(t=Jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return!p2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g2(){try{return typeof indexedDB=="object"}catch{return!1}}function y2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="FirebaseError";class Gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v2,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,QE.prototype.create)}}class QE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?_2(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Gs(s,c,r)}}function _2(t,e){return t.replace(w2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w2=/\{\$([^}]+)}/g;function eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Yw(a)&&Yw(l)){if(!eh(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){return t&&t._delegate?t._delegate:t}class Yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E2(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(t){return t===Vs?void 0:t}function E2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const S2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},C2=ze.INFO,R2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},I2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XE{constructor(e){this.name=e,this._logLevel=C2,this._logHandler=I2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const A2=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function P2(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k2(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,eg=new WeakMap,JE=new WeakMap,Df=new WeakMap,Zg=new WeakMap;function N2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Bi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function D2(t){if(eg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V2(t){tg=t(tg)}function L2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vf(this),e,...n);return JE.set(r,e.sort?e.sort():[e]),Bi(r)}:k2().includes(t)?function(...e){return t.apply(Vf(this),e),Bi(YE.get(this))}:function(...e){return Bi(t.apply(Vf(this),e))}}function O2(t){return typeof t=="function"?L2(t):(t instanceof IDBTransaction&&D2(t),A2(t,P2())?new Proxy(t,tg):t)}function Bi(t){if(t instanceof IDBRequest)return N2(t);if(Df.has(t))return Df.get(t);const e=O2(t);return e!==t&&(Df.set(t,e),Zg.set(e,t)),e}const Vf=t=>Zg.get(t);function j2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Bi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Bi(l.result),d.oldVersion,d.newVersion,Bi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const M2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],Lf=new Map;function e0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M2.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&d.done]))[0]};return Lf.set(e,a),a}V2(t=>({...t,get:(e,n,r)=>e0(e,n)||t.get(e,n,r),has:(e,n)=>!!e0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",t0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new XE("@firebase/app"),$2="@firebase/app-compat",q2="@firebase/analytics-compat",z2="@firebase/analytics",H2="@firebase/app-check-compat",W2="@firebase/app-check",G2="@firebase/auth",K2="@firebase/auth-compat",Q2="@firebase/database",X2="@firebase/data-connect",Y2="@firebase/database-compat",J2="@firebase/functions",Z2="@firebase/functions-compat",ek="@firebase/installations",tk="@firebase/installations-compat",nk="@firebase/messaging",rk="@firebase/messaging-compat",ik="@firebase/performance",sk="@firebase/performance-compat",ok="@firebase/remote-config",ak="@firebase/remote-config-compat",lk="@firebase/storage",uk="@firebase/storage-compat",ck="@firebase/firestore",hk="@firebase/ai",dk="@firebase/firestore-compat",fk="firebase",pk="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",mk={[ng]:"fire-core",[$2]:"fire-core-compat",[z2]:"fire-analytics",[q2]:"fire-analytics-compat",[W2]:"fire-app-check",[H2]:"fire-app-check-compat",[G2]:"fire-auth",[K2]:"fire-auth-compat",[Q2]:"fire-rtdb",[X2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[J2]:"fire-fn",[Z2]:"fire-fn-compat",[ek]:"fire-iid",[tk]:"fire-iid-compat",[nk]:"fire-fcm",[rk]:"fire-fcm-compat",[ik]:"fire-perf",[sk]:"fire-perf-compat",[ok]:"fire-rc",[ak]:"fire-rc-compat",[lk]:"fire-gcs",[uk]:"fire-gcs-compat",[ck]:"fire-fst",[dk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,gk=new Map,ig=new Map;function n0(t,e){try{t.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vl(t){const e=t.name;if(ig.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;ig.set(e,t);for(const n of th.values())n0(n,t);for(const n of gk.values())n0(n,t);return!0}function ZE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function eb(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new QE("app","Firebase",yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=pk;function nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw $i.create("bad-app-name",{appName:String(s)});if(n||(n=HE()),!n)throw $i.create("no-options");const a=th.get(s);if(a){if(eh(n,a.options)&&eh(r,a.config))return a;throw $i.create("duplicate-app",{appName:s})}const l=new b2(s);for(const d of ig.values())l.addComponent(d);const c=new vk(n,r,l);return th.set(s,c),c}function rb(t=rg){const e=th.get(t);if(!e&&t===rg&&HE())return nb();if(!e)throw $i.create("no-app",{appName:t});return e}function qi(t,e,n){var r;let s=(r=mk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(c.join(" "));return}Vl(new Yo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebase-heartbeat-database",wk=1,Ll="firebase-heartbeat-store";let Of=null;function ib(){return Of||(Of=j2(_k,wk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Of}async function xk(t){try{const n=(await ib()).transaction(Ll),r=await n.objectStore(Ll).get(sb(t));return await n.done,r}catch(e){if(e instanceof Gs)ui.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function r0(t,e){try{const r=(await ib()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,sb(t)),await r.done}catch(n){if(n instanceof Gs)ui.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(r.message)}}}function sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1024,Ek=30;class bk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ck(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>Ek){const l=Rk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=i0(),{heartbeatsToSend:r,unsentEntries:s}=Sk(this._heartbeatsCache.heartbeats),a=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ui.warn(n),""}}}function i0(){return new Date().toISOString().substring(0,10)}function Sk(t,e=Tk){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),s0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),s0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g2()?y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s0(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function Rk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){Vl(new Yo("platform-logger",e=>new U2(e),"PRIVATE")),Vl(new Yo("heartbeat",e=>new bk(e),"PRIVATE")),qi(ng,t0,t),qi(ng,t0,"esm2017"),qi("fire-js","")}Ik("");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,ob;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function V(){}V.prototype=A.prototype,P.D=A.prototype,P.prototype=new V,P.prototype.constructor=P,P.C=function(O,M,q){for(var F=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)F[Le-2]=arguments[Le];return A.prototype[M].apply(O,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,A,V){V||(V=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(V++)|A.charCodeAt(V++)<<8|A.charCodeAt(V++)<<16|A.charCodeAt(V++)<<24;else for(M=0;16>M;++M)O[M]=A[V++]|A[V++]<<8|A[V++]<<16|A[V++]<<24;A=P.g[0],V=P.g[1],M=P.g[2];var q=P.g[3],F=A+(q^V&(M^q))+O[0]+3614090360&4294967295;A=V+(F<<7&4294967295|F>>>25),F=q+(M^A&(V^M))+O[1]+3905402710&4294967295,q=A+(F<<12&4294967295|F>>>20),F=M+(V^q&(A^V))+O[2]+606105819&4294967295,M=q+(F<<17&4294967295|F>>>15),F=V+(A^M&(q^A))+O[3]+3250441966&4294967295,V=M+(F<<22&4294967295|F>>>10),F=A+(q^V&(M^q))+O[4]+4118548399&4294967295,A=V+(F<<7&4294967295|F>>>25),F=q+(M^A&(V^M))+O[5]+1200080426&4294967295,q=A+(F<<12&4294967295|F>>>20),F=M+(V^q&(A^V))+O[6]+2821735955&4294967295,M=q+(F<<17&4294967295|F>>>15),F=V+(A^M&(q^A))+O[7]+4249261313&4294967295,V=M+(F<<22&4294967295|F>>>10),F=A+(q^V&(M^q))+O[8]+1770035416&4294967295,A=V+(F<<7&4294967295|F>>>25),F=q+(M^A&(V^M))+O[9]+2336552879&4294967295,q=A+(F<<12&4294967295|F>>>20),F=M+(V^q&(A^V))+O[10]+4294925233&4294967295,M=q+(F<<17&4294967295|F>>>15),F=V+(A^M&(q^A))+O[11]+2304563134&4294967295,V=M+(F<<22&4294967295|F>>>10),F=A+(q^V&(M^q))+O[12]+1804603682&4294967295,A=V+(F<<7&4294967295|F>>>25),F=q+(M^A&(V^M))+O[13]+4254626195&4294967295,q=A+(F<<12&4294967295|F>>>20),F=M+(V^q&(A^V))+O[14]+2792965006&4294967295,M=q+(F<<17&4294967295|F>>>15),F=V+(A^M&(q^A))+O[15]+1236535329&4294967295,V=M+(F<<22&4294967295|F>>>10),F=A+(M^q&(V^M))+O[1]+4129170786&4294967295,A=V+(F<<5&4294967295|F>>>27),F=q+(V^M&(A^V))+O[6]+3225465664&4294967295,q=A+(F<<9&4294967295|F>>>23),F=M+(A^V&(q^A))+O[11]+643717713&4294967295,M=q+(F<<14&4294967295|F>>>18),F=V+(q^A&(M^q))+O[0]+3921069994&4294967295,V=M+(F<<20&4294967295|F>>>12),F=A+(M^q&(V^M))+O[5]+3593408605&4294967295,A=V+(F<<5&4294967295|F>>>27),F=q+(V^M&(A^V))+O[10]+38016083&4294967295,q=A+(F<<9&4294967295|F>>>23),F=M+(A^V&(q^A))+O[15]+3634488961&4294967295,M=q+(F<<14&4294967295|F>>>18),F=V+(q^A&(M^q))+O[4]+3889429448&4294967295,V=M+(F<<20&4294967295|F>>>12),F=A+(M^q&(V^M))+O[9]+568446438&4294967295,A=V+(F<<5&4294967295|F>>>27),F=q+(V^M&(A^V))+O[14]+3275163606&4294967295,q=A+(F<<9&4294967295|F>>>23),F=M+(A^V&(q^A))+O[3]+4107603335&4294967295,M=q+(F<<14&4294967295|F>>>18),F=V+(q^A&(M^q))+O[8]+1163531501&4294967295,V=M+(F<<20&4294967295|F>>>12),F=A+(M^q&(V^M))+O[13]+2850285829&4294967295,A=V+(F<<5&4294967295|F>>>27),F=q+(V^M&(A^V))+O[2]+4243563512&4294967295,q=A+(F<<9&4294967295|F>>>23),F=M+(A^V&(q^A))+O[7]+1735328473&4294967295,M=q+(F<<14&4294967295|F>>>18),F=V+(q^A&(M^q))+O[12]+2368359562&4294967295,V=M+(F<<20&4294967295|F>>>12),F=A+(V^M^q)+O[5]+4294588738&4294967295,A=V+(F<<4&4294967295|F>>>28),F=q+(A^V^M)+O[8]+2272392833&4294967295,q=A+(F<<11&4294967295|F>>>21),F=M+(q^A^V)+O[11]+1839030562&4294967295,M=q+(F<<16&4294967295|F>>>16),F=V+(M^q^A)+O[14]+4259657740&4294967295,V=M+(F<<23&4294967295|F>>>9),F=A+(V^M^q)+O[1]+2763975236&4294967295,A=V+(F<<4&4294967295|F>>>28),F=q+(A^V^M)+O[4]+1272893353&4294967295,q=A+(F<<11&4294967295|F>>>21),F=M+(q^A^V)+O[7]+4139469664&4294967295,M=q+(F<<16&4294967295|F>>>16),F=V+(M^q^A)+O[10]+3200236656&4294967295,V=M+(F<<23&4294967295|F>>>9),F=A+(V^M^q)+O[13]+681279174&4294967295,A=V+(F<<4&4294967295|F>>>28),F=q+(A^V^M)+O[0]+3936430074&4294967295,q=A+(F<<11&4294967295|F>>>21),F=M+(q^A^V)+O[3]+3572445317&4294967295,M=q+(F<<16&4294967295|F>>>16),F=V+(M^q^A)+O[6]+76029189&4294967295,V=M+(F<<23&4294967295|F>>>9),F=A+(V^M^q)+O[9]+3654602809&4294967295,A=V+(F<<4&4294967295|F>>>28),F=q+(A^V^M)+O[12]+3873151461&4294967295,q=A+(F<<11&4294967295|F>>>21),F=M+(q^A^V)+O[15]+530742520&4294967295,M=q+(F<<16&4294967295|F>>>16),F=V+(M^q^A)+O[2]+3299628645&4294967295,V=M+(F<<23&4294967295|F>>>9),F=A+(M^(V|~q))+O[0]+4096336452&4294967295,A=V+(F<<6&4294967295|F>>>26),F=q+(V^(A|~M))+O[7]+1126891415&4294967295,q=A+(F<<10&4294967295|F>>>22),F=M+(A^(q|~V))+O[14]+2878612391&4294967295,M=q+(F<<15&4294967295|F>>>17),F=V+(q^(M|~A))+O[5]+4237533241&4294967295,V=M+(F<<21&4294967295|F>>>11),F=A+(M^(V|~q))+O[12]+1700485571&4294967295,A=V+(F<<6&4294967295|F>>>26),F=q+(V^(A|~M))+O[3]+2399980690&4294967295,q=A+(F<<10&4294967295|F>>>22),F=M+(A^(q|~V))+O[10]+4293915773&4294967295,M=q+(F<<15&4294967295|F>>>17),F=V+(q^(M|~A))+O[1]+2240044497&4294967295,V=M+(F<<21&4294967295|F>>>11),F=A+(M^(V|~q))+O[8]+1873313359&4294967295,A=V+(F<<6&4294967295|F>>>26),F=q+(V^(A|~M))+O[15]+4264355552&4294967295,q=A+(F<<10&4294967295|F>>>22),F=M+(A^(q|~V))+O[6]+2734768916&4294967295,M=q+(F<<15&4294967295|F>>>17),F=V+(q^(M|~A))+O[13]+1309151649&4294967295,V=M+(F<<21&4294967295|F>>>11),F=A+(M^(V|~q))+O[4]+4149444226&4294967295,A=V+(F<<6&4294967295|F>>>26),F=q+(V^(A|~M))+O[11]+3174756917&4294967295,q=A+(F<<10&4294967295|F>>>22),F=M+(A^(q|~V))+O[2]+718787259&4294967295,M=q+(F<<15&4294967295|F>>>17),F=V+(q^(M|~A))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+q&4294967295}r.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var V=A-this.blockSize,O=this.B,M=this.h,q=0;q<A;){if(M==0)for(;q<=V;)s(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<A;)if(O[M++]=P.charCodeAt(q++),M==this.blockSize){s(this,O),M=0;break}}else for(;q<A;)if(O[M++]=P[q++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=A},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var V=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=V&255,V/=256;for(this.u(P),P=Array(16),A=V=0;4>A;++A)for(var O=0;32>O;O+=8)P[V++]=this.g[A]>>>O&255;return P};function a(P,A){var V=c;return Object.prototype.hasOwnProperty.call(V,P)?V[P]:V[P]=A(P)}function l(P,A){this.h=A;for(var V=[],O=!0,M=P.length-1;0<=M;M--){var q=P[M]|0;O&&q==A||(V[M]=q,O=!1)}this.g=V}var c={};function d(P){return-128<=P&&128>P?a(P,function(A){return new l([A|0],0>A?-1:0)}):new l([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return x(p(-P));for(var A=[],V=1,O=0;P>=V;O++)A[O]=P/V|0,V*=4294967296;return new l(A,0)}function g(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return x(g(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=p(Math.pow(A,8)),O=_,M=0;M<P.length;M+=8){var q=Math.min(8,P.length-M),F=parseInt(P.substring(M,M+q),A);8>q?(q=p(Math.pow(A,q)),O=O.j(q).add(p(F))):(O=O.j(V),O=O.add(p(F)))}return O}var _=d(0),w=d(1),b=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-x(this).m();for(var P=0,A=1,V=0;V<this.g.length;V++){var O=this.i(V);P+=(0<=O?O:4294967296+O)*A,A*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(S(this))return"-"+x(this).toString(P);for(var A=p(Math.pow(P,6)),V=this,O="";;){var M=L(V,A).g;V=I(V,M.j(A));var q=((0<V.g.length?V.g[0]:V.h)>>>0).toString(P);if(V=M,C(V))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=I(this,P),S(P)?-1:C(P)?0:1};function x(P){for(var A=P.g.length,V=[],O=0;O<A;O++)V[O]=~P.g[O];return new l(V,~P.h).add(w)}t.abs=function(){return S(this)?x(this):this},t.add=function(P){for(var A=Math.max(this.g.length,P.g.length),V=[],O=0,M=0;M<=A;M++){var q=O+(this.i(M)&65535)+(P.i(M)&65535),F=(q>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);O=F>>>16,q&=65535,F&=65535,V[M]=F<<16|q}return new l(V,V[V.length-1]&-2147483648?-1:0)};function I(P,A){return P.add(x(A))}t.j=function(P){if(C(this)||C(P))return _;if(S(this))return S(P)?x(this).j(x(P)):x(x(this).j(P));if(S(P))return x(this.j(x(P)));if(0>this.l(b)&&0>P.l(b))return p(this.m()*P.m());for(var A=this.g.length+P.g.length,V=[],O=0;O<2*A;O++)V[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<P.g.length;M++){var q=this.i(O)>>>16,F=this.i(O)&65535,Le=P.i(M)>>>16,je=P.i(M)&65535;V[2*O+2*M]+=F*je,D(V,2*O+2*M),V[2*O+2*M+1]+=q*je,D(V,2*O+2*M+1),V[2*O+2*M+1]+=F*Le,D(V,2*O+2*M+1),V[2*O+2*M+2]+=q*Le,D(V,2*O+2*M+2)}for(O=0;O<A;O++)V[O]=V[2*O+1]<<16|V[2*O];for(O=A;O<2*A;O++)V[O]=0;return new l(V,0)};function D(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function j(P,A){this.g=P,this.h=A}function L(P,A){if(C(A))throw Error("division by zero");if(C(P))return new j(_,_);if(S(P))return A=L(x(P),A),new j(x(A.g),x(A.h));if(S(A))return A=L(P,x(A)),new j(x(A.g),A.h);if(30<P.g.length){if(S(P)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var V=w,O=A;0>=O.l(P);)V=$(V),O=$(O);var M=Q(V,1),q=Q(O,1);for(O=Q(O,2),V=Q(V,2);!C(O);){var F=q.add(O);0>=F.l(P)&&(M=M.add(V),q=F),O=Q(O,1),V=Q(V,1)}return A=I(P,M.j(A)),new j(M,A)}for(M=_;0<=P.l(A);){for(V=Math.max(1,Math.floor(P.m()/A.m())),O=Math.ceil(Math.log(V)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=p(V),F=q.j(A);S(F)||0<F.l(P);)V-=O,q=p(V),F=q.j(A);C(q)&&(q=w),M=M.add(q),P=I(P,F)}return new j(M,P)}t.A=function(P){return L(this,P).h},t.and=function(P){for(var A=Math.max(this.g.length,P.g.length),V=[],O=0;O<A;O++)V[O]=this.i(O)&P.i(O);return new l(V,this.h&P.h)},t.or=function(P){for(var A=Math.max(this.g.length,P.g.length),V=[],O=0;O<A;O++)V[O]=this.i(O)|P.i(O);return new l(V,this.h|P.h)},t.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),V=[],O=0;O<A;O++)V[O]=this.i(O)^P.i(O);return new l(V,this.h^P.h)};function $(P){for(var A=P.g.length+1,V=[],O=0;O<A;O++)V[O]=P.i(O)<<1|P.i(O-1)>>>31;return new l(V,P.h)}function Q(P,A){var V=A>>5;A%=32;for(var O=P.g.length-V,M=[],q=0;q<O;q++)M[q]=0<A?P.i(q+V)>>>A|P.i(q+V+1)<<32-A:P.i(q+V);return new l(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ob=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,zi=l}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ab,hl,lb,qc,sg,ub,cb,hb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,T){return h==Array.prototype||h==Object.prototype||(h[y]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var T=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var G=h[k];if(!(G in T))break e;T=T[G]}h=h[h.length-1],k=T[h],y=y(k),y!=k&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var T=0,k=!1,G={next:function(){if(!k&&T<h.length){var J=T++;return{value:y(J,h[J]),done:!1}}return k=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,T){return h.call.apply(h.bind,arguments)}function _(h,y,T){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,k),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function w(h,y,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function b(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function C(h,y){function T(){}T.prototype=y.prototype,h.aa=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(k,G,J){for(var le=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)le[Je-2]=arguments[Je];return y.prototype[G].apply(k,le)}}function S(h){const y=h.length;if(0<y){const T=Array(y);for(let k=0;k<y;k++)T[k]=h[k];return T}return[]}function x(h,y){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(d(k)){const G=h.length||0,J=k.length||0;h.length=G+J;for(let le=0;le<J;le++)h[G+le]=k[le]}else h.push(k)}}class I{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var $=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Q(h,y,T){for(const k in h)y.call(T,h[k],k,h)}function P(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function A(h){const y={};for(const T in h)y[T]=h[T];return y}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let T,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(T in k)h[T]=k[T];for(let J=0;J<V.length;J++)T=V[J],Object.prototype.hasOwnProperty.call(k,T)&&(h[T]=k[T])}}function M(h){var y=1;h=h.split(":");const T=[];for(;0<y&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function q(h){c.setTimeout(()=>{throw h},0)}function F(){var h=me;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Le{constructor(){this.h=this.g=null}add(y,T){const k=je.get();k.set(y,T),this.h?this.h.next=k:this.g=k,this.h=k}}var je=new I(()=>new be,h=>h.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,oe=!1,me=new Le,ue=()=>{const h=c.Promise.resolve(void 0);ye=()=>{h.then(W)}};var W=()=>{for(var h;h=F();){try{h.h.call(h.g)}catch(T){q(T)}var y=je;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h}();function ke(h,y){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if($){e:{try{L(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}C(ke,ve);var De={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Xe(h,y,T,k,G){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!k,this.ha=G,this.key=++Me,this.da=this.fa=!1}function yt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Nt(h){this.src=h,this.g={},this.h=0}Nt.prototype.add=function(h,y,T,k,G){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var le=_r(h,y,k,G);return-1<le?(y=h[le],T||(y.fa=!1)):(y=new Xe(y,this.src,J,!!k,G),y.fa=T,h.push(y)),y};function vr(h,y){var T=y.type;if(T in h.g){var k=h.g[T],G=Array.prototype.indexOf.call(k,y,void 0),J;(J=0<=G)&&Array.prototype.splice.call(k,G,1),J&&(yt(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function _r(h,y,T,k){for(var G=0;G<h.length;++G){var J=h[G];if(!J.da&&J.listener==y&&J.capture==!!T&&J.ha==k)return G}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),ss={};function os(h,y,T,k,G){if(Array.isArray(y)){for(var J=0;J<y.length;J++)os(h,y[J],T,k,G);return null}return T=Be(T),h&&h[Ue]?h.K(y,T,p(k)?!!k.capture:!1,G):Rt(h,y,T,!1,k,G)}function Rt(h,y,T,k,G,J){if(!y)throw Error("Invalid event type");var le=p(G)?!!G.capture:!!G,Je=vn(h);if(Je||(h[zr]=Je=new Nt(h)),T=Je.add(y,T,k,le,J),T.proxy)return T;if(k=hn(),T.proxy=k,k.src=h,k.listener=T,h.addEventListener)Pe||(G=le),G===void 0&&(G=!1),h.addEventListener(y.toString(),k,G);else if(h.attachEvent)h.attachEvent(it(y.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hn(){function h(T){return y.call(h.src,h.listener,T)}const y=Ze;return h}function Ht(h,y,T,k,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ht(h,y[J],T,k,G);else k=p(k)?!!k.capture:!!k,T=Be(T),h&&h[Ue]?(h=h.i,y=String(y).toString(),y in h.g&&(J=h.g[y],T=_r(J,T,k,G),-1<T&&(yt(J[T]),Array.prototype.splice.call(J,T,1),J.length==0&&(delete h.g[y],h.h--)))):h&&(h=vn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_r(y,T,k,G)),(T=-1<h?y[h]:null)&&rt(T))}function rt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ue])vr(y.i,h);else{var T=h.type,k=h.proxy;y.removeEventListener?y.removeEventListener(T,k,h.capture):y.detachEvent?y.detachEvent(it(T),k):y.addListener&&y.removeListener&&y.removeListener(k),(T=vn(y))?(vr(T,h),T.h==0&&(T.src=null,y[zr]=null)):yt(h)}}}function it(h){return h in ss?ss[h]:ss[h]="on"+h}function Ze(h,y){if(h.da)h=!0;else{y=new ke(y,this);var T=h.listener,k=h.ha||h.src;h.fa&&rt(h),h=T.call(k,y)}return h}function vn(h){return h=h[zr],h instanceof Nt?h:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(h){return typeof h=="function"?h:(h[en]||(h[en]=function(y){return h.handleEvent(y)}),h[en])}function He(){Z.call(this),this.i=new Nt(this),this.M=this,this.F=null}C(He,Z),He.prototype[Ue]=!0,He.prototype.removeEventListener=function(h,y,T,k){Ht(this,h,y,T,k)};function ie(h,y){var T,k=h.F;if(k)for(T=[];k;k=k.F)T.push(k);if(h=h.M,k=y.type||y,typeof y=="string")y=new ve(y,h);else if(y instanceof ve)y.target=y.target||h;else{var G=y;y=new ve(k,h),O(y,G)}if(G=!0,T)for(var J=T.length-1;0<=J;J--){var le=y.g=T[J];G=Ye(le,k,!0,y)&&G}if(le=y.g=h,G=Ye(le,k,!0,y)&&G,G=Ye(le,k,!1,y)&&G,T)for(J=0;J<T.length;J++)le=y.g=T[J],G=Ye(le,k,!1,y)&&G}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var T=h.g[y],k=0;k<T.length;k++)yt(T[k]);delete h.g[y],h.h--}}this.F=null},He.prototype.K=function(h,y,T,k){return this.i.add(String(h),y,!1,T,k)},He.prototype.L=function(h,y,T,k){return this.i.add(String(h),y,!0,T,k)};function Ye(h,y,T,k){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,J=0;J<y.length;++J){var le=y[J];if(le&&!le.da&&le.capture==T){var Je=le.listener,Vt=le.ha||le.src;le.fa&&vr(h.i,le),G=Je.call(Vt,k)!==!1&&G}}return G&&!k.defaultPrevented}function Dt(h,y,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function st(h){h.g=Dt(()=>{h.g=null,h.i&&(h.i=!1,st(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class wr extends Z{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(h){Z.call(this),this.h=h,this.g={}}C(as,Z);var ya=[];function va(h){Q(h.g,function(y,T){this.g.hasOwnProperty(T)&&rt(y)},h),h.g={}}as.prototype.N=function(){as.aa.N.call(this),va(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=c.JSON.stringify,wa=c.JSON.parse,xa=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ls(){}ls.prototype.h=null;function Zs(h){return h.h||(h.h=h.i())}function eo(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ve.call(this,"d")}C(xr,ve);function to(){ve.call(this,"c")}C(to,ve);var Tr={},Ta=null;function us(){return Ta=Ta||new He}Tr.La="serverreachability";function Ea(h){ve.call(this,Tr.La,h)}C(Ea,ve);function Hr(h){const y=us();ie(y,new Ea(y))}Tr.STAT_EVENT="statevent";function ba(h,y){ve.call(this,Tr.STAT_EVENT,h),this.stat=y}C(ba,ve);function Tt(h){const y=us();ie(y,new ba(y,h))}Tr.Ma="timingevent";function no(h,y){ve.call(this,Tr.Ma,h),this.size=y}C(no,ve);function Jn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function hs(h,y,T,k,G,J){h.info(function(){if(h.g)if(J)for(var le="",Je=J.split("&"),Vt=0;Vt<Je.length;Vt++){var $e=Je[Vt].split("=");if(1<$e.length){var Ft=$e[0];$e=$e[1];var It=Ft.split("_");le=2<=It.length&&It[1]=="type"?le+(Ft+"="+$e+"&"):le+(Ft+"=redacted&")}}else le=null;else le=J;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+y+`
`+T+`
`+le})}function ro(h,y,T,k,G,J,le){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+y+`
`+T+`
`+J+" "+le})}function Zn(h,y,T,k){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xh(h,T)+(k?" "+k:"")})}function Sa(h,y){h.info(function(){return"TIMEOUT: "+y})}cs.prototype.info=function(){};function Xh(h,y){if(!h.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var k=T[h];if(!(2>k.length)){var G=k[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var le=1;le<G.length;le++)G[le]=""}}}}return _a(T)}catch{return y}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function ds(){}C(ds,ls),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},er=new ds;function tr(h,y,T,k){this.j=h,this.i=y,this.l=T,this.R=k||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var Ca={},so={};function oo(h,y,T){h.L=1,h.v=vi(An(y)),h.m=T,h.P=!0,Ra(h,null)}function Ra(h,y){h.F=Date.now(),tt(h),h.A=An(h.v);var T=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),wi(T.i,"t",k),h.C=0,T=h.j.J,h.h=new pu,h.g=Nu(h.j,T?y:null,!h.m),0<h.O&&(h.M=new wr(w(h.Y,h,h.g),h.O)),y=h.U,T=h.g,k=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(ya[0]=G.toString()),G=ya);for(var J=0;J<G.length;J++){var le=os(T,G[J],k||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Hr(),hs(h.i,h.u,h.A,h.l,h.R,h.m)}tr.prototype.ca=function(h){h=h.target;const y=this.M;y&&wn(h)==3?y.j():this.Y(h)},tr.prototype.Y=function(h){try{if(h==this.g)e:{const It=wn(this.g);var y=this.g.Ba();const Bn=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||It!=4||y==7||(y==8||0>=Bn?Hr(3):Hr(2)),fs(this);var T=this.g.Z();this.X=T;t:if(mu(this)){var k=Da(this.g);h="";var G=k.length,J=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),pi(this);var le="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(k[y],{stream:!(J&&y==G-1)});k.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=T==200,ro(this.i,this.u,this.A,this.l,this.R,It,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Vt=this.g;if((Je=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Je)){var $e=Je;break t}}$e=null}if(T=$e)Zn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,T);else{this.o=!1,this.s=3,Tt(12),Fn(this),pi(this);break e}}if(this.P){T=!0;let kn;for(;!this.J&&this.C<le.length;)if(kn=Yh(this,le),kn==so){It==4&&(this.s=4,Tt(14),T=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Ca){this.s=4,Tt(15),Zn(this.i,this.l,le,"[Invalid Chunk]"),T=!1;break}else Zn(this.i,this.l,kn,null),Ia(this,kn);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||le.length!=0||this.h.h||(this.s=1,Tt(16),T=!1),this.o=this.o&&T,!T)Zn(this.i,this.l,le,"[Invalid Chunked Response]"),Fn(this),pi(this);else if(0<le.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),La(Ft),Ft.M=!0,Tt(11))}}else Zn(this.i,this.l,le,null),Ia(this,le);It==4&&Fn(this),this.o&&!this.J&&(It==4?vo(this.j,this):(this.o=!1,tt(this)))}else fo(this.g),T==400&&0<le.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Fn(this),pi(this)}}}catch{}finally{}};function mu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Yh(h,y){var T=h.C,k=y.indexOf(`
`,T);return k==-1?so:(T=Number(y.substring(T,k)),isNaN(T)?Ca:(k+=1,k+T>y.length?so:(y=y.slice(k,k+T),h.C=k+T,y)))}tr.prototype.cancel=function(){this.J=!0,Fn(this)};function tt(h){h.S=Date.now()+h.I,gu(h,h.I)}function gu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Jn(w(h.ba,h),y)}function fs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}tr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Sa(this.i,this.A),this.L!=2&&(Hr(),Tt(17)),Fn(this),this.s=2,pi(this)):gu(this,this.S-h)};function pi(h){h.j.G==0||h.J||vo(h.j,h)}function Fn(h){fs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,va(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ia(h,y){try{var T=h.j;if(T.G!=0&&(T.g==h||dn(T.h,h))){if(!h.K&&dn(T.h,h)&&T.G==3){try{var k=T.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)yo(T),or(T);else break e;go(T),Tt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=Jn(w(T.Za,T),6e3));if(1>=vu(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Xr(T,11)}else if((h.K||T.g==h)&&yo(T),!D(y))for(G=T.Da.g.parse(y),y=0;y<G.length;y++){let $e=G[y];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const Ft=$e[3];Ft!=null&&(T.la=Ft,T.j.info("VER="+T.la));const It=$e[4];It!=null&&(T.Aa=It,T.j.info("SVER="+T.Aa));const Bn=$e[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(k=1.5*Bn,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const kn=h.g;if(kn){const ws=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var J=k.h;J.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Aa(J,J.h),J.h=null))}if(k.D){const wo=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(k.ya=wo,et(k.I,k.D,wo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var le=h;if(k.qa=ku(k,k.J?k.ia:null,k.W),le.K){_u(k.h,le);var Je=le,Vt=k.L;Vt&&(Je.I=Vt),Je.B&&(fs(Je),tt(Je)),k.g=le}else _s(k);0<T.i.length&&Cr(T)}else $e[0]!="stop"&&$e[0]!="close"||Xr(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Xr(T,7):Gt(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Hr(4)}catch{}}var yu=class{constructor(h,y){this.g=h,this.map=y}};function ps(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function In(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vu(h){return h.h?1:h.g?h.g.size:0}function dn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Aa(h,y){h.g?h.g.add(y):h.h=y}function _u(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ps.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.D);return y}return S(h.i)}function ao(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var y=[],T=h.length,k=0;k<T;k++)y.push(h[k]);return y}y=[],T=0;for(k in h)y[T++]=h[k];return y}function lo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var y=[];h=h.length;for(var T=0;T<h;T++)y.push(T);return y}y=[],T=0;for(const k in h)y[T++]=k;return y}}}function mi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var T=lo(h),k=ao(h),G=k.length,J=0;J<G;J++)y.call(void 0,k[J],T&&T[J],h)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(h,y){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var k=h[T].indexOf("="),G=null;if(0<=k){var J=h[T].substring(0,k);G=h[T].substring(k+1)}else J=h[T];y(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Wr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wr){this.h=h.h,gs(this,h.j),this.o=h.o,this.g=h.g,gi(this,h.s),this.l=h.l;var y=h.i,T=new Er;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),yi(this,T),this.m=h.m}else h&&(y=String(h).match(ms))?(this.h=!1,gs(this,y[1]||"",!0),this.o=Fe(y[2]||""),this.g=Fe(y[3]||"",!0),gi(this,y[4]),this.l=Fe(y[5]||"",!0),yi(this,y[6]||"",!0),this.m=Fe(y[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}Wr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(_i(y,uo,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(_i(y,uo,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(_i(T,T.charAt(0)=="/"?Eu:Tu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",_i(T,Pa)),h.join("")};function An(h){return new Wr(h)}function gs(h,y,T){h.j=T?Fe(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function gi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function yi(h,y,T){y instanceof Er?(h.i=y,br(h.i,h.h)):(T||(y=_i(y,bu)),h.i=new Er(y,h.h))}function et(h,y,T){h.i.set(y,T)}function vi(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fe(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _i(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,xu),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uo=/[#\/\?@]/g,Tu=/[#\?:]/g,Eu=/[#\?]/g,bu=/[#\?@]/g,Pa=/#/g;function Er(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Wt(h){h.g||(h.g=new Map,h.h=0,h.i&&Jh(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}t=Er.prototype,t.add=function(h,y){Wt(this),this.i=null,h=Un(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function nr(h,y){Wt(h),y=Un(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function rr(h,y){return Wt(h),y=Un(h,y),h.g.has(y)}t.forEach=function(h,y){Wt(this),this.g.forEach(function(T,k){T.forEach(function(G){h.call(y,G,k,this)},this)},this)},t.na=function(){Wt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let k=0;k<y.length;k++){const G=h[k];for(let J=0;J<G.length;J++)T.push(y[k])}return T},t.V=function(h){Wt(this);let y=[];if(typeof h=="string")rr(this,h)&&(y=y.concat(this.g.get(Un(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)y=y.concat(h[T])}return y},t.set=function(h,y){return Wt(this),this.i=null,h=Un(this,h),rr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function wi(h,y,T){nr(h,y),0<T.length&&(h.i=null,h.g.set(Un(h,y),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var k=y[T];const J=encodeURIComponent(String(k)),le=this.V(k);for(k=0;k<le.length;k++){var G=J;le[k]!==""&&(G+="="+encodeURIComponent(String(le[k]))),h.push(G)}}return this.i=h.join("&")};function Un(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function br(h,y){y&&!h.j&&(Wt(h),h.i=null,h.g.forEach(function(T,k){var G=k.toLowerCase();k!=G&&(nr(this,k),wi(this,G,T))},h)),h.j=y}function Zh(h,y){const T=new cs;if(c.Image){const k=new Image;k.onload=b(_n,T,"TestLoadImage: loaded",!0,y,k),k.onerror=b(_n,T,"TestLoadImage: error",!1,y,k),k.onabort=b(_n,T,"TestLoadImage: abort",!1,y,k),k.ontimeout=b(_n,T,"TestLoadImage: timeout",!1,y,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else y(!1)}function Su(h,y){const T=new cs,k=new AbortController,G=setTimeout(()=>{k.abort(),_n(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:k.signal}).then(J=>{clearTimeout(G),J.ok?_n(T,"TestPingServer: ok",!0,y):_n(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),_n(T,"TestPingServer: error",!1,y)})}function _n(h,y,T,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(T)}catch{}}function ed(){this.g=new xa}function Cu(h,y,T){const k=T||"";try{mi(h,function(G,J){let le=G;p(G)&&(le=_a(G)),y.push(k+J+"="+encodeURIComponent(le))})}catch(G){throw y.push(k+"type="+encodeURIComponent("_badmap")),G}}function Gr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Gr,ls),Gr.prototype.g=function(){return new ys(this.l,this.j)},Gr.prototype.i=function(h){return function(){return h}}({});function ys(h,y){He.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ys,He),t=ys.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,sr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ir(this):sr(this),this.readyState==3&&Ru(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ir(this))},t.Qa=function(h){this.g&&(this.response=h,ir(this))},t.ga=function(){this.g&&ir(this)};function ir(h){h.readyState=4,h.l=null,h.j=null,h.v=null,sr(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kr(h){let y="";return Q(h,function(T,k){y+=k,y+=":",y+=T,y+=`\r
`}),y}function xi(h,y,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Kr(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):et(h,y,T))}function ut(h){He.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ut,He);var td=/^https?$/i,ka=["POST","PUT"];t=ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?Zs(this.o):Zs(er),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){vs(this,J);return}if(h=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)T.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())T.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ka,y,void 0))||k||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,le]of T)this.g.setRequestHeader(J,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){vs(this,J)}};function vs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,co(h),Pn(h)}function co(h){h.A||(h.A=!0,ie(h,"complete"),ie(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ie(this,"complete"),ie(this,"abort"),Pn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},t.bb=function(){Na(this)};function Na(h){if(h.h&&typeof l<"u"&&(!h.v[1]||wn(h)!=4||h.Z()!=2)){if(h.u&&wn(h)==4)Dt(h.Ea,0,h);else if(ie(h,"readystatechange"),wn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var k;if(k=le===0){var G=String(h.D).match(ms)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),k=!td.test(G?G.toLowerCase():"")}T=k}if(T)ie(h,"complete"),ie(h,"success");else{h.m=6;try{var J=2<wn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",co(h)}}finally{Pn(h)}}}}function Pn(h,y){if(h.g){ho(h);const T=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||ie(h,"ready");try{T.onreadystatechange=k}catch{}}}function ho(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function wn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),wa(y)}};function Da(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fo(h){const y={};h=(h.g&&2<=wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(D(h[k]))continue;var T=M(h[k]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=y[G]||[];y[G]=J,J.push(T)}P(y,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Va(h){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,h),this.cb=Sr("retryDelaySeedMs",1e4,h),this.Wa=Sr("forwardChannelMaxRetries",2,h),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(h&&h.concurrentRequestLimit),this.Da=new ed,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Va.prototype,t.la=8,t.G=1,t.connect=function(h,y,T,k){Tt(0),this.W=h,this.H=y||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=ku(this,null,this.W),Cr(this)};function Gt(h){if(po(h),h.G==3){var y=h.U++,T=An(h.I);if(et(T,"SID",h.K),et(T,"RID",y),et(T,"TYPE","terminate"),Qr(h,T),y=new tr(h,h.j,y),y.L=2,y.v=vi(An(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.v,T=!0),T||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tt(y)}Pu(h)}function or(h){h.g&&(La(h),h.g.cancel(),h.g=null)}function po(h){or(h),h.u&&(c.clearTimeout(h.u),h.u=null),yo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Cr(h){if(!In(h.h)&&!h.s){h.s=!0;var y=h.Ga;ye||ue(),oe||(ye(),oe=!0),me.add(y,h),h.B=0}}function nd(h,y){return vu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Jn(w(h.Ga,h,y),Au(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new tr(this,this.j,h);let J=this.o;if(this.S&&(J?(J=A(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Ti(this,G,y),T=An(this.I),et(T,"RID",h),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Qr(this,T),J&&(this.O?y="headers="+encodeURIComponent(String(Kr(J)))+"&"+y:this.m&&xi(T,this.m,J)),Aa(this.h,G),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",y),et(T,"SID","null"),G.T=!0,oo(G,T,null)):oo(G,T,y),this.G=2}}else this.G==3&&(h?mo(this,h):this.i.length==0||In(this.h)||mo(this))};function mo(h,y){var T;y?T=y.l:T=h.U++;const k=An(h.I);et(k,"SID",h.K),et(k,"RID",T),et(k,"AID",h.T),Qr(h,k),h.m&&h.o&&xi(k,h.m,h.o),T=new tr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ti(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Aa(h.h,T),oo(T,k,y)}function Qr(h,y){h.H&&Q(h.H,function(T,k){et(y,k,T)}),h.l&&mi({},function(T,k){et(y,k,T)})}function Ti(h,y,T){T=Math.min(h.i.length,T);var k=h.l?w(h.l.Na,h.l,h):null;e:{var G=h.i;let J=-1;for(;;){const le=["count="+T];J==-1?0<T?(J=G[0].g,le.push("ofs="+J)):J=0:le.push("ofs="+J);let Je=!0;for(let Vt=0;Vt<T;Vt++){let $e=G[Vt].g;const Ft=G[Vt].map;if($e-=J,0>$e)J=Math.max(0,G[Vt].g-100),Je=!1;else try{Cu(Ft,le,"req"+$e+"_")}catch{k&&k(Ft)}}if(Je){k=le.join("&");break e}}}return h=h.i.splice(0,T),y.D=h,k}function _s(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ye||ue(),oe||(ye(),oe=!0),me.add(y,h),h.v=0}}function go(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Jn(w(h.Fa,h),Au(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jn(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),or(this),Iu(this))};function La(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Iu(h){h.g=new tr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=An(h.qa);et(y,"RID","rpc"),et(y,"SID",h.K),et(y,"AID",h.T),et(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(y,"TO",h.ja),et(y,"TYPE","xmlhttp"),Qr(h,y),h.m&&h.o&&xi(y,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=vi(An(y)),T.m=null,T.P=!0,Ra(T,h)}t.Za=function(){this.C!=null&&(this.C=null,or(this),go(this),Tt(19))};function yo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function vo(h,y){var T=null;if(h.g==y){yo(h),La(h),h.g=null;var k=2}else if(dn(h.h,y))T=y.D,_u(h.h,y),k=1;else return;if(h.G!=0){if(y.o)if(k==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;k=us(),ie(k,new no(k,T)),Cr(h)}else _s(h);else if(G=y.s,G==3||G==0&&0<y.X||!(k==1&&nd(h,y)||k==2&&go(h)))switch(T&&0<T.length&&(y=h.h,y.i=y.i.concat(T)),G){case 1:Xr(h,5);break;case 4:Xr(h,10);break;case 3:Xr(h,6);break;default:Xr(h,2)}}}function Au(h,y){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*y}function Xr(h,y){if(h.j.info("Error code "+y),y==2){var T=w(h.fb,h),k=h.Xa;const G=!k;k=new Wr(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gs(k,"https"),vi(k),G?Zh(k.toString(),T):Su(k.toString(),T)}else Tt(2);h.G=0,h.l&&h.l.sa(y),Pu(h),po(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Pu(h){if(h.G=0,h.ka=[],h.l){const y=wu(h.h);(y.length!=0||h.i.length!=0)&&(x(h.ka,y),x(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function ku(h,y,T){var k=T instanceof Wr?An(T):new Wr(T);if(k.g!="")y&&(k.g=y+"."+k.g),gi(k,k.s);else{var G=c.location;k=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var J=new Wr(null);k&&gs(J,k),y&&(J.g=y),G&&gi(J,G),T&&(J.l=T),k=J}return T=h.D,y=h.ya,T&&y&&et(k,T,y),et(k,"VER",h.la),Qr(h,k),k}function Nu(h,y,T){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ut(new Gr({eb:T})):new ut(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}t=Oa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _o(){}_o.prototype.g=function(h,y){return new fn(h,y)};function fn(h,y){He.call(this),this.g=new Va(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!D(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Rr(this)}C(fn,He),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Gt(this.g)},fn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=_a(h),h=T);y.i.push(new yu(y.Ya++,h)),y.G==3&&Cr(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,fn.aa.N.call(this)};function Du(h){xr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Du,xr);function Vu(){to.call(this),this.status=1}C(Vu,to);function Rr(h){this.g=h}C(Rr,Oa),Rr.prototype.ua=function(){ie(this.g,"a")},Rr.prototype.ta=function(h){ie(this.g,new Du(h))},Rr.prototype.sa=function(h){ie(this.g,new Vu)},Rr.prototype.ra=function(){ie(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,hb=function(){return new _o},cb=function(){return us()},ub=Tr,sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,qc=io,fu.COMPLETE="complete",lb=fu,eo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",He.prototype.listen=He.prototype.K,hl=eo,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,ab=ut}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",l0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new XE("@firebase/firestore");function Bo(){return $s.logLevel}function he(t,...e){if($s.logLevel<=ze.DEBUG){const n=e.map(ey);$s.debug(`Firestore (${ua}): ${t}`,...n)}}function ci(t,...e){if($s.logLevel<=ze.ERROR){const n=e.map(ey);$s.error(`Firestore (${ua}): ${t}`,...n)}}function Ki(t,...e){if($s.logLevel<=ze.WARN){const n=e.map(ey);$s.warn(`Firestore (${ua}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,db(t,r,n)}function db(t,e,n){let r=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ci(r),new Error(r)}function Qe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||db(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ak{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class Pk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kk{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new fb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Nk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Lk(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function og(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ne(r,s);{const a=pb(),l=Ok(a.encode(c0(t,n)),a.encode(c0(e,n)));return l!==0?l:Ne(r,s)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function c0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ok(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function Jo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="__name__";class Nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Nr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const r=Nr.isNumericId(e),s=Nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class ft extends Nr{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Nr{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return jk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h0}static keyField(){return new Jt([h0])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fk(t,e,n,r){if(e===!0&&r===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d0(t){if(!Ee.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ny(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Ol(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ny(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function tu(t,e){if(!mb(t))throw new _e(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new _e(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=-62135596800,p0=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p0);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f0)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:kt("string",Ke._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ke(0,0))}static max(){return new Ie(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function Uk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Qi(s,Ee.empty(),e)}function Bk(t){return new Qi(t.readTime,t.key,jl)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(Ie.min(),Ee.empty(),jl)}static max(){return new Qi(Ie.max(),Ee.empty(),jl)}}function $k(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==qk)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new ee((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function Hk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ch.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function Rh(t){return t==null}function nh(t){return t===0&&1/t==-1/0}function Wk(t){return typeof t=="number"&&Number.isInteger(t)&&!nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="";function Gk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=m0(e)),e=Kk(t.get(n),e);return m0(e)}function Kk(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case gb:n+="";break;default:n+=a}}return n}function m0(t){return t+gb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Yt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Mt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vb("Invalid base64 string: "+a):a}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Qk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=Qk.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="server_timestamp",wb="__type__",xb="__previous_value__",Tb="__local_write_time__";function iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wb])===null||n===void 0?void 0:n.stringValue)===_b}function Ih(t){const e=t.mapValue.fields[xb];return iy(e)?Ih(e):e}function Ml(t){const e=Xi(t.mapValue.fields[Tb].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,s,a,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const rh="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",bb="__max__",Nc={mapValue:{fields:{__type__:{stringValue:bb}}}},Sb="__vector__",ih="value";function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iy(t)?4:Jk(t)?9007199254740991:Yk(t)?10:11:Ce(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Xi(s.timestampValue),c=Xi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Yi(s.bytesValue).isEqual(Yi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return St(s.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return St(s.integerValue)===St(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=St(s.doubleValue),c=St(a.doubleValue);return l===c?nh(l)===nh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(g0(l)!==g0(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ur(l[d],c[d])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function Ul(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=St(a.integerValue||a.doubleValue),d=St(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(Ml(t),Ml(e));case 5:return og(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Yi(a),d=Yi(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=Ne(c[p],d[p]);if(g!==0)return g}return Ne(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ne(St(a.latitude),St(l.latitude));return c!==0?c:Ne(St(a.longitude),St(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _0(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,p,g;const _=a.fields||{},w=l.fields||{},b=(c=_[ih])===null||c===void 0?void 0:c.arrayValue,C=(d=w[ih])===null||d===void 0?void 0:d.arrayValue,S=Ne(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return S!==0?S:_0(b,C)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Nc.mapValue&&l===Nc.mapValue)return 0;if(a===Nc.mapValue)return 1;if(l===Nc.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const w=og(d[_],g[_]);if(w!==0)return w;const b=Zo(c[d[_]],p[g[_]]);if(b!==0)return b}return Ne(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Xi(t),r=Xi(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function _0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Zo(n[s],r[s]);if(a)return a}return Ne(n.length,r.length)}function ea(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=ag(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${ag(n.fields[l])}`;return s+"}"}(t.mapValue):Ce(61005,{value:t})}function zc(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(t);return e?16+zc(e):16;case 5:return 2*t.stringValue.length;case 6:return Yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+zc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ks(r.fields,(a,l)=>{s+=a.length+zc(l)}),s}(t.mapValue);default:throw Ce(13486,{value:t})}}function lg(t){return!!t&&"integerValue"in t}function sy(t){return!!t&&"arrayValue"in t}function w0(t){return!!t&&"nullValue"in t}function x0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function Yk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||n===void 0?void 0:n.stringValue)===Sb}function Tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Jk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Tl(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Xn(Tl(this.value))}}function Cb(t){const e=[];return Ks(t.fields,(n,r)=>{const s=new Jt([n]);if(Hc(r)){const a=Cb(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new un(e,0,Ie.min(),Ie.min(),Ie.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,s){return new un(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new un(e,2,n,Ie.min(),Ie.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ie.min(),Ie.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function T0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),n.key):r=Zo(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class jt extends Rb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tN(e,n,r):n==="array-contains"?new iN(e,r):n==="in"?new sN(e,r):n==="not-in"?new oN(e,r):n==="array-contains-any"?new aN(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nN(e,r):new rN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends Rb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Br(e,n)}matches(e){return Ib(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ib(t){return t.op==="and"}function Ab(t){return eN(t)&&Ib(t)}function eN(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function ug(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(Ab(t))return t.filters.map(e=>ug(e)).join(",");{const e=t.filters.map(n=>ug(n)).join(",");return`${t.op}(${e})`}}function Pb(t,e){return t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof Br?function(r,s){return s instanceof Br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&Pb(l,s.filters[c]),!0):!1}(t,e):void Ce(19439)}function kb(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(kb).join(" ,")+"}"}(t):"Filter"}class tN extends jt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class nN extends jt{constructor(e,n){super(e,"in",n),this.keys=Nb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rN extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Nb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class iN extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sy(n)&&Ul(n.arrayValue,this.value)}}class sN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class oN extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ul(this.value.arrayValue,n)}}class aN extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function b0(t,e=null,n=[],r=[],s=null,a=null,l=null){return new lN(t,e,n,r,s,a,l)}function oy(t){const e=Ae(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ug(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.Pe=n}return e.Pe}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E0(t.startAt,e.startAt)&&E0(t.endAt,e.endAt)}function cg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function uN(t,e,n,r,s,a,l,c){return new Ah(t,e,n,r,s,a,l,c)}function ly(t){return new Ah(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cN(t){return t.collectionGroup!==null}function El(t){const e=Ae(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mt(Jt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new oh(a,r))}),n.has(Jt.keyField().canonicalString())||e.Te.push(new oh(Jt.keyField(),r))}return e.Te}function Vr(t){const e=Ae(t);return e.Ie||(e.Ie=hN(e,El(t))),e.Ie}function hN(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new oh(s.field,a)});const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hg(t,e,n){return new Ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return ay(Vr(t),Vr(e))&&t.limitType===e.limitType}function Db(t){return`${oy(Vr(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kb(s)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ea(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ea(s)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of El(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const p=T0(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,El(r),s)||r.endAt&&!function(l,c,d){const p=T0(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,El(r),s))}(t,e)}function dN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vb(t){return(e,n)=>{let r=!1;for(const s of El(t)){const a=fN(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function fN(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Zo(d,p):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new gt(Ee.comparator);function hi(){return pN}const Lb=new gt(Ee.comparator);function dl(...t){let e=Lb;for(const n of t)e=e.insert(n.key,n);return e}function Ob(t){let e=Lb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function js(){return bl()}function jb(){return bl()}function bl(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const mN=new gt(Ee.comparator),gN=new Mt(Ee.comparator);function Oe(...t){let e=gN;for(const n of t)e=e.add(n);return e}const yN=new Mt(Ne);function vN(){return yN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function Mb(t){return{integerValue:""+t}}function _N(t,e){return Wk(e)?Mb(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function wN(t,e,n){return t instanceof ah?function(s,a){const l={fields:{[wb]:{stringValue:_b},[Tb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&iy(a)&&(a=Ih(a)),a&&(l.fields[xb]=a),{mapValue:l}}(n,e):t instanceof Bl?Ub(t,e):t instanceof $l?Bb(t,e):function(s,a){const l=Fb(s,a),c=C0(l)+C0(s.Ee);return lg(l)&&lg(s.Ee)?Mb(c):uy(s.serializer,c)}(t,e)}function xN(t,e,n){return t instanceof Bl?Ub(t,e):t instanceof $l?Bb(t,e):n}function Fb(t,e){return t instanceof lh?function(r){return lg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ah extends Nh{}class Bl extends Nh{constructor(e){super(),this.elements=e}}function Ub(t,e){const n=$b(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class $l extends Nh{constructor(e){super(),this.elements=e}}function Bb(t,e){let n=$b(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class lh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function C0(t){return St(t.integerValue||t.doubleValue)}function $b(t){return sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bl&&s instanceof Bl||r instanceof $l&&s instanceof $l?Jo(r.elements,s.elements,Ur):r instanceof lh&&s instanceof lh?Ur(r.Ee,s.Ee):r instanceof ah&&s instanceof ah}(t.transform,e.transform)}class EN{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dh{}function qb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hb(t.key,oi.none()):new nu(t.key,t.data,oi.none());{const n=t.data,r=Xn.empty();let s=new Mt(Jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Xs(t.key,r,new pr(s.toArray()),oi.none())}}function bN(t,e,n){t instanceof nu?function(s,a,l){const c=s.value.clone(),d=I0(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(s,a,l){if(!Wc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=I0(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(zb(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof nu?function(a,l,c,d){if(!Wc(a.precondition,l))return c;const p=a.value.clone(),g=A0(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(a,l,c,d){if(!Wc(a.precondition,l))return c;const p=A0(a.fieldTransforms,d,l),g=l.data;return g.setAll(zb(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return Wc(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function SN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=Fb(r.transform,s||null);a!=null&&(n===null&&(n=Xn.empty()),n.set(r.field,a))}return n||null}function R0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jo(r,s,(a,l)=>TN(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nu extends Dh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xs extends Dh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I0(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,xN(l,c,n[s]))}return r}function A0(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,wN(a,l,e))}return r}class Hb extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&bN(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jb();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=qb(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>R0(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>R0(n,r))}}class cy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return mN}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new cy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,qe;function PN(t){switch(t){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function Wb(t){if(t===void 0)return ci("GRPC error has no .code"),re.UNKNOWN;switch(t){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:t})}}(qe=Pt||(Pt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new zi([4294967295,4294967295],0);function P0(t){const e=pb().encode(t),n=new ob;return n.update(e),new Uint8Array(n.digest())}function k0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zi([n,r],0),new zi([s,a],0)]}class hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=zi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(zi.fromNumber(r)));return s.compare(kN)===1&&(s=new zi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=P0(e),[r,s]=k0(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);if(!this.ye(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hy(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=P0(e),[r,s]=k0(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vh(Ie.min(),s,new gt(Ne),hi(),Oe())}}class ru{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ru(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class Gb{constructor(e,n){this.targetId=e,this.De=n}}class Kb{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class N0{constructor(){this.ve=0,this.Ce=D0(),this.Fe=Zt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Oe(),n=Oe(),r=Oe();return this.Ce.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:a})}}),new ru(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=D0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class NN{constructor(e){this.We=e,this.Ge=new Map,this.ze=hi(),this.je=Dc(),this.Je=Dc(),this.He=new gt(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const a=s.target;if(cg(a))if(r===0){const l=new Ee(a.path);this.Xe(n,l,un.newNoDocument(l,Ie.min()))}else Qe(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=Yi(r).toUint8Array()}catch(d){if(d instanceof vb)return Ki("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new hy(l,s,a)}catch(d){return Ki(d instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,a,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((a,l)=>{const c=this.st(l);if(c){if(a.current&&cg(c.target)){const d=new Ee(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,un.newNoDocument(d,e))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let r=Oe();this.Je.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const s=new Vh(e,n,this.He,this.ze,r);return this.ze=hi(),this.je=Dc(),this.Je=Dc(),this.He=new gt(Ne),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new N0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Mt(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Mt(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new N0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new gt(Ee.comparator)}function D0(){return new gt(Ee.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class ON{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jN(t,e){return uh(t,e.toTimestamp())}function Lr(t){return Qe(!!t,49232),Ie.fromTimestamp(function(n){const r=Xi(n);return new Ke(r.seconds,r.nanos)}(t))}function dy(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Xb(t){const e=ft.fromString(t);return Qe(tS(e),10190,{key:e.toString()}),e}function pg(t,e){return dy(t.databaseId,e.path)}function jf(t,e){const n=Xb(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(Jb(n))}function Yb(t,e){return dy(t.databaseId,e)}function MN(t){const e=Xb(t);return e.length===4?ft.emptyPath():Jb(e)}function mg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jb(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function V0(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function FN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string",58123),Zt.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Zt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?re.UNKNOWN:Wb(p.code);return new _e(g,p.message||"")}(l);n=new Kb(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jf(t,r.document.name),a=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):Ie.min(),c=new Xn({mapValue:{fields:r.document.fields}}),d=un.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Gc(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jf(t,r.document),a=r.readTime?Lr(r.readTime):Ie.min(),l=un.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Gc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jf(t,r.document),a=r.removedTargetIds||[];n=new Gc([],a,s,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new AN(s,a),c=r.targetId;n=new Gb(c,l)}}return n}function UN(t,e){let n;if(e instanceof nu)n={update:V0(t,e.key,e.value)};else if(e instanceof Hb)n={delete:pg(t,e.key)};else if(e instanceof Xs)n={update:V0(t,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof CN))return Ce(16599,{Rt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $l)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lh)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Ce(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:jN(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)}(t,e.precondition)),n}function BN(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Lr(s.updateTime):Lr(a);return l.isEqual(Ie.min())&&(l=Lr(a)),new EN(l,s.transformResults||[])}(n,e))):[]}function $N(t,e){return{documents:[Yb(t,e.path)]}}function qN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yb(t,s);const a=function(p){if(p.length!==0)return eS(Br.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:qo(w.field),direction:WN(w.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=dg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:s}}function zN(t){let e=MN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const w=Zb(_);return w instanceof Br&&Ab(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(C){return new oh(zo(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,Rh(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(_){const w=!!_.before,b=_.values||[];return new sh(b,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,b=_.values||[];return new sh(b,w)}(n.endAt)),uN(e,s,l,a,c,"F",d,p)}function HN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zo(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zo(n.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zo(n.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return jt.create(zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>Zb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function WN(t){return DN[t]}function GN(t){return VN[t]}function KN(t){return LN[t]}function qo(t){return{fieldPath:t.canonicalString()}}function zo(t){return Jt.fromServerFormat(t.fieldPath)}function eS(t){return t instanceof jt?function(n){if(n.op==="=="){if(x0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:GN(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(s=>eS(s));return r.length===1?r[0]:{compositeFilter:{op:KN(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function QN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r,s,a=Ie.min(),l=Ie.min(),c=Zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.gt=e}}function YN(t){const e=zN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Dn=new ZN}addToCollectionParentIndex(e,n){return this.Dn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Qi.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ZN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Mt(ft.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(nS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ta(0)}static ur(){return new ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="LruGarbageCollector",eD=1048576;function j0([t,e],[n,r]){const s=Ne(t,n);return s===0?Ne(e,r):s}class tD{constructor(e){this.Tr=e,this.buffer=new Mt(j0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(O0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ha(n)?he(O0,"Ignoring IndexedDB error during garbage collection: ",n):await ca(n)}await this.Rr(3e5)})}}class rD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Ch.ue);const r=new tD(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(L0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Bo()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${_} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function iD(t,e){return new rD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,pr.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=dl();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=hi();const l=bl(),c=function(){return bl()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Xs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Sl(g.mutation,p,g.mutation.getFieldMask(),Ke.now())):l.set(p.key,pr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new oD(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=bl();let s=new gt((l,c)=>l-c),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||pr.empty();g=c.applyToLocalView(p,g),r.set(d,g);const _=(s.get(c.batchId)||Oe()).add(d);s=s.insert(c.batchId,_)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,_=jb();g.forEach(w=>{if(!a.has(w)){const b=qb(n.get(w),r.get(w));b!==null&&_.set(w,b),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ee.resolve(js());let c=jl,d=a;return l.next(p=>ee.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Oe())).next(g=>({batchId:c,changes:Ob(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(r=>{let s=dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=dl();return this.indexManager.getCollectionParents(e,a).next(c=>ee.forEach(c,d=>{const p=function(_,w){return new Ah(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,un.newInvalidDocument(g)))});let c=dl();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&Sl(g.mutation,p,pr.empty(),Ke.now()),kh(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:YN(s.bundledQuery),readTime:Lr(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.overlays=new gt(Ee.comparator),this.kr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=js();return ee.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.wt(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=js(),a=n.length+1,l=new Ee(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new gt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=js(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=js(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return ee.resolve(c)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new IN(n,r));let a=this.kr.get(n);a===void 0&&(a=Oe(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.qr=new Mt(qt.Qr),this.$r=new Mt(qt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new qt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ee(new ft([])),r=new qt(n,e),s=new qt(n,e+1),a=[];return this.$r.forEachInRange([r,s],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ee(new ft([])),r=new qt(n,e),s=new qt(n,e+1);let a=Oe();return this.$r.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new qt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ee.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Mt(qt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new RN(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Yr=this.Yr.add(new qt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ry:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],l=>{const c=this.Zr(l.Hr);a.push(c)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt(Ne);return n.forEach(s=>{const a=new qt(s,0),l=new qt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],c=>{r=r.add(c.Hr)})}),ee.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new qt(new Ee(a),0);let c=new Mt(Ne);return this.Yr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Hr)),!0)},l),ee.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ee.forEach(n.mutations,s=>{const a=new qt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new qt(n,0),s=this.Yr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ni=e,this.docs=function(){return new gt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():un.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=hi();const l=n.path,c=new Ee(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||$k(Bk(g),r)<=0||(s.has(g.key)||kh(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ri(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fD(this)}getSize(e){return ee.resolve(this.size)}}class fD extends sD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.ii=new Qs(n=>oy(n),ay),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new fy,this.targetCount=0,this._i=ta.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ee.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.hr(n),ee.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ee.waitFor(a).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ch(0),this.ci=!1,this.ci=!0,this.li=new cD,this.referenceDelegate=e(this),this.hi=new pD(this),this.indexManager=new JN,this.remoteDocumentCache=function(s){return new dD(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new XN(n),this.Ti=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new hD(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new mD(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ei(e,n){return ee.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class mD extends zk{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ai=new fy,this.Ri=null}static Vi(e){return new py(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,r=>{const s=Ee.fromPath(r);return this.fi(e,s).next(a=>{a||n.removeEntry(s,Ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ee.or([()=>ee.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.gi=new Qs(r=>Gk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=iD(this,n)}static Vi(e,n){return new ch(e,n)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ee.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(a=>a?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ee.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}Sr(e,n,r){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Oe(),s=Oe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new my(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return m2()?8:Hk(f2())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ps(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new gD;return this.ws(e,n,l).next(c=>{if(a.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>a.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Bo()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(Bo()<=ze.DEBUG&&he("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Bo()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):ee.resolve())}ps(e,n){if(S0(n))return ee.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hg(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Oe(...a);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.bs(n,c);return this.Ds(n,p,l,d.readTime)?this.ps(e,hg(n,null,"F")):this.vs(e,p,n,d)}))})))}ys(e,n,r,s){return S0(n)||s.isEqual(Ie.min())?ee.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,r,s)?ee.resolve(null):(Bo()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(n)),this.vs(e,l,n,Uk(s,jl)).next(c=>c))})}bs(e,n){let r=new Mt(Vb(e));return n.forEach((s,a)=>{kh(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,n,r){return Bo()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$o(n)),this.gs.getDocumentsMatchingQuery(e,n,Qi.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LocalStore",vD=3e8;class _D{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new gt(Ne),this.Ms=new Qs(a=>oy(a),ay),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function wD(t,e,n,r){return new _D(t,e,n,r)}async function iS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=Oe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Bs:p,removedBatchIds:l,addedBatchIds:c}))})})}function xD(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){const _=p.batch,w=_.keys();let b=ee.resolve();return w.forEach(C=>{b=b.next(()=>g.getEntry(d,C)).next(S=>{const x=p.docVersions.get(C);Qe(x!==null,48541),S.version.compareTo(x)<0&&(_.applyToRemoteDocument(S,p),S.isValidDocument()&&(S.setReadTime(p.commitVersion),g.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Oe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function sS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function TD(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const c=[];e.targetChanges.forEach((g,_)=>{const w=s.get(_);if(!w)return;c.push(n.hi.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.hi.addMatchingKeys(a,g.addedDocuments,_)));let b=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Zt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(_,b),function(S,x,I){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=vD?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(w,b,g)&&c.push(n.hi.updateTargetData(a,b))});let d=hi(),p=Oe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(ED(a,l,e.documentUpdates).next(g=>{d=g.Ls,p=g.ks})),!r.isEqual(Ie.min())){const g=n.hi.getLastRemoteSnapshotVersion(a).next(_=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Fs=s,a))}function ED(t,e,n){let r=Oe(),s=Oe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=hi();return n.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):he(gy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Ls:l,ks:s}})}function bD(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ry),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SD(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(a=>a?(s=a,ee.resolve(s)):n.hi.allocateTargetId(r).next(l=>(s=new Ui(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function gg(t,e,n){const r=Ae(t),s=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!ha(l))throw l;he(gy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function M0(t,e,n){const r=Ae(t);let s=Ie.min(),a=Oe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const _=Ae(d),w=_.Ms.get(g);return w!==void 0?ee.resolve(_.Fs.get(w)):_.hi.getTargetData(p,g)}(r,l,Vr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Ie.min(),n?a:Oe())).next(c=>(CD(r,dN(e),c),{documents:c,qs:a})))}function CD(t,e,n){let r=t.xs.get(e)||Ie.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class F0{constructor(){this.activeTargetIds=vN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.Fo=new F0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new F0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class B0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(U0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function yg(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",AD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=yg(),c=this.Go(e,n.toUriEncodedString());he(Mf,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,a);const{host:p}=new URL(c),g=eu(p);return this.jo(e,c,d,r,g).then(_=>(he(Mf,`Received RPC '${e}' ${l}: `,_),_),_=>{throw Ki(Mf,`RPC '${e}' ${l} failed with error: `,_,"url: ",c,"request:",r),_})}Jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}Go(e,n){const r=AD[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class ND extends PD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,a){const l=yg();return new Promise((c,d)=>{const p=new ab;p.setWithCredentials(!0),p.listenOnce(lb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const _=p.getResponseJson();he(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case qc.TIMEOUT:he(on,`RPC '${e}' ${l} timed out`),d(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const w=p.getStatus();if(he(on,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const S=function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(D)>=0?D:re.UNKNOWN}(C.status);d(new _e(S,C.message))}else d(new _e(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{he(on,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);he(on,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)})}P_(e,n,r){const s=yg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hb(),c=cb(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");he(on,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=l.createWebChannel(g,d);this.T_(_);let w=!1,b=!1;const C=new kD({Ho:x=>{b?he(on,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(w||(he(on,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),he(on,`RPC '${e}' stream ${s} sending:`,x),_.send(x))},Yo:()=>_.close()}),S=(x,I,D)=>{x.listen(I,j=>{try{D(j)}catch(L){setTimeout(()=>{throw L},0)}})};return S(_,hl.EventType.OPEN,()=>{b||(he(on,`RPC '${e}' stream ${s} transport opened.`),C.s_())}),S(_,hl.EventType.CLOSE,()=>{b||(b=!0,he(on,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(_))}),S(_,hl.EventType.ERROR,x=>{b||(b=!0,Ki(on,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),C.__(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),S(_,hl.EventType.MESSAGE,x=>{var I;if(!b){const D=x.data[0];Qe(!!D,16349);const j=D,L=(j==null?void 0:j.error)||((I=j[0])===null||I===void 0?void 0:I.error);if(L){he(on,`RPC '${e}' stream ${s} received error:`,L);const $=L.status;let Q=function(V){const O=Pt[V];if(O!==void 0)return Wb(O)}($),P=L.message;Q===void 0&&(Q=re.INTERNAL,P="Unknown error status: "+$+" with message "+L.message),b=!0,C.__(new _e(Q,P)),_.close()}else he(on,`RPC '${e}' stream ${s} received:`,D),C.a_(D)}}),S(c,ub.STAT_EVENT,x=>{x.stat===sg.PROXY?he(on,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===sg.NOPROXY&&he(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return new ON(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="PersistentStream";class aS{constructor(e,n,r,s,a,l,c,d){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new oS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(he($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DD extends aS{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=FN(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?Lr(l.readTime):Ie.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(a,l){let c;const d=l.target;if(c=cg(d)?{documents:$N(a,d)}:{query:qN(a,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Qb(a,l.resumeToken);const p=dg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ie.min())>0){c.readTime=uh(a,l.snapshotVersion.toTimestamp());const p=dg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=HN(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.k_(n)}}class VD extends aS{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=BN(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=mg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UN(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{}class OD extends LD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,fg(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}Jo(e,n,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,fg(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(re.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class jD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ci(n),this._a=!1):he("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class MD{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{Ys(this)&&(he(qs,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.Ia.add(4),await iu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Oh(p)}(this))})}),this.Aa=new jD(r,s)}}async function Oh(t){if(Ys(t))for(const e of t.da)await e(!0)}async function iu(t){for(const e of t.da)await e(!1)}function lS(t,e){const n=Ae(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),wy(n)?_y(n):da(n).x_()&&vy(n,e))}function yy(t,e){const n=Ae(t),r=da(n);n.Ta.delete(e),r.x_()&&uS(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ys(n)&&n.Aa.set("Unknown"))}function vy(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).H_(e)}function uS(t,e){t.Ra.$e(e),da(t).Y_(e)}function _y(t){t.Ra=new NN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),da(t).start(),t.Aa.aa()}function wy(t){return Ys(t)&&!da(t).M_()&&t.Ta.size>0}function Ys(t){return Ae(t).Ia.size===0}function cS(t){t.Ra=void 0}async function FD(t){t.Aa.set("Online")}async function UD(t){t.Ta.forEach((e,n)=>{vy(t,e)})}async function BD(t,e){cS(t),wy(t)?(t.Aa.la(e),_y(t)):t.Aa.set("Unknown")}async function $D(t,e,n){if(t.Aa.set("Online"),e instanceof Kb&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ta.delete(c),s.Ra.removeTarget(c))}(t,e)}catch(r){he(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof Gc?t.Ra.Ye(e):e instanceof Gb?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ie.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ta.get(p);g&&a.Ta.set(p,g.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const g=a.Ta.get(d);if(!g)return;a.Ta.set(d,g.withResumeToken(Zt.EMPTY_BYTE_STRING,g.snapshotVersion)),uS(a,d);const _=new Ui(g.target,d,p,g.sequenceNumber);vy(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){he(qs,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!ha(e))throw e;t.Ia.add(1),await iu(t),t.Aa.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(qs,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Oh(t)})}function hS(t,e){return e().catch(n=>hh(t,n,e))}async function jh(t){const e=Ae(t),n=Zi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ry;for(;qD(e);)try{const s=await bD(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,zD(e,s)}catch(s){await hh(e,s)}dS(e)&&fS(e)}function qD(t){return Ys(t)&&t.Pa.length<10}function zD(t,e){t.Pa.push(e);const n=Zi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function dS(t){return Ys(t)&&!Zi(t).M_()&&t.Pa.length>0}function fS(t){Zi(t).start()}async function HD(t){Zi(t).na()}async function WD(t){const e=Zi(t);for(const n of t.Pa)e.X_(n.mutations)}async function GD(t,e,n){const r=t.Pa.shift(),s=cy.from(r,e,n);await hS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await jh(t)}async function KD(t,e){e&&Zi(t).Z_&&await async function(r,s){if(function(l){return PN(l)&&l!==re.ABORTED}(s.code)){const a=r.Pa.shift();Zi(r).N_(),await hS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await jh(r)}}(t,e),dS(t)&&fS(t)}async function q0(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he(qs,"RemoteStore received new credentials");const r=Ys(n);n.Ia.add(3),await iu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Oh(n)}async function QD(t,e){const n=Ae(t);e?(n.Ia.delete(2),await Oh(n)):e||(n.Ia.add(2),await iu(n),n.Aa.set("Unknown"))}function da(t){return t.Va||(t.Va=function(n,r,s){const a=Ae(n);return a.ia(),new DD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:FD.bind(null,t),e_:UD.bind(null,t),n_:BD.bind(null,t),J_:$D.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),wy(t)?_y(t):t.Aa.set("Unknown")):(await t.Va.stop(),cS(t))})),t.Va}function Zi(t){return t.ma||(t.ma=function(n,r,s){const a=Ae(n);return a.ia(),new VD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:HD.bind(null,t),n_:KD.bind(null,t),ea:WD.bind(null,t),ta:GD.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await jh(t)):(await t.ma.stop(),t.Pa.length>0&&(he(qs,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new xy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(t,e){if(ci("AsyncQueue",`${e}: ${t}`),ha(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.fa=new gt(Ee.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,s,a,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new na(e,n,Xo.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class YD{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=H0(),a.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function H0(){return new Qs(t=>Db(t),Ph)}async function JD(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new XD,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(s,!0);break;case 1:a.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Ty(l,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&Ey(n)}async function ZD(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eV(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.wa)c.Ca(s)&&(r=!0);l.ya=s}}r&&Ey(n)}function tV(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(n);r.queries.delete(e)}function Ey(t){t.Da.forEach(e=>{e.next()})}var vg,W0;(W0=vg||(vg={})).Fa="default",W0.Cache="cache";class nV{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class rV{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Oe(),this.mutatedKeys=Oe(),this.Xa=Vb(e),this.eu=new Xo(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new z0,s=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const w=s.get(g),b=kh(this.query,_)?_:null,C=!!w&&this.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;w&&b?w.data.isEqual(b.data)?C!==S&&(r.track({type:3,doc:b}),x=!0):this.iu(w,b)||(r.track({type:2,doc:b}),x=!0,(d&&this.Xa(b,d)>0||p&&this.Xa(b,p)<0)&&(c=!0)):!w&&b?(r.track({type:0,doc:b}),x=!0):w&&!b&&(r.track({type:1,doc:w}),x=!0,(d||p)&&(c=!0)),x&&(b?(l=l.add(b),a=S?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{eu:l,ru:r,Ds:c,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((g,_)=>function(b,C){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:x})}};return S(b)-S(C)}(g.type,_.type)||this.Xa(g.doc,_.doc)),this.su(r),s=s!=null&&s;const c=n&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,p=d!==this.Ya;return this.Ya=d,l.length!==0||p?{snapshot:new na(this.query,e.eu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new z0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Oe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new mS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new pS(r))}),n}uu(e){this.Ha=e.qs,this.Za=Oe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return na.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const by="SyncEngine";class iV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sV{constructor(e){this.key=e,this.lu=!1}}class oV{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Qs(c=>Db(c),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new gt(Ee.comparator),this.Eu=new Map,this.Au=new fy,this.Ru={},this.Vu=new Map,this.mu=ta.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aV(t,e,n=!0){const r=xS(t);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await gS(r,e,n,!0),s}async function lV(t,e){const n=xS(t);await gS(n,e,!0,!1)}async function gS(t,e,n,r){const s=await SD(t.localStore,Vr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await uV(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,s),c}async function uV(t,e,n,r,s){t.gu=(_,w,b)=>async function(S,x,I,D){let j=x.view.nu(I);j.Ds&&(j=await M0(S.localStore,x.query,!1).then(({documents:P})=>x.view.nu(P,j)));const L=D&&D.targetChanges.get(x.targetId),$=D&&D.targetMismatches.get(x.targetId)!=null,Q=x.view.applyChanges(j,S.isPrimaryClient,L,$);return K0(S,x.targetId,Q._u),Q.snapshot}(t,_,w,b);const a=await M0(t.localStore,e,!0),l=new rV(e,a.qs),c=l.nu(a.documents),d=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,d);K0(t,n,p._u);const g=new iV(e,n,l);return t.Pu.set(e,g),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),p.snapshot}async function cV(t,e,n){const r=Ae(t),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter(l=>!Ph(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yy(r.remoteStore,s.targetId),_g(r,s.targetId)}).catch(ca)):(_g(r,s.targetId),await gg(r.localStore,s.targetId,!0))}async function hV(t,e){const n=Ae(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yy(n.remoteStore,r.targetId))}async function dV(t,e,n){const r=_V(t);try{const s=await function(l,c){const d=Ae(l),p=Ke.now(),g=c.reduce((b,C)=>b.add(C.key),Oe());let _,w;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=hi(),S=Oe();return d.Os.getEntries(b,g).next(x=>{C=x,C.forEach((I,D)=>{D.isValidDocument()||(S=S.add(I))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,C)).next(x=>{_=x;const I=[];for(const D of c){const j=SN(D,_.get(D.key).overlayedDocument);j!=null&&I.push(new Xs(D.key,j,Cb(j.value.mapValue),oi.exists(!0)))}return d.mutationQueue.addMutationBatch(b,p,I,c)}).next(x=>{w=x;const I=x.applyToLocalDocumentSet(_,S);return d.documentOverlayCache.saveOverlays(b,x.batchId,I)})}).then(()=>({batchId:w.batchId,changes:Ob(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let p=l.Ru[l.currentUser.toKey()];p||(p=new gt(Ne)),p=p.insert(c,d),l.Ru[l.currentUser.toKey()]=p}(r,s.batchId,n),await su(r,s.changes),await jh(r.remoteStore)}catch(s){const a=Ty(s,"Failed to persist write");n.reject(a)}}async function yS(t,e){const n=Ae(t);try{const r=await TD(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Eu.get(a);l&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?Qe(l.lu,14607):s.removedDocuments.size>0&&(Qe(l.lu,42227),l.lu=!1))}),await su(n,r,e)}catch(r){await ca(r)}}function G0(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Ae(l);d.onlineState=c;let p=!1;d.queries.forEach((g,_)=>{for(const w of _.wa)w.va(c)&&(p=!0)}),p&&Ey(d)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fV(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let l=new gt(Ee.comparator);l=l.insert(a,un.newNoDocument(a,Ie.min()));const c=Oe().add(a),d=new Vh(Ie.min(),new Map,new gt(Ne),l,c);await yS(r,d),r.du=r.du.remove(a),r.Eu.delete(e),Sy(r)}else await gg(r.localStore,e,!1).then(()=>_g(r,e,n)).catch(ca)}async function pV(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await xD(n.localStore,e);_S(n,r,null),vS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,s)}catch(s){await ca(s)}}async function mV(t,e,n){const r=Ae(t);try{const s=await function(l,c){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(_=>(Qe(_!==null,37113),g=_.keys(),d.mutationQueue.removeMutationBatch(p,_))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);_S(r,e,n),vS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,s)}catch(s){await ca(s)}}function vS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function _S(t,e,n){const r=Ae(t);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||wS(t,r)})}function wS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Sy(t))}function K0(t,e,n){for(const r of n)r instanceof pS?(t.Au.addReference(r.key,e),gV(t,r)):r instanceof mS?(he(by,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||wS(t,r.key)):Ce(19791,{yu:r})}function gV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(he(by,"New document in limbo: "+n),t.Iu.add(r),Sy(t))}function Sy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ee(ft.fromString(e)),r=t.mu.next();t.Eu.set(r,new sV(n)),t.du=t.du.insert(n,r),lS(t.remoteStore,new Ui(Vr(ly(n.path)),r,"TargetPurposeLimboResolution",Ch.ue))}}async function su(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(p){s.push(p);const _=my.Es(d.targetId,p);a.push(_)}}))}),await Promise.all(l),r.hu.J_(s),await async function(d,p){const g=Ae(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,w=>ee.forEach(w.Is,b=>g.persistence.referenceDelegate.addReference(_,w.targetId,b)).next(()=>ee.forEach(w.ds,b=>g.persistence.referenceDelegate.removeReference(_,w.targetId,b)))))}catch(_){if(!ha(_))throw _;he(gy,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const b=g.Fs.get(w),C=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(C);g.Fs=g.Fs.insert(w,S)}}}(r.localStore,a))}async function yV(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he(by,"User change. New user:",e.toKey());const r=await iS(n.localStore,e);n.currentUser=e,function(a,l){a.Vu.forEach(c=>{c.forEach(d=>{d.reject(new _e(re.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.Bs)}}function vV(t,e){const n=Ae(t),r=n.Eu.get(e);if(r&&r.lu)return Oe().add(r.key);{let s=Oe();const a=n.Tu.get(e);if(!a)return s;for(const l of a){const c=n.Pu.get(l);s=s.unionWith(c.view.tu)}return s}}function xS(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fV.bind(null,e),e.hu.J_=eV.bind(null,e.eventManager),e.hu.pu=tV.bind(null,e.eventManager),e}function _V(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mV.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return wD(this.persistence,new yD,e.initialUser,this.serializer)}Du(e){return new rS(py.Vi,this.serializer)}bu(e){return new RD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class wV extends dh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Qe(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nD(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new rS(r=>ch.Vi(r,n),this.serializer)}}class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await QD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YD}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=function(a){return new ND(a)}(e.databaseInfo);return function(a,l,c,d){return new OD(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new MD(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return B0.C()?new B0:new ID}())}createSyncEngine(e,n){return function(s,a,l,c,d,p,g){const _=new oV(s,a,l,c,d,p);return g&&(_.fu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Ae(s);he(qs,"RemoteStore shutting down."),a.Ia.add(5),await iu(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class TV{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(es,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(es,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uf(t,e){t.asyncQueue.verifyOperationInProgress(),he(es,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ki("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ki("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Q0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EV(t);he(es,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q0(e.remoteStore,s)),t._onlineComponents=e}async function EV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(es,"Using user provided OfflineComponentProvider");try{await Uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ki("Error using user provided cache. Falling back to memory cache: "+n),await Uf(t,new dh)}}else he(es,"Using default OfflineComponentProvider"),await Uf(t,new wV(void 0));return t._offlineComponents}async function TS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(es,"Using user provided OnlineComponentProvider"),await Q0(t,t._uninitializedComponentsProvider._online)):(he(es,"Using default OnlineComponentProvider"),await Q0(t,new wg))),t._onlineComponents}function bV(t){return TS(t).then(e=>e.syncEngine)}async function SV(t){const e=await TS(t),n=e.eventManager;return n.onListen=aV.bind(null,e.syncEngine),n.onUnlisten=cV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hV.bind(null,e.syncEngine),n}function CV(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const g=new xV({next:w=>{g.Ou(),l.enqueueAndForget(()=>ZD(a,_));const b=w.docs.has(c);!b&&w.fromCache?p.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new nV(ly(c.path),g,{includeMetadataChanges:!0,ka:!0});return JD(a,_)}(await SV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firestore.googleapis.com",Y0=!0;class J0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bS,this.ssl=Y0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ak;switch(r.type){case"firstParty":return new Dk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X0.get(n);r&&(he("ComponentProvider","Removing Datastore"),X0.delete(n),r.terminate())}(this),Promise.resolve()}}function RV(t,e,n,r={}){var s;t=Ol(t,Cy);const a=eu(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a&&(WE(`https://${d}`),KE("Firestore",!0)),l.host!==bS&&l.host!==d&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!eh(p,c)&&(t._setSettings(p),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=ln.MOCK_USER;else{g=GE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ln(w)}t._authCredentials=new Pk(new fb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ry(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tu(n,zt._jsonSchema))return new zt(e,r||null,new Ee(ft.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:kt("string",zt._jsonSchemaVersion),referencePath:kt("string")};class ql extends Ry{constructor(e,n,r){super(e,n,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ee(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function ra(t,e,...n){if(t=Gi(t),arguments.length===1&&(e=ty.newId()),Mk("doc","path",e),t instanceof Cy){const r=ft.fromString(e,...n);return d0(r),new zt(t,null,new Ee(r))}{if(!(t instanceof zt||t instanceof ql))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return d0(r),new zt(t.firestore,t instanceof ql?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new oS(this,"async_queue_retry"),this.oc=()=>{const r=Ff();r&&he(Z0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ha(e))throw e;he(Z0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ci("INTERNAL UNHANDLED ERROR: ",t1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=xy.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Ce(47125,{hc:t1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function t1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Iy extends Cy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new e1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function IV(t,e){const n=typeof t=="object"?t:rb(),r=typeof t=="string"?t:rh,s=ZE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=zE("firestore");a&&RV(s,...a)}return s}function SS(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AV(t),t._firestoreClient}function AV(t){var e,n,r;const s=t._freezeSettings(),a=function(c,d,p,g){return new Xk(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ES(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new TV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Zt.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:kt("string",Yn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:kt("string",Or._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jr(e.vectorValues);throw new _e(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jr._jsonSchemaVersion="firestore/vectorValue/1.0",jr._jsonSchema={type:kt("string",jr._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class kV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}function RS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:t})}}class Py{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RS(this.Ec)&&PV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}Dc(e,n,r,s=!1){return new Py({Ec:e,methodName:n,bc:r,path:Jt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DV(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new NV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VV(t,e,n,r,s,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,n,s);kS("Data must be an object, but it was:",l,r);const c=AS(r,l);let d,p;if(a.merge)d=new pr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=LV(e,_,n);if(!l.contains(w))throw new _e(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);jV(g,w)||g.push(w)}d=new pr(g),p=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,p=l.fieldTransforms;return new kV(new Xn(c),d,p)}function IS(t,e){if(PS(t=Gi(t)))return kS("Unsupported field value:",e,t),AS(t,e);if(t instanceof CS)return function(r,s){if(!RS(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let d=IS(c,s.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _N(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ke.fromDate(r);return{timestampValue:uh(s.serializer,a)}}if(r instanceof Ke){const a=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(s.serializer,a)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:Qb(s.serializer,r._byteString)};if(r instanceof zt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jr)return function(l,c){return{mapValue:{fields:{[Eb]:{stringValue:Sb},[ih]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.wc("VectorValues must only contain numeric values.");return uy(c.serializer,p)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${ny(r)}`)}(t,e)}function AS(t,e){const n={};return yb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,s)=>{const a=IS(s,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function PS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Or||t instanceof Yn||t instanceof zt||t instanceof CS||t instanceof jr)}function kS(t,e,n){if(!PS(n)||!mb(n)){const r=ny(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function LV(t,e,n){if((e=Gi(e))instanceof Ay)return e._internalPath;if(typeof e=="string")return NS(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const OV=new RegExp("[~\\*/\\[\\]]");function NS(t,e,n){if(e.search(OV)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ay(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new _e(re.INVALID_ARGUMENT,c+t+d)}function jV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MV extends DS{data(){return super.data()}}function VS(t,e){return typeof e=="string"?NS(t,e):e instanceof Ay?e._internalPath:e._delegate._internalPath}class FV{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ih].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>St(l.doubleValue));return new jr(a)}convertGeoPoint(e){return new Or(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Qe(tS(r),9688,{name:e});const s=new Fl(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(n)||ci(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends DS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:kt("string",Fs._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Kc extends Fs{data(e={}){return super.data(e)}}class Cl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Kc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new pl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Kc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new pl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:BV(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){t=Ol(t,zt);const e=Ol(t.firestore,Iy);return CV(SS(e),t._key).then(n=>zV(e,t,n))}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:kt("string",Cl._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class $V extends FV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Tg(t,e,n){t=Ol(t,zt);const r=Ol(t.firestore,Iy),s=UV(t.converter,e,n);return qV(r,[VV(DV(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,oi.none())])}function qV(t,e){return function(r,s){const a=new Hi;return r.asyncQueue.enqueueAndForget(async()=>dV(await bV(r),s,a)),a.promise}(SS(t),e)}function zV(t,e,n){const r=n.docs.get(e._key),s=new $V(t);return new Fs(t,s,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ua=s})(tb),Vl(new Yo("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Iy(new kk(r.getProvider("auth-internal")),new Vk(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),qi(a0,l0,e),qi(a0,l0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebasestorage.googleapis.com",OS="storageBucket",HV=2*60*1e3,WV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Gs{constructor(e,n,r=0){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function Bf(t){return"storage/"+t}function ky(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(wt.UNKNOWN,t)}function GV(t){return new xt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KV(t){return new xt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(wt.UNAUTHENTICATED,t)}function XV(){return new xt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YV(t){return new xt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JV(){return new xt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZV(){return new xt(wt.CANCELED,"User canceled the upload/download.")}function e4(t){return new xt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function t4(t){return new xt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n4(){return new xt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function r4(){return new xt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i4(){return new xt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s4(t){return new xt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(t){return new xt(wt.INVALID_ARGUMENT,t)}function jS(){return new xt(wt.APP_DELETED,"The Firebase app was deleted.")}function o4(t){return new xt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new xt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ul(t){throw new xt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw t4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(L){L.path_=decodeURIComponent(L.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${g}/b/${s}/o${w}`,"i"),C={bucket:1,path:3},S=n===LS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",I=new RegExp(`^https?://${S}/${s}/${x}`,"i"),j=[{regex:c,indices:d,postModify:a},{regex:b,indices:C,postModify:p},{regex:I,indices:{bucket:1,path:2},postModify:p}];for(let L=0;L<j.length;L++){const $=j[L],Q=$.regex.exec(e);if(Q){const P=Q[$.indices.bucket];let A=Q[$.indices.path];A||(A=""),r=new Ln(P,A),$.postModify(r);break}}if(r==null)throw e4(e);return r}}class a4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let p=!1;function g(...x){p||(p=!0,e.apply(null,x))}function _(x){s=setTimeout(()=>{s=null,t(b,d())},x)}function w(){a&&clearTimeout(a)}function b(x,...I){if(p){w();return}if(x){w(),g.call(null,x,...I);return}if(d()||l){w(),g.call(null,x,...I);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,_(j)}let C=!1;function S(x){C||(C=!0,w(),!p&&(s!==null?(x||(c=2),clearTimeout(s),_(0)):x||(c=1)))}return _(0),a=setTimeout(()=>{l=!0,S(!0)},n),S}function u4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){return t!==void 0}function h4(t){return typeof t=="object"&&!Array.isArray(t)}function Ny(t){return typeof t=="string"||t instanceof String}function n1(t){return Dy()&&t instanceof Blob}function Dy(){return typeof Blob<"u"}function r1(t,e,n,r){if(r<e)throw Eg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function MS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Us;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,s,a,l,c,d,p,g,_,w=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,S)=>{this.resolve_=C,this.reject_=S,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Lc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Us.NO_ERROR,d=a.getStatus();if(!c||d4(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Us.ABORT;r(!1,new Lc(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Lc(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());c4(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=ky();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?jS():ZV();l(d)}else{const d=JV();l(d)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=l4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function p4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function m4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function y4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v4(t,e,n,r,s,a,l=!0,c=!1){const d=MS(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return g4(g,e),p4(g,n),m4(g,a),y4(g,r),new f4(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function w4(...t){const e=_4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Dy())return new Blob(t);throw new xt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function x4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(typeof atob>"u")throw s4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $f{constructor(e,n){this.data=e,this.contentType=n||null}}function E4(t,e){switch(t){case Dr.RAW:return new $f(FS(e));case Dr.BASE64:case Dr.BASE64URL:return new $f(US(t,e));case Dr.DATA_URL:return new $f(S4(e),C4(e))}throw ky()}function FS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function b4(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(Dr.DATA_URL,"Malformed data URL.")}return FS(e)}function US(t,e){switch(t){case Dr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Rl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Rl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=T4(e)}catch(s){throw s.message.includes("polyfill")?s:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class BS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=R4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function S4(t){const e=new BS(t);return e.base64?US(Dr.BASE64,e.rest):b4(e.rest)}function C4(t){return new BS(t).contentType}function R4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){let r=0,s="";n1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(n1(this.data_)){const r=this.data_,s=x4(r,e,n);return s===null?null:new Fi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fi(r,!0)}}static getBlob(...e){if(Dy()){const n=e.map(r=>r instanceof Fi?r.data_:r);return new Fi(w4.apply(null,n))}else{const n=e.map(l=>Ny(l)?E4(Dr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new Fi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){let e;try{e=JSON.parse(t)}catch{return null}return h4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){return e}class gn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P4}}let Oc=null;function k4(t){return!Ny(t)||t.length<2?t:qS(t)}function zS(){if(Oc)return Oc;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(a,l){return k4(l)}const n=new gn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new gn("size");return s.xform=r,t.push(s),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),Oc=t,Oc}function N4(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Ln(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function D4(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return N4(r,t),r}function HS(t,e,n){const r=$S(e);return r===null?null:D4(t,r,n)}function V4(t,e,n,r){const s=$S(e);if(s===null||!Ny(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,_=t.fullPath,w="/b/"+l(g)+"/o/"+l(_),b=Vy(w,n,r),C=MS({alt:"media",token:p});return b+C})[0]}function L4(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class WS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){if(!t)throw ky()}function O4(t,e){function n(r,s){const a=HS(t,s,e);return GS(a!==null),a}return n}function j4(t,e){function n(r,s){const a=HS(t,s,e);return GS(a!==null),V4(a,s,t.host,t._protocol)}return n}function KS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=XV():s=QV():n.getStatus()===402?s=KV(t.bucket):n.getStatus()===403?s=YV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function M4(t){const e=KS(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=GV(t.path)),a.serverResponse=s.serverResponse,a}return n}function F4(t,e,n){const r=e.fullServerUrl(),s=Vy(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new WS(s,a,j4(t,n),l);return c.errorHandler=M4(e),c}function U4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function B4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=U4(null,e)),r}function $4(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let j="";for(let L=0;L<2;L++)j=j+Math.random().toString().slice(2);return j}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const p=B4(e,r,s),g=L4(p,n),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+d+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+d+"--",b=Fi.getBlob(_,r,w);if(b===null)throw r4();const C={name:p.fullPath},S=Vy(a,t.host,t._protocol),x="POST",I=t.maxUploadRetryTime,D=new WS(S,x,O4(t,n),I);return D.urlParams=C,D.headers=l,D.body=b.uploadData(),D.errorHandler=KS(e),D}class q4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw ul("cannot .send() more than once");if(eu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z4 extends q4{initXhr(){this.xhr_.responseType="text"}}function QS(){return new z4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zs(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qS(this._location.path)}get storage(){return this._service}get parent(){const e=I4(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new zs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o4(e)}}function H4(t,e,n){t._throwIfRoot("uploadBytes");const r=$4(t.storage,t._location,zS(),new Fi(e,!0),n);return t.storage.makeRequestWithTokens(r,QS).then(s=>({metadata:s,ref:t}))}function W4(t){t._throwIfRoot("getDownloadURL");const e=F4(t.storage,t._location,zS());return t.storage.makeRequestWithTokens(e,QS).then(n=>{if(n===null)throw i4();return n})}function G4(t,e){const n=A4(t._location.path,e),r=new Ln(t._location.bucket,n);return new zs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return/^[A-Za-z]+:\/\//.test(t)}function Q4(t,e){return new zs(t,e)}function XS(t,e){if(t instanceof Ly){const n=t;if(n._bucket==null)throw n4();const r=new zs(n,n._bucket);return e!=null?XS(r,e):r}else return e!==void 0?G4(t,e):t}function X4(t,e){if(e&&K4(e)){if(t instanceof Ly)return Q4(t,e);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return XS(t,e)}function i1(t,e){const n=e==null?void 0:e[OS];return n==null?null:Ln.makeFromBucketSpec(n,t)}function Y4(t,e,n,r={}){t.host=`${e}:${n}`;const s=eu(e);s&&(WE(`https://${t.host}/b`),KE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:GE(a,t.app.options.projectId))}class Ly{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=LS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HV,this._maxUploadRetryTime=WV,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=i1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=i1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(eb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zs(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new a4(jS());{const l=v4(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const s1="@firebase/storage",o1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="storage";function bg(t,e,n){return t=Gi(t),H4(t,e,n)}function Sg(t){return t=Gi(t),W4(t)}function Cg(t,e){return t=Gi(t),X4(t,e)}function J4(t=rb(),e){t=Gi(t);const r=ZE(t,YS).getImmediate({identifier:e}),s=zE("storage");return s&&Z4(r,...s),r}function Z4(t,e,n,r={}){Y4(t,e,n,r)}function eL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ly(n,r,s,e,tb)}function tL(){Vl(new Yo(YS,eL,"PUBLIC").setMultipleInstances(!0)),qi(s1,o1,""),qi(s1,o1,"esm2017")}tL();var nL="firebase",rL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(nL,rL,"app");const iL={apiKey:"AIzaSyCH2SEBLRFf_g_aWqiW3Y6Qk---kmWaNPY",authDomain:"canary-demo-dc73e.firebaseapp.com",projectId:"canary-demo-dc73e",storageBucket:"canary-demo-dc73e.firebasestorage.app",messagingSenderId:"129602806738",appId:"1:129602806738:web:30666a74acafffbc505e0b",measurementId:"G-3LBLWMX6QC"},JS=nb(iL),ia=IV(JS),Rg=J4(JS),sL=async()=>{try{const t=ra(ia,"Global","components"),e=ra(ia,"Main pages","components"),n=await xg(t),r=await xg(e),s=n.exists()?n.data():{},a=r.exists()?r.data():{};return console.log(a),{global:s,main:a}}catch(t){return console.error("Error fetching data:",t),{global:{},main:{}}}};var qf,a1;function ZS(){if(a1)return qf;a1=1;var t=typeof Rc=="object"&&Rc&&Rc.Object===Object&&Rc;return qf=t,qf}var zf,l1;function fa(){if(l1)return zf;l1=1;var t=ZS(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return zf=n,zf}var Hf,u1;function Oy(){if(u1)return Hf;u1=1;var t=fa(),e=t.Symbol;return Hf=e,Hf}var Wf,c1;function oL(){if(c1)return Wf;c1=1;var t=Oy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function a(l){var c=n.call(l,s),d=l[s];try{l[s]=void 0;var p=!0}catch{}var g=r.call(l);return p&&(c?l[s]=d:delete l[s]),g}return Wf=a,Wf}var Gf,h1;function aL(){if(h1)return Gf;h1=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Gf=n,Gf}var Kf,d1;function ou(){if(d1)return Kf;d1=1;var t=Oy(),e=oL(),n=aL(),r="[object Null]",s="[object Undefined]",a=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?s:r:a&&a in Object(c)?e(c):n(c)}return Kf=l,Kf}var Qf,f1;function rs(){if(f1)return Qf;f1=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Qf=t,Qf}var Xf,p1;function jy(){if(p1)return Xf;p1=1;var t=ou(),e=rs(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==r||d==s||d==n||d==a}return Xf=l,Xf}var Yf,m1;function lL(){if(m1)return Yf;m1=1;var t=fa(),e=t["__core-js_shared__"];return Yf=e,Yf}var Jf,g1;function uL(){if(g1)return Jf;g1=1;var t=lL(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Jf=n,Jf}var Zf,y1;function cL(){if(y1)return Zf;y1=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Zf=n,Zf}var ep,v1;function hL(){if(v1)return ep;v1=1;var t=jy(),e=uL(),n=rs(),r=cL(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,p=c.hasOwnProperty,g=RegExp("^"+d.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(w){if(!n(w)||e(w))return!1;var b=t(w)?g:a;return b.test(r(w))}return ep=_,ep}var tp,_1;function dL(){if(_1)return tp;_1=1;function t(e,n){return e==null?void 0:e[n]}return tp=t,tp}var np,w1;function My(){if(w1)return np;w1=1;var t=hL(),e=dL();function n(r,s){var a=e(r,s);return t(a)?a:void 0}return np=n,np}var rp,x1;function eC(){if(x1)return rp;x1=1;var t=My(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return rp=e,rp}var ip,T1;function Fy(){if(T1)return ip;T1=1;var t=eC();function e(n,r,s){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return ip=e,ip}var sp,E1;function Mh(){if(E1)return sp;E1=1;function t(e,n){return e===n||e!==e&&n!==n}return sp=t,sp}var op,b1;function tC(){if(b1)return op;b1=1;var t=Fy(),e=Mh(),n=Object.prototype,r=n.hasOwnProperty;function s(a,l,c){var d=a[l];(!(r.call(a,l)&&e(d,c))||c===void 0&&!(l in a))&&t(a,l,c)}return op=s,op}var ap,S1;function au(){if(S1)return ap;S1=1;var t=Array.isArray;return ap=t,ap}var lp,C1;function pa(){if(C1)return lp;C1=1;function t(e){return e!=null&&typeof e=="object"}return lp=t,lp}var up,R1;function Uy(){if(R1)return up;R1=1;var t=ou(),e=pa(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return up=r,up}var cp,I1;function fL(){if(I1)return cp;I1=1;var t=au(),e=Uy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(a,l){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||l!=null&&a in Object(l)}return cp=s,cp}var hp,A1;function Fh(){if(A1)return hp;A1=1;var t=My(),e=t(Object,"create");return hp=e,hp}var dp,P1;function pL(){if(P1)return dp;P1=1;var t=Fh();function e(){this.__data__=t?t(null):{},this.size=0}return dp=e,dp}var fp,k1;function mL(){if(k1)return fp;k1=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return fp=t,fp}var pp,N1;function gL(){if(N1)return pp;N1=1;var t=Fh(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(a){var l=this.__data__;if(t){var c=l[a];return c===e?void 0:c}return r.call(l,a)?l[a]:void 0}return pp=s,pp}var mp,D1;function yL(){if(D1)return mp;D1=1;var t=Fh(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var a=this.__data__;return t?a[s]!==void 0:n.call(a,s)}return mp=r,mp}var gp,V1;function vL(){if(V1)return gp;V1=1;var t=Fh(),e="__lodash_hash_undefined__";function n(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&s===void 0?e:s,this}return gp=n,gp}var yp,L1;function _L(){if(L1)return yp;L1=1;var t=pL(),e=mL(),n=gL(),r=yL(),s=vL();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,yp=a,yp}var vp,O1;function wL(){if(O1)return vp;O1=1;function t(){this.__data__=[],this.size=0}return vp=t,vp}var _p,j1;function Uh(){if(j1)return _p;j1=1;var t=Mh();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return _p=e,_p}var wp,M1;function xL(){if(M1)return wp;M1=1;var t=Uh(),e=Array.prototype,n=e.splice;function r(s){var a=this.__data__,l=t(a,s);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():n.call(a,l,1),--this.size,!0}return wp=r,wp}var xp,F1;function TL(){if(F1)return xp;F1=1;var t=Uh();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return xp=e,xp}var Tp,U1;function EL(){if(U1)return Tp;U1=1;var t=Uh();function e(n){return t(this.__data__,n)>-1}return Tp=e,Tp}var Ep,B1;function bL(){if(B1)return Ep;B1=1;var t=Uh();function e(n,r){var s=this.__data__,a=t(s,n);return a<0?(++this.size,s.push([n,r])):s[a][1]=r,this}return Ep=e,Ep}var bp,$1;function Bh(){if($1)return bp;$1=1;var t=wL(),e=xL(),n=TL(),r=EL(),s=bL();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,bp=a,bp}var Sp,q1;function nC(){if(q1)return Sp;q1=1;var t=My(),e=fa(),n=t(e,"Map");return Sp=n,Sp}var Cp,z1;function SL(){if(z1)return Cp;z1=1;var t=_L(),e=Bh(),n=nC();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Cp=r,Cp}var Rp,H1;function CL(){if(H1)return Rp;H1=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Rp=t,Rp}var Ip,W1;function $h(){if(W1)return Ip;W1=1;var t=CL();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return Ip=e,Ip}var Ap,G1;function RL(){if(G1)return Ap;G1=1;var t=$h();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Ap=e,Ap}var Pp,K1;function IL(){if(K1)return Pp;K1=1;var t=$h();function e(n){return t(this,n).get(n)}return Pp=e,Pp}var kp,Q1;function AL(){if(Q1)return kp;Q1=1;var t=$h();function e(n){return t(this,n).has(n)}return kp=e,kp}var Np,X1;function PL(){if(X1)return Np;X1=1;var t=$h();function e(n,r){var s=t(this,n),a=s.size;return s.set(n,r),this.size+=s.size==a?0:1,this}return Np=e,Np}var Dp,Y1;function rC(){if(Y1)return Dp;Y1=1;var t=SL(),e=RL(),n=IL(),r=AL(),s=PL();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,Dp=a,Dp}var Vp,J1;function kL(){if(J1)return Vp;J1=1;var t=rC(),e="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var a=function(){var l=arguments,c=s?s.apply(this,l):l[0],d=a.cache;if(d.has(c))return d.get(c);var p=r.apply(this,l);return a.cache=d.set(c,p)||d,p};return a.cache=new(n.Cache||t),a}return n.Cache=t,Vp=n,Vp}var Lp,Z1;function NL(){if(Z1)return Lp;Z1=1;var t=kL(),e=500;function n(r){var s=t(r,function(l){return a.size===e&&a.clear(),l}),a=s.cache;return s}return Lp=n,Lp}var Op,ex;function DL(){if(ex)return Op;ex=1;var t=NL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(e,function(l,c,d,p){a.push(d?p.replace(n,"$1"):c||l)}),a});return Op=r,Op}var jp,tx;function VL(){if(tx)return jp;tx=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=n(e[r],r,e);return a}return jp=t,jp}var Mp,nx;function LL(){if(nx)return Mp;nx=1;var t=Oy(),e=VL(),n=au(),r=Uy(),s=t?t.prototype:void 0,a=s?s.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Mp=l,Mp}var Fp,rx;function OL(){if(rx)return Fp;rx=1;var t=LL();function e(n){return n==null?"":t(n)}return Fp=e,Fp}var Up,ix;function jL(){if(ix)return Up;ix=1;var t=au(),e=fL(),n=DL(),r=OL();function s(a,l){return t(a)?a:e(a,l)?[a]:n(r(a))}return Up=s,Up}var Bp,sx;function By(){if(sx)return Bp;sx=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var a=typeof r;return s=s??t,!!s&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return Bp=n,Bp}var $p,ox;function ML(){if(ox)return $p;ox=1;var t=Uy();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return $p=e,$p}var qp,ax;function FL(){if(ax)return qp;ax=1;var t=tC(),e=jL(),n=By(),r=rs(),s=ML();function a(l,c,d,p){if(!r(l))return l;c=e(c,l);for(var g=-1,_=c.length,w=_-1,b=l;b!=null&&++g<_;){var C=s(c[g]),S=d;if(C==="__proto__"||C==="constructor"||C==="prototype")return l;if(g!=w){var x=b[C];S=p?p(x,C,b):void 0,S===void 0&&(S=r(x)?x:n(c[g+1])?[]:{})}t(b,C,S),b=b[C]}return l}return qp=a,qp}var zp,lx;function UL(){if(lx)return zp;lx=1;var t=FL();function e(n,r,s){return n==null?n:t(n,r,s)}return zp=e,zp}var BL=UL();const ux=Eh(BL);var Hp,cx;function $L(){if(cx)return Hp;cx=1;var t=Bh();function e(){this.__data__=new t,this.size=0}return Hp=e,Hp}var Wp,hx;function qL(){if(hx)return Wp;hx=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Wp=t,Wp}var Gp,dx;function zL(){if(dx)return Gp;dx=1;function t(e){return this.__data__.get(e)}return Gp=t,Gp}var Kp,fx;function HL(){if(fx)return Kp;fx=1;function t(e){return this.__data__.has(e)}return Kp=t,Kp}var Qp,px;function WL(){if(px)return Qp;px=1;var t=Bh(),e=nC(),n=rC(),r=200;function s(a,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<r-1)return d.push([a,l]),this.size=++c.size,this;c=this.__data__=new n(d)}return c.set(a,l),this.size=c.size,this}return Qp=s,Qp}var Xp,mx;function GL(){if(mx)return Xp;mx=1;var t=Bh(),e=$L(),n=qL(),r=zL(),s=HL(),a=WL();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=s,l.prototype.set=a,Xp=l,Xp}var Yp,gx;function iC(){if(gx)return Yp;gx=1;var t=Fy(),e=Mh();function n(r,s,a){(a!==void 0&&!e(r[s],a)||a===void 0&&!(s in r))&&t(r,s,a)}return Yp=n,Yp}var Jp,yx;function KL(){if(yx)return Jp;yx=1;function t(e){return function(n,r,s){for(var a=-1,l=Object(n),c=s(n),d=c.length;d--;){var p=c[e?d:++a];if(r(l[p],p,l)===!1)break}return n}}return Jp=t,Jp}var Zp,vx;function QL(){if(vx)return Zp;vx=1;var t=KL(),e=t();return Zp=e,Zp}var ml={exports:{}};ml.exports;var _x;function XL(){return _x||(_x=1,function(t,e){var n=fa(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,l=a?n.Buffer:void 0,c=l?l.allocUnsafe:void 0;function d(p,g){if(g)return p.slice();var _=p.length,w=c?c(_):new p.constructor(_);return p.copy(w),w}t.exports=d}(ml,ml.exports)),ml.exports}var em,wx;function YL(){if(wx)return em;wx=1;var t=fa(),e=t.Uint8Array;return em=e,em}var tm,xx;function JL(){if(xx)return tm;xx=1;var t=YL();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return tm=e,tm}var nm,Tx;function ZL(){if(Tx)return nm;Tx=1;var t=JL();function e(n,r){var s=r?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return nm=e,nm}var rm,Ex;function eO(){if(Ex)return rm;Ex=1;function t(e,n){var r=-1,s=e.length;for(n||(n=Array(s));++r<s;)n[r]=e[r];return n}return rm=t,rm}var im,bx;function tO(){if(bx)return im;bx=1;var t=rs(),e=Object.create,n=function(){function r(){}return function(s){if(!t(s))return{};if(e)return e(s);r.prototype=s;var a=new r;return r.prototype=void 0,a}}();return im=n,im}var sm,Sx;function nO(){if(Sx)return sm;Sx=1;function t(e,n){return function(r){return e(n(r))}}return sm=t,sm}var om,Cx;function sC(){if(Cx)return om;Cx=1;var t=nO(),e=t(Object.getPrototypeOf,Object);return om=e,om}var am,Rx;function oC(){if(Rx)return am;Rx=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return am=e,am}var lm,Ix;function rO(){if(Ix)return lm;Ix=1;var t=tO(),e=sC(),n=oC();function r(s){return typeof s.constructor=="function"&&!n(s)?t(e(s)):{}}return lm=r,lm}var um,Ax;function iO(){if(Ax)return um;Ax=1;var t=ou(),e=pa(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return um=r,um}var cm,Px;function aC(){if(Px)return cm;Px=1;var t=iO(),e=pa(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(l){return e(l)&&r.call(l,"callee")&&!s.call(l,"callee")};return cm=a,cm}var hm,kx;function lC(){if(kx)return hm;kx=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return hm=e,hm}var dm,Nx;function $y(){if(Nx)return dm;Nx=1;var t=jy(),e=lC();function n(r){return r!=null&&e(r.length)&&!t(r)}return dm=n,dm}var fm,Dx;function sO(){if(Dx)return fm;Dx=1;var t=$y(),e=pa();function n(r){return e(r)&&t(r)}return fm=n,fm}var gl={exports:{}},pm,Vx;function oO(){if(Vx)return pm;Vx=1;function t(){return!1}return pm=t,pm}gl.exports;var Lx;function uC(){return Lx||(Lx=1,function(t,e){var n=fa(),r=oO(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===s,c=l?n.Buffer:void 0,d=c?c.isBuffer:void 0,p=d||r;t.exports=p}(gl,gl.exports)),gl.exports}var mm,Ox;function aO(){if(Ox)return mm;Ox=1;var t=ou(),e=sC(),n=pa(),r="[object Object]",s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);function p(g){if(!n(g)||t(g)!=r)return!1;var _=e(g);if(_===null)return!0;var w=c.call(_,"constructor")&&_.constructor;return typeof w=="function"&&w instanceof w&&l.call(w)==d}return mm=p,mm}var gm,jx;function lO(){if(jx)return gm;jx=1;var t=ou(),e=lC(),n=pa(),r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",p="[object Map]",g="[object Number]",_="[object Object]",w="[object RegExp]",b="[object Set]",C="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",D="[object Float32Array]",j="[object Float64Array]",L="[object Int8Array]",$="[object Int16Array]",Q="[object Int32Array]",P="[object Uint8Array]",A="[object Uint8ClampedArray]",V="[object Uint16Array]",O="[object Uint32Array]",M={};M[D]=M[j]=M[L]=M[$]=M[Q]=M[P]=M[A]=M[V]=M[O]=!0,M[r]=M[s]=M[x]=M[a]=M[I]=M[l]=M[c]=M[d]=M[p]=M[g]=M[_]=M[w]=M[b]=M[C]=M[S]=!1;function q(F){return n(F)&&e(F.length)&&!!M[t(F)]}return gm=q,gm}var ym,Mx;function uO(){if(Mx)return ym;Mx=1;function t(e){return function(n){return e(n)}}return ym=t,ym}var yl={exports:{}};yl.exports;var Fx;function cO(){return Fx||(Fx=1,function(t,e){var n=ZS(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,l=a&&n.process,c=function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(yl,yl.exports)),yl.exports}var vm,Ux;function cC(){if(Ux)return vm;Ux=1;var t=lO(),e=uO(),n=cO(),r=n&&n.isTypedArray,s=r?e(r):t;return vm=s,vm}var _m,Bx;function hC(){if(Bx)return _m;Bx=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return _m=t,_m}var wm,$x;function hO(){if($x)return wm;$x=1;var t=tC(),e=Fy();function n(r,s,a,l){var c=!a;a||(a={});for(var d=-1,p=s.length;++d<p;){var g=s[d],_=l?l(a[g],r[g],g,a,r):void 0;_===void 0&&(_=r[g]),c?e(a,g,_):t(a,g,_)}return a}return wm=n,wm}var xm,qx;function dO(){if(qx)return xm;qx=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return xm=t,xm}var Tm,zx;function fO(){if(zx)return Tm;zx=1;var t=dO(),e=aC(),n=au(),r=uC(),s=By(),a=cC(),l=Object.prototype,c=l.hasOwnProperty;function d(p,g){var _=n(p),w=!_&&e(p),b=!_&&!w&&r(p),C=!_&&!w&&!b&&a(p),S=_||w||b||C,x=S?t(p.length,String):[],I=x.length;for(var D in p)(g||c.call(p,D))&&!(S&&(D=="length"||b&&(D=="offset"||D=="parent")||C&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||s(D,I)))&&x.push(D);return x}return Tm=d,Tm}var Em,Hx;function pO(){if(Hx)return Em;Hx=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return Em=t,Em}var bm,Wx;function mO(){if(Wx)return bm;Wx=1;var t=rs(),e=oC(),n=pO(),r=Object.prototype,s=r.hasOwnProperty;function a(l){if(!t(l))return n(l);var c=e(l),d=[];for(var p in l)p=="constructor"&&(c||!s.call(l,p))||d.push(p);return d}return bm=a,bm}var Sm,Gx;function dC(){if(Gx)return Sm;Gx=1;var t=fO(),e=mO(),n=$y();function r(s){return n(s)?t(s,!0):e(s)}return Sm=r,Sm}var Cm,Kx;function gO(){if(Kx)return Cm;Kx=1;var t=hO(),e=dC();function n(r){return t(r,e(r))}return Cm=n,Cm}var Rm,Qx;function yO(){if(Qx)return Rm;Qx=1;var t=iC(),e=XL(),n=ZL(),r=eO(),s=rO(),a=aC(),l=au(),c=sO(),d=uC(),p=jy(),g=rs(),_=aO(),w=cC(),b=hC(),C=gO();function S(x,I,D,j,L,$,Q){var P=b(x,D),A=b(I,D),V=Q.get(A);if(V){t(x,D,V);return}var O=$?$(P,A,D+"",x,I,Q):void 0,M=O===void 0;if(M){var q=l(A),F=!q&&d(A),Le=!q&&!F&&w(A);O=A,q||F||Le?l(P)?O=P:c(P)?O=r(P):F?(M=!1,O=e(A,!0)):Le?(M=!1,O=n(A,!0)):O=[]:_(A)||a(A)?(O=P,a(P)?O=C(P):(!g(P)||p(P))&&(O=s(A))):M=!1}M&&(Q.set(A,O),L(O,A,j,$,Q),Q.delete(A)),t(x,D,O)}return Rm=S,Rm}var Im,Xx;function vO(){if(Xx)return Im;Xx=1;var t=GL(),e=iC(),n=QL(),r=yO(),s=rs(),a=dC(),l=hC();function c(d,p,g,_,w){d!==p&&n(p,function(b,C){if(w||(w=new t),s(b))r(d,p,C,g,c,_,w);else{var S=_?_(l(d,C),b,C+"",d,p,w):void 0;S===void 0&&(S=b),e(d,C,S)}},a)}return Im=c,Im}var Am,Yx;function fC(){if(Yx)return Am;Yx=1;function t(e){return e}return Am=t,Am}var Pm,Jx;function _O(){if(Jx)return Pm;Jx=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Pm=t,Pm}var km,Zx;function wO(){if(Zx)return km;Zx=1;var t=_O(),e=Math.max;function n(r,s,a){return s=e(s===void 0?r.length-1:s,0),function(){for(var l=arguments,c=-1,d=e(l.length-s,0),p=Array(d);++c<d;)p[c]=l[s+c];c=-1;for(var g=Array(s+1);++c<s;)g[c]=l[c];return g[s]=a(p),t(r,this,g)}}return km=n,km}var Nm,eT;function xO(){if(eT)return Nm;eT=1;function t(e){return function(){return e}}return Nm=t,Nm}var Dm,tT;function TO(){if(tT)return Dm;tT=1;var t=xO(),e=eC(),n=fC(),r=e?function(s,a){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return Dm=r,Dm}var Vm,nT;function EO(){if(nT)return Vm;nT=1;var t=800,e=16,n=Date.now;function r(s){var a=0,l=0;return function(){var c=n(),d=e-(c-l);if(l=c,d>0){if(++a>=t)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}return Vm=r,Vm}var Lm,rT;function bO(){if(rT)return Lm;rT=1;var t=TO(),e=EO(),n=e(t);return Lm=n,Lm}var Om,iT;function SO(){if(iT)return Om;iT=1;var t=fC(),e=wO(),n=bO();function r(s,a){return n(e(s,a,t),s+"")}return Om=r,Om}var jm,sT;function CO(){if(sT)return jm;sT=1;var t=Mh(),e=$y(),n=By(),r=rs();function s(a,l,c){if(!r(c))return!1;var d=typeof l;return(d=="number"?e(c)&&n(l,c.length):d=="string"&&l in c)?t(c[l],a):!1}return jm=s,jm}var Mm,oT;function RO(){if(oT)return Mm;oT=1;var t=SO(),e=CO();function n(r){return t(function(s,a){var l=-1,c=a.length,d=c>1?a[c-1]:void 0,p=c>2?a[2]:void 0;for(d=r.length>3&&typeof d=="function"?(c--,d):void 0,p&&e(a[0],a[1],p)&&(d=c<3?void 0:d,c=1),s=Object(s);++l<c;){var g=a[l];g&&r(s,g,l,d)}return s})}return Mm=n,Mm}var Fm,aT;function IO(){if(aT)return Fm;aT=1;var t=vO(),e=RO(),n=e(function(r,s,a){t(r,s,a)});return Fm=n,Fm}var AO=IO();const PO=Eh(AO),lT=(t,e,n={})=>PO({},t,e,n),jn=N.createContext(),pC=({children:t})=>{const[e,n]=N.useState({}),[r,s]=N.useState({}),[a,l]=N.useState(!0),[c,d]=N.useState("#ffffff"),[p,g]=N.useState("#4160df"),[_,w]=N.useState("#fff"),[b,C]=N.useState(""),[S,x]=N.useState(null),[I,D]=N.useState(""),[j,L]=N.useState(""),[$,Q]=N.useState({hotline:null,email:null,address:null}),[P,A]=N.useState({}),[V,O]=N.useState({}),[M,q]=N.useState([]),[F,Le]=N.useState({}),[je,be]=N.useState({}),[ye,oe]=N.useState({}),[me,ue]=N.useState({}),[W,Z]=N.useState([]),[ve,Pe]=N.useState({}),[ke,De]=N.useState({}),[Ue,Me]=N.useState({}),[Xe,yt]=N.useState({}),[Nt,vr]=N.useState({members:"Thành viên",activity_history:"Lịch sử hoạt động",stories:"Câu chuyện",projects:"Dự án & hoạt động nổi bật đã thực hiện",fundraising_header:"Quỹ Gây Quỹ",campaign_details:"Chi Tiết Chiến Dịch",donor_list:"Danh Sách Ủng Hộ",events:"Sự kiện"});N.useEffect(()=>{(async()=>{var hn,Ht,rt,it,Ze,vn,en,Be,He;try{const ie=await sL();ie!=null&&ie.global&&(n(ie.global),C(ie.global.logo||""),d(ie.global.primaryBackgroundColor||"#ffffff"),g(ie.global.secondaryBackgroundColor||"#4160df"),w(ie.global.secondaryBackgroundColor||"#ffffff"),D(ie.global.group_name||""),L(ie.global.description||""),Q({hotline:ie.global.hotline||null,email:ie.global.email||null,address:ie.global.address||null}),A(ie.global.social_media||{})),ie!=null&&ie.main&&(s(ie.main),q((hn=ie.main.activity_history)==null?void 0:hn.map(Ye=>{var Dt,st;return{...Ye,started_time:(Dt=Ye.started_time)!=null&&Dt.toDate()?Ye.started_time.toDate():Ye.started_time||null,ended_time:(st=Ye.ended_time)!=null&&st.toDate()?Ye.ended_time.toDate():Ye.ended_time||null}})),Le(ie.main.event_overviews||{}),be(ie.main.fundraising||{}),oe(ie.main.hero_sections||{}),ue(ie.main.highlights||{}),Z(ie.main.members||[]),Pe(ie.main.org_stats||{}),De(Object.entries(ie.main.project_overviews||{}).reduce((Ye,[Dt,st])=>{var wr;return Ye[Dt]={...st,started_time:(wr=st.started_time)!=null&&wr.toDate?st.started_time.toDate():st.started_time||null},Ye},{})),Me(ie.main.statements||{}),yt(ie.main.story_overviews||{}),vr({members:((Ht=ie.main.section_titles)==null?void 0:Ht.members)||"Thành viên",activity_history:((rt=ie.main.section_titles)==null?void 0:rt.activity_history)||"Lịch sử hoạt động",stories:((it=ie.main.section_titles)==null?void 0:it.stories)||"Câu chuyện",projects:((Ze=ie.main.section_titles)==null?void 0:Ze.projects)||"Dự án & hoạt động nổi bật đã thực hiện",fundraising_header:((vn=ie.main.section_titles)==null?void 0:vn.fundraising_header)||"Quỹ Gây Quỹ",campaign_details:((en=ie.main.section_titles)==null?void 0:en.campaign_details)||"Chi Tiết Chiến Dịch",donor_list:((Be=ie.main.section_titles)==null?void 0:Be.donor_list)||"Danh Sách Ủng Hộ",events:((He=ie.main.section_titles)==null?void 0:He.events)||"Sự kiện"}))}catch(ie){console.error("Error in GlobalProvider useEffect:",ie)}finally{l(!1)}})()},[]);const _r=N.useCallback((Rt,hn,Ht)=>{let rt;typeof Rt=="object"&&Rt.key?(rt=Rt.key,hn=Rt.path,Ht=Rt.file):rt=Rt,!rt.startsWith("main_pages.")&&!rt.startsWith("global.")&&console.warn(`❗ enqueueImageUpload: Key should start with 'main_pages.' or 'global.' Got: ${rt}`),O(it=>({...it,[rt]:{key:rt,path:hn,file:Ht}}))},[]),zr=async(Rt,hn)=>{const Ht={...Rt},rt={...hn};for(const it in V){const{path:Ze,file:vn}=V[it];try{const en=Cg(Rg,Ze);await bg(en,vn);const He=`${await Sg(en)}?v=${Date.now()}`;URL.revokeObjectURL(vn);let ie=it.replace(/^globalData\./,"").replace(/^global\./,"").replace(/^mainData\./,"").replace(/^main_pages\./,"").replace(/^main\./,"").replace(/^Main pages\./,"");it.startsWith("global.")||it.startsWith("globalData.")?(ux(Ht,ie,He),ie==="logo"&&C(He)):it.startsWith("main.")||it.startsWith("main_pages.")?ux(rt,ie,He):console.warn(`❗ Unknown key prefix: ${it}`)}catch(en){console.error(`❌ Error uploading image at ${Ze}:`,en)}}return O({}),{updatedGlobal:Ht,updatedMain:rt}},os={loading:a,globalData:e,setGlobalData:n,mainData:r,setMainData:s,primaryBackgroundColor:c,setPrimaryBackgroundColor:d,secondaryBackgroundColor:p,setSecondaryBackgroundColor:g,tertitaryBackgroundColor:_,setTertiaryBackgroundColor:w,logoUrl:b,setLogoUrl:C,logoFile:S,setLogoFile:x,groupName:I,setGroupName:D,groupDescription:j,setGroupDescription:L,contactInfoData:$,setContactInfoData:Q,socialLinksData:P,setSocialLinksData:A,handleGlobalSave:async()=>{try{const Rt={...e,primaryBackgroundColor:c,secondaryBackgroundColor:p,tertitaryBackgroundColor:_,group_name:I,description:j,hotline:$.hotline,email:$.email,address:$.address,social_media:P},hn={activity_history:M.map(Be=>(console.log("Saving activity_history:",{started_time:Be.started_time,ended_time:Be.ended_time}),{...Be,started_time:Be.started_time&&!isNaN(new Date(Be.started_time).getTime())?Ke.fromDate(new Date(Be.started_time)):Be.started_time||null,ended_time:Be.ended_time&&!isNaN(new Date(Be.ended_time).getTime())?Ke.fromDate(new Date(Be.ended_time)):Be.ended_time||null})),event_overviews:Object.entries(F).reduce((Be,[He,ie])=>{var Ye,Dt,st;return Be[He]={...ie,title:ie.title||"",abstract:ie.abstract||"",thumbnail:{src:((Ye=ie.thumbnail)==null?void 0:Ye.src)||"https://via.placeholder.com/300",alt:((Dt=ie.thumbnail)==null?void 0:Dt.alt)||"",caption:((st=ie.thumbnail)==null?void 0:st.caption)||""},started_time:ie.started_time&&!isNaN(new Date(ie.started_time).getTime())?Ke.fromDate(new Date(ie.started_time)):ie.started_time||null},Be},{}),fundraising:{...je,fundraiser_name:je.fundraiser_name||"",campaign_title:je.campaign_title||"",campaign_description:je.campaign_description||"",image_url:je.image_url||"https://via.placeholder.com/300",qr_code_url:je.qr_code_url||"https://via.placeholder.com/300",goal_amount:Number(je.goal_amount)||0,amount_raised:Number(je.amount_raised)||0,donors:Array.isArray(je.donors)?je.donors.map(Be=>({id:Be.id||`donor_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:Be.name||"",amount:Number(Be.amount)||0})):[]},hero_sections:ye,highlights:me,members:W,org_stats:ve,project_overviews:Object.entries(ke).reduce((Be,[He,ie])=>{var Ye,Dt,st;return console.log("Saving project_overviews:",{key:He,started_time:ie.started_time}),Be[He]={...ie,title:ie.title||"",abstract:ie.abstract||"",thumbnail:{src:((Ye=ie.thumbnail)==null?void 0:Ye.src)||"https://via.placeholder.com/300",alt:((Dt=ie.thumbnail)==null?void 0:Dt.alt)||"",caption:((st=ie.thumbnail)==null?void 0:st.caption)||""},started_time:ie.started_time&&!isNaN(new Date(ie.started_time).getTime())?Ke.fromDate(new Date(ie.started_time)):ie.started_time||null},Be},{}),statements:Ue,story_overviews:Object.entries(Xe).reduce((Be,[He,ie])=>{var Ye,Dt,st;return Be[He]={...ie,title:ie.title||"",abstract:ie.abstract||"",thumbnail:{src:((Ye=ie.thumbnail)==null?void 0:Ye.src)||"https://via.placeholder.com/300",alt:((Dt=ie.thumbnail)==null?void 0:Dt.alt)||"",caption:((st=ie.thumbnail)==null?void 0:st.caption)||""},posted_time:ie.posted_time&&!isNaN(new Date(ie.posted_time).getTime())?Ke.fromDate(new Date(ie.posted_time)):ie.posted_time||null},Be},{}),section_titles:{members:Nt.members||"Thành viên",activity_history:Nt.activity_history||"Lịch sử hoạt động",stories:Nt.stories||"Câu chuyện",projects:Nt.projects||"Dự án & hoạt động nổi bật đã thực hiện",fundraising_header:Nt.fundraising_header||"Quỹ Gây Quỹ",campaign_details:Nt.campaign_details||"Chi Tiết Chiến Dịch",donor_list:Nt.donor_list||"Danh Sách Ủng Hộ",events:Nt.events||"Sự kiện"}},{updatedGlobal:Ht,updatedMain:rt}=await zr(Rt,hn),it=lT(Rt,Ht),Ze=lT(hn,rt),vn=ra(ia,"Global","components"),en=ra(ia,"Main pages","components");console.log("Saving event_overviews:",Ze.event_overviews),console.log("Saving activity_history:",Ze.activity_history),console.log("Saving project_overviews:",Ze.project_overviews),await Promise.all([Tg(vn,it),Tg(en,Ze)]),n(it),s(Ze),q(Ze.activity_history),Le(Ze.event_overviews),be(Ze.fundraising),oe(Ze.hero_sections),ue(Ze.highlights),Z(Ze.members),Pe(Ze.org_stats),De(Ze.project_overviews),Me(Ze.statements),yt(Ze.story_overviews),vr(Ze.section_titles),console.log("✅ Global and Main data saved successfully!")}catch(Rt){console.error("❌ Error saving global/main data:",Rt)}},enqueueImageUpload:_r,imageUploadQueue:V,activityHistory:M,setActivityHistory:q,eventOverviews:F,setEventOverviews:Le,fundraising:je,setFundraising:be,heroSections:ye,setHeroSections:oe,highlights:me,setHighlights:ue,members:W,setMembers:Z,orgStats:ve,setOrgStats:Pe,projectOverviews:ke,setProjectOverviews:De,statements:Ue,setStatements:Me,storyOverviews:Xe,setStoryOverviews:yt,sectionTitles:Nt,setSectionTitles:vr};return E.jsx(jn.Provider,{value:os,children:t})};pC.propTypes={children:H.node.isRequired};const kO=()=>{const{enqueueImageUpload:t,setLogoUrl:e,logoUrl:n}=N.useContext(jn),r=s=>{const a=s.target.files[0];if(!a)return;const l=URL.createObjectURL(a);e(l),t({key:"global.logo",path:"global/logo",file:a})};return E.jsx(Ct,{handleImageUpload:r,className:"absolute top-2 left-4 sm:left-6 md:left-8 lg:left-12 w-12 h-12 sm:w-16 sm:h-16 bg-cover bg-center rounded-full",section:"logo",top:"top-2 sm:top-2",style:{backgroundImage:`url(${n||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`}})},mC=({page:t,globalData:e})=>{const[n,r]=N.useState(e!=null&&e.navigation?e.navigation.map((c,d)=>({id:c.id||`page_${d}`,name:c.name,url:c.url})):[{id:"page_0",name:"Trang chủ",url:"/Canary-Charity-Club/"},{id:"page_1",name:"Về Canary",url:"/Canary-Charity-Club/#/about"},{id:"page_2",name:"Sự kiện",url:"/Canary-Charity-Club/#/events"},{id:"page_3",name:"Câu chuyện",url:"/Canary-Charity-Club/#/stories"},{id:"page_4",name:"Ủng hộ",url:"/Canary-Charity-Club/#/donate"}]),[s,a]=N.useState(!1),l=()=>{a(!s)};return E.jsxs("nav",{className:"flex items-center h-full",children:[E.jsx("div",{className:"hidden md:block flex-grow",children:E.jsx("ul",{className:"flex justify-center items-center h-full space-x-4 lg:space-x-8",children:n.map(c=>E.jsx("li",{className:"flex items-center",children:E.jsx("a",{href:c.url,className:t===c.url.split("#/")[1]||t==="home"&&c.url==="/Canary-Charity-Club/"?"text-secondary font-bold hover:text-secondary-hover text-sm lg:text-base":"hover:text-primary-hover text-sm lg:text-base",children:c.name})},c.id))})}),E.jsxs("div",{className:"md:hidden absolute right-4 sm:right-6",children:[E.jsx("button",{onClick:l,className:"text-primary-paragraph focus:outline-none text-lg","aria-label":"Toggle navigation menu",children:E.jsx("i",{className:"fas fa-bars"})}),s&&E.jsx("div",{className:"absolute top-16 right-0 w-48 bg-white shadow-lg rounded-lg py-2 z-50",children:E.jsx("ul",{className:"flex flex-col",children:n.map(c=>E.jsx("li",{className:"px-4 py-2",children:E.jsx("a",{href:c.url,onClick:()=>a(!1),className:t===c.url.split("#/")[1]||t==="home"&&c.url==="/Canary-Charity-Club/"?"text-secondary font-bold hover:text-secondary-hover text-sm":"hover:text-primary-hover text-sm",children:c.name})},c.id))})})]})]})};mC.propTypes={page:H.string,globalData:H.object};const gC=({page:t})=>{const{logoUrl:e,setLogoUrl:n,setLogoFile:r,primaryBackgroundColor:s,globalData:a}=N.useContext(jn);return E.jsx("header",{className:"w-full h-16 sm:h-20 fixed top-0 z-50 shadow-md shadow-gray-200 text-primary-paragraph",style:{backgroundColor:s},children:E.jsxs("div",{className:"w-full h-full flex flex-row justify-center sm:px-6 lg:px-8",children:[E.jsx(kO,{}),E.jsx(mC,{page:t,globalData:a})]})})};gC.propTypes={page:H.string};const NO=N.memo(gC),we=({value:t,onChange:e,placeholder:n,className:r,type:s="input",rows:a="4",style:l})=>E.jsx(E.Fragment,{children:s!=="textarea"?E.jsx("input",{className:r,value:t,type:s=="input"?"text":s,onChange:e,placeholder:n,onClick:c=>c.stopPropagation(),style:l}):E.jsx("textarea",{className:r,value:t,onChange:e,placeholder:n,rows:a,onClick:c=>c.stopPropagation(),style:l})}),yC=({contactInfoData:t,setContactInfoData:e})=>{const n=(r,s)=>{e(a=>({...a,[r]:s}))};return E.jsxs("div",{className:"w-full space-y-2 mt-4",children:[E.jsx(we,{className:"w-full text-sm md:text-base text-secondary-paragraph outline-none bg-transparent rounded px-2 py-1",value:t==null?void 0:t.hotline,onChange:r=>n("hotline",r.target.value),placeholder:"Nhập số hotline"}),E.jsx(we,{className:"w-full text-sm md:text-base text-secondary-paragraph outline-none bg-transparent rounded px-2 py-1",value:t.email,onChange:r=>n("email",r.target.value),placeholder:"Nhập email"}),E.jsx(we,{className:"w-full text-sm md:text-base text-secondary-paragraph outline-none bg-transparent rounded px-2 py-1",value:t.address,onChange:r=>n("address",r.target.value),placeholder:"Nhập địa chỉ"})]})};yC.propTypes={contactInfoData:H.shape({hotline:H.string,email:H.string,address:H.string}).isRequired,setContactInfoData:H.func.isRequired};const vC=({socialLinksData:t,setSocialLinksData:e})=>{const[n,r]=N.useState([]);N.useEffect(()=>{const c=t?Object.entries(t).map(([d,p],g)=>({id:`link_${g}`,name:d.charAt(0).toUpperCase()+d.slice(1),url:p})):[];r(c)},[t]);const s=N.useCallback((c,d,p)=>{r(g=>{const _=g.map(b=>b.id===c?{...b,[d]:p}:b),w=_.reduce((b,C)=>(C.name.trim()&&(b[C.name.toLowerCase()]=C.url),b),{});return e(w),_})},[e]),a=N.useCallback(()=>{const c=`link_${n.length}`,d=[...n,{id:c,name:"",url:""}];r(d)},[n]),l=N.useCallback(c=>{const d=n.filter(g=>g.id!==c),p=d.reduce((g,_)=>(_.name.trim()&&(g[_.name.toLowerCase()]=_.url),g),{});r(d),e(p)},[n,e]);return E.jsxs("div",{className:"w-full [&>a]:block [&>a]:hover:text-secondary-hover [&>a]:transition",children:[E.jsx("div",{className:"h-16 flex items-center font-bold text-sm md:text-base",children:"Truyền thông"}),n.map(c=>E.jsxs("div",{className:"flex gap-2 mb-2 items-center",children:[E.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary-paragraph hover:text-secondary-hover","aria-label":c.name,children:E.jsx("i",{className:`fab fa-${c.name.toLowerCase()} text-sm md:text-base`})}),E.jsx(we,{className:"text-sm md:text-base text-secondary-paragraph outline-none bg-transparent rounded px-2 py-1",value:c.name,onChange:d=>s(c.id,"name",d.target.value),placeholder:"Tên mạng xã hội"}),E.jsx(we,{className:"text-sm md:text-base text-secondary-paragraph outline-none bg-transparent rounded px-2 py-1",value:c.url,onChange:d=>s(c.id,"url",d.target.value),placeholder:"Liên kết mạng xã hội"}),E.jsx("button",{onClick:()=>l(c.id),className:"p-1 bg-red-500 text-white rounded-full cursor-pointer hover:bg-red-600",children:E.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},c.id)),E.jsx("button",{onClick:a,className:"py-2 px-5 rounded-full cursor-pointer font-semibold bg-secondary-darken text-secondary-title mt-2 hover:opacity-80 text-sm md:text-base",children:"Thêm liên kết"})]})};vC.propTypes={socialLinksData:H.object.isRequired,setSocialLinksData:H.func.isRequired};const _C=({groupName:t,setGroupName:e,groupDescription:n,setGroupDescription:r})=>{const{logoUrl:s,setLogoUrl:a,enqueueImageUpload:l}=N.useContext(jn),c=d=>{if(!d)return;const p=URL.createObjectURL(d);a(p),l({key:"global.logo",path:"global/logo",file:d})};return E.jsxs("div",{className:"w-full",children:[E.jsxs("div",{className:"h-16 flex items-center relative",children:[E.jsx(Ct,{handleImageUpload:d=>c(d.target.files[0]),className:"h-11 w-11 bg-primary rounded-full bg-cover bg-center overflow-hidden flex-shrink-0",style:{backgroundImage:`url(${s||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`},section:"logo"}),E.jsx(we,{className:"ml-4 font-bold outline-none bg-transparent rounded px-2 py-1",value:t,onChange:d=>e(d.target.value),placeholder:"Nhập tên nhóm"})]}),E.jsx(we,{type:"textarea",className:"w-full text-base text-secondary-paragraph outline-none bg-transparent resize-none rounded px-2 py-1",value:n,onChange:d=>r(d.target.value),placeholder:"Nhập mô tả",rows:"3"})]})};_C.propTypes={groupName:H.string.isRequired,setGroupName:H.func.isRequired,groupDescription:H.string.isRequired,setGroupDescription:H.func.isRequired};const DO=()=>{const{secondaryBackgroundColor:t,logoUrl:e,setLogoUrl:n,setLogoFile:r,groupName:s,setGroupName:a,groupDescription:l,setGroupDescription:c,contactInfoData:d,setContactInfoData:p,socialLinksData:g,setSocialLinksData:_}=N.useContext(jn);return E.jsxs("div",{className:"w-full mx-auto px-2 sm:px-4 py-8 text-secondary-paragraph",style:{backgroundColor:t},children:[E.jsx("div",{className:"w-full flex justify-center mb-4"}),E.jsxs("div",{className:"w-full flex flex-col md:flex-row",children:[E.jsxs("div",{className:"w-full md:w-1/2 px-2 sm:px-4 mb-6 md:mb-0",children:[E.jsx(_C,{logoUrl:e,setLogoUrl:n,setLogoFile:r,groupName:s,setGroupName:a,groupDescription:l,setGroupDescription:c}),E.jsx(yC,{contactInfoData:d,setContactInfoData:p})]}),E.jsx("div",{className:"w-full md:w-1/2 px-2 sm:px-4",children:E.jsx(vC,{socialLinksData:g,setSocialLinksData:_})})]})]})},wC=N.createContext({});function VO(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const qy=N.createContext(null),xC=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LO(t=!0){const e=N.useContext(qy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=N.useId();N.useEffect(()=>{t&&s(a)},[t]);const l=N.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const zy=typeof window<"u",OO=zy?N.useLayoutEffect:N.useEffect,On=t=>t;let Ig=On;function Hy(t){let e;return()=>(e===void 0&&(e=t()),e)}const sa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ai=t=>t*1e3,li=t=>t/1e3,jO={skipAnimations:!1,useManualTiming:!1};function MO(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),t()),p(l)}const d={schedule:(p,g=!1,_=!1)=>{const b=_&&r?e:n;return g&&a.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,d.process(p))}};return d}const jc=["read","resolveKeyframes","update","preRender","render","postRender"],FO=40;function TC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=jc.reduce((I,D)=>(I[D]=MO(a),I),{}),{read:c,resolveKeyframes:d,update:p,preRender:g,render:_,postRender:w}=l,b=()=>{const I=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(I-s.timestamp,FO),1),s.timestamp=I,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),g.process(s),_.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(b))},C=()=>{n=!0,r=!0,s.isProcessing||t(b)};return{schedule:jc.reduce((I,D)=>{const j=l[D];return I[D]=(L,$=!1,Q=!1)=>(n||C(),j.schedule(L,$,Q)),I},{}),cancel:I=>{for(let D=0;D<jc.length;D++)l[jc[D]].cancel(I)},state:s,steps:l}}const{schedule:lt,cancel:ts,state:Xt,steps:Um}=TC(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0),EC=N.createContext({strict:!1}),uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const t in uT)oa[t]={isEnabled:e=>uT[t].some(n=>!!e[n])};function UO(t){for(const e in t)oa[e]={...oa[e],...t[e]}}const BO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BO.has(t)}let bC=t=>!ph(t);function $O(t){t&&(bC=e=>e.startsWith("on")?!ph(e):t(e))}try{$O(require("@emotion/is-prop-valid").default)}catch{}function qO(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(bC(s)||n===!0&&ph(s)||!e&&!ph(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function zO(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const qh=N.createContext({});function zl(t){return typeof t=="string"||Array.isArray(t)}function zh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Wy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...Wy];function Hh(t){return zh(t.animate)||Gy.some(e=>zl(t[e]))}function SC(t){return!!(Hh(t)||t.variants)}function HO(t,e){if(Hh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zl(n)?n:void 0,animate:zl(r)?r:void 0}}return t.inherit!==!1?e:{}}function WO(t){const{initial:e,animate:n}=HO(t,N.useContext(qh));return N.useMemo(()=>({initial:e,animate:n}),[cT(e),cT(n)])}function cT(t){return Array.isArray(t)?t.join(" "):t}const GO=Symbol.for("motionComponentSymbol");function Ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KO(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ho(n)&&(n.current=r))},[e])}const Ky=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QO="framerAppearId",CC="data-"+Ky(QO),{schedule:Qy,cancel:b5}=TC(queueMicrotask,!1),RC=N.createContext({});function XO(t,e,n,r,s){var a,l;const{visualElement:c}=N.useContext(qh),d=N.useContext(EC),p=N.useContext(qy),g=N.useContext(xC).reducedMotion,_=N.useRef(null);r=r||d.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=_.current,b=N.useContext(RC);w&&!w.projection&&s&&(w.type==="html"||w.type==="svg")&&YO(_.current,n,s,b);const C=N.useRef(!1);N.useInsertionEffect(()=>{w&&C.current&&w.update(n,p)});const S=n[CC],x=N.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return OO(()=>{w&&(C.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Qy.render(w.render),x.current&&w.animationState&&w.animationState.animateChanges())}),N.useEffect(()=>{w&&(!x.current&&w.animationState&&w.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,S)}),x.current=!1))}),w}function YO(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IC(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Ho(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:p})}function IC(t){if(t)return t.options.allowProjection!==!1?t.projection:IC(t.parent)}function JO({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&UO(t);function c(p,g){let _;const w={...N.useContext(xC),...p,layoutId:ZO(p)},{isStatic:b}=w,C=WO(p),S=r(p,b);if(!b&&zy){ej();const x=tj(w);_=x.MeasureLayout,C.visualElement=XO(s,S,w,e,x.ProjectionNode)}return E.jsxs(qh.Provider,{value:C,children:[_&&C.visualElement?E.jsx(_,{visualElement:C.visualElement,...w}):null,n(s,p,KO(S,C.visualElement,g),S,b,C.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const d=N.forwardRef(c);return d[GO]=s,d}function ZO({layoutId:t}){const e=N.useContext(wC).id;return e&&t!==void 0?e+"-"+t:t}function ej(t,e){N.useContext(EC).strict}function tj(t){const{drag:e,layout:n}=oa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(t){return typeof t!="string"||t.includes("-")?!1:!!(nj.indexOf(t)>-1||/[A-Z]/u.test(t))}function hT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Yy(t,e,n,r){if(typeof e=="function"){const[s,a]=hT(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=hT(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Ag=t=>Array.isArray(t),rj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),ij=t=>Ag(t)?t[t.length-1]||0:t,cn=t=>!!(t&&t.getVelocity);function Qc(t){const e=cn(t)?t.get():t;return rj(e)?e.toValue():e}function sj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:oj(r,s,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const AC=t=>(e,n)=>{const r=N.useContext(qh),s=N.useContext(qy),a=()=>sj(t,e,r,s);return n?a():VO(a)};function oj(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=Qc(a[w]);let{initial:l,animate:c}=t;const d=Hh(t),p=SC(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!zh(_)){const w=Array.isArray(_)?_:[_];for(let b=0;b<w.length;b++){const C=Yy(t,w[b]);if(C){const{transitionEnd:S,transition:x,...I}=C;for(const D in I){let j=I[D];if(Array.isArray(j)){const L=g?j.length-1:0;j=j[L]}j!==null&&(s[D]=j)}for(const D in S)s[D]=S[D]}}}return s}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Js=new Set(ma),PC=t=>e=>typeof e=="string"&&e.startsWith(t),Jy=PC("--"),aj=PC("var(--"),Zy=t=>aj(t)?lj.test(t.split("/*")[0].trim()):!1,lj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,di=(t,e,n)=>n>e?e:n<t?t:n,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hl={...ga,transform:t=>di(0,1,t)},Mc={...ga,default:1},lu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mi=lu("deg"),Mr=lu("%"),Se=lu("px"),uj=lu("vh"),cj=lu("vw"),dT={...Mr,parse:t=>Mr.parse(t)/100,transform:t=>Mr.transform(t*100)},hj={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},dj={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Mi,skewX:Mi,skewY:Mi,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Hl,originX:dT,originY:dT,originZ:Se},fT={...ga,transform:Math.round},ev={...hj,...dj,zIndex:fT,size:Se,fillOpacity:Hl,strokeOpacity:Hl,numOctaves:fT},fj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pj=ma.length;function mj(t,e,n){let r="",s=!0;for(let a=0;a<pj;a++){const l=ma[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=kC(c,ev[l]);if(!d){s=!1;const g=fj[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function tv(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(Js.has(d)){l=!0;continue}else if(Jy(d)){s[d]=p;continue}else{const g=kC(p,ev[d]);d.startsWith("origin")?(c=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=mj(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}const gj={offset:"stroke-dashoffset",array:"stroke-dasharray"},yj={offset:"strokeDashoffset",array:"strokeDasharray"};function vj(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?gj:yj;t[a.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(n);t[a.array]=`${l} ${c}`}function pT(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function _j(t,e,n){const r=pT(e,t.x,t.width),s=pT(n,t.y,t.height);return`${r} ${s}`}function nv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},g,_){if(tv(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:b,dimensions:C}=t;w.transform&&(C&&(b.transform=w.transform),delete w.transform),C&&(s!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=_j(C,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&vj(w,l,c,d,!1)}const rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NC=()=>({...rv(),attrs:{}}),iv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const VC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LC(t,e,n,r){DC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VC.has(s)?s:Ky(s),e.attrs[s])}const Wl={};function wj(t){for(const e in t)Wl[e]=t[e],Jy(e)&&(Wl[e].isCSSVariable=!0)}function OC(t,{layout:e,layoutId:n}){return Js.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wl[t]||t==="opacity")}function sv(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(cn(s[l])||e.style&&cn(e.style[l])||OC(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function jC(t,e,n){const r=sv(t,e,n);for(const s in t)if(cn(t[s])||cn(e[s])){const a=ma.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function xj(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const mT=["x","y","width","height","cx","cy","r"],Tj={useVisualState:AC({scrapeMotionValuesFromProps:jC,createRenderState:NC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in s)if(Js.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<mT.length;c++){const d=mT[c];t[d]!==e[d]&&(l=!0)}l&&lt.read(()=>{xj(n,r),lt.render(()=>{nv(r,s,iv(n.tagName),t.transformTemplate),LC(n,r)})})}})},Ej={useVisualState:AC({scrapeMotionValuesFromProps:sv,createRenderState:rv})};function MC(t,e,n){for(const r in e)!cn(e[r])&&!OC(r,n)&&(t[r]=e[r])}function bj({transformTemplate:t},e){return N.useMemo(()=>{const n=rv();return tv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Sj(t,e){const n=t.style||{},r={};return MC(r,n,t),Object.assign(r,bj(t,e)),r}function Cj(t,e){const n={},r=Sj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Rj(t,e,n,r){const s=N.useMemo(()=>{const a=NC();return nv(a,e,iv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};MC(a,t.style,t),s.style={...a,...s.style}}return s}function Ij(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(Xy(n)?Rj:Cj)(r,a,l,n),p=qO(r,typeof n=="string",t),g=n!==N.Fragment?{...p,...d,ref:s}:{},{children:_}=r,w=N.useMemo(()=>cn(_)?_.get():_,[_]);return N.createElement(n,{...g,children:w})}}function Aj(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Xy(r)?Tj:Ej,preloadedFeatures:t,useRender:Ij(s),createVisualElement:e,Component:r};return JO(l)}}function FC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Wh(t,e,n){const r=t.getProps();return Yy(r,e,n!==void 0?n:r.custom,t)}const Pj=Hy(()=>window.ScrollTimeline!==void 0);class kj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Pj()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Nj extends kj{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ov(t,e){return t?t[e]||t.default||t:void 0}const Pg=2e4;function UC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Pg;)e+=n,r=t.next(e);return e>=Pg?1/0:e}function av(t){return typeof t=="function"}function gT(t,e){t.timeline=e,t.onfinish=null}const lv=t=>Array.isArray(t)&&typeof t[0]=="number",Dj={linearEasing:void 0};function Vj(t,e){const n=Hy(t);return()=>{var r;return(r=Dj[e])!==null&&r!==void 0?r:n()}}const mh=Vj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(sa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function $C(t){return!!(typeof t=="function"&&mh()||!t||typeof t=="string"&&(t in kg||mh())||lv(t)||Array.isArray(t)&&t.every($C))}const vl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vl([0,.65,.55,1]),circOut:vl([.55,0,1,.45]),backIn:vl([.31,.01,.66,-.59]),backOut:vl([.33,1.53,.69,.99])};function qC(t,e){if(t)return typeof t=="function"&&mh()?BC(t,e):lv(t)?vl(t):Array.isArray(t)?t.map(n=>qC(n,e)||kg.easeOut):kg[t]}const fr={x:!1,y:!1};function zC(){return fr.x||fr.y}function Lj(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function HC(t,e){const n=Lj(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function yT(t){return!(t.pointerType==="touch"||zC())}function Oj(t,e,n={}){const[r,s,a]=HC(t,n),l=c=>{if(!yT(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const g=_=>{yT(_)&&(p(_),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const WC=(t,e)=>e?t===e?!0:WC(t,e.parentElement):!1,uv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mj(t){return jj.has(t.tagName)||t.tabIndex!==-1}const _l=new WeakSet;function vT(t){return e=>{e.key==="Enter"&&t(e)}}function Bm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Fj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=vT(()=>{if(_l.has(n))return;Bm(n,"down");const s=vT(()=>{Bm(n,"up")}),a=()=>Bm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _T(t){return uv(t)&&!zC()}function Uj(t,e,n={}){const[r,s,a]=HC(t,n),l=c=>{const d=c.currentTarget;if(!_T(c)||_l.has(d))return;_l.add(d);const p=e(d,c),g=(b,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!_T(b)||!_l.has(d))&&(_l.delete(d),typeof p=="function"&&p(b,{success:C}))},_=b=>{g(b,n.useGlobalTarget||WC(d,b.target))},w=b=>{g(b,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{!Mj(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>Fj(p,s),s)}),a}function Bj(t){return t==="x"||t==="y"?fr[t]?null:(fr[t]=!0,()=>{fr[t]=!1}):fr.x||fr.y?null:(fr.x=fr.y=!0,()=>{fr.x=fr.y=!1})}const GC=new Set(["width","height","top","left","right","bottom",...ma]);let Xc;function $j(){Xc=void 0}const Fr={now:()=>(Xc===void 0&&Fr.set(Xt.isProcessing||jO.useManualTiming?Xt.timestamp:performance.now()),Xc),set:t=>{Xc=t,queueMicrotask($j)}};function cv(t,e){t.indexOf(e)===-1&&t.push(e)}function hv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dv{constructor(){this.subscriptions=[]}add(e){return cv(this.subscriptions,e),()=>hv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KC(t,e){return e?t*(1e3/e):0}const wT=30,qj=t=>!isNaN(parseFloat(t));class zj{constructor(e,n={}){this.version="12.0.6",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Fr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dv);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wT);return KC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(t,e){return new zj(t,e)}function Hj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gl(n))}function Wj(t,e){const n=Wh(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=ij(a[l]);Hj(t,l,c)}}function Gj(t){return!!(cn(t)&&t.add)}function Ng(t,e){const n=t.getValue("willChange");if(Gj(n))return n.add(e)}function QC(t){return t.props[CC]}const XC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Kj=1e-7,Qj=12;function Xj(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=XC(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>Kj&&++c<Qj);return l}function uu(t,e,n,r){if(t===e&&n===r)return On;const s=a=>Xj(a,0,1,t,n);return a=>a===0||a===1?a:XC(s(a),e,r)}const YC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JC=t=>e=>1-t(1-e),ZC=uu(.33,1.53,.69,.99),fv=JC(ZC),eR=YC(fv),tR=t=>(t*=2)<1?.5*fv(t):.5*(2-Math.pow(2,-10*(t-1))),pv=t=>1-Math.sin(Math.acos(t)),nR=JC(pv),rR=YC(pv),iR=t=>/^0[^.\s]+$/u.test(t);function Yj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iR(t):!0}const Il=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jj(t){return t==null}const Zj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gv=(t,e)=>n=>!!(typeof n=="string"&&Zj.test(n)&&n.startsWith(t)||e&&!Jj(n)&&Object.prototype.hasOwnProperty.call(n,e)),sR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(mv);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},eM=t=>di(0,255,t),$m={...ga,transform:t=>Math.round(eM(t))},Ms={test:gv("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$m.transform(t)+", "+$m.transform(e)+", "+$m.transform(n)+", "+Il(Hl.transform(r))+")"};function tM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Dg={test:gv("#"),parse:tM,transform:Ms.transform},Wo={test:gv("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mr.transform(Il(e))+", "+Mr.transform(Il(n))+", "+Il(Hl.transform(r))+")"},an={test:t=>Ms.test(t)||Dg.test(t)||Wo.test(t),parse:t=>Ms.test(t)?Ms.parse(t):Wo.test(t)?Wo.parse(t):Dg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ms.transform(t):Wo.transform(t)},nM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(nM))===null||n===void 0?void 0:n.length)||0)>0}const oR="number",aR="color",iM="var",sM="var(",xT="${}",oM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(oM,d=>(an.test(d)?(r.color.push(a),s.push(aR),n.push(an.parse(d))):d.startsWith(sM)?(r.var.push(a),s.push(iM),n.push(d)):(r.number.push(a),s.push(oR),n.push(parseFloat(d))),++a,xT)).split(xT);return{values:n,split:c,indexes:r,types:s}}function lR(t){return Kl(t).values}function uR(t){const{split:e,types:n}=Kl(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===oR?a+=Il(s[l]):c===aR?a+=an.transform(s[l]):a+=s[l]}return a}}const aM=t=>typeof t=="number"?0:t;function lM(t){const e=lR(t);return uR(t)(e.map(aM))}const ns={test:rM,parse:lR,createTransformer:uR,getAnimatableNone:lM},uM=new Set(["brightness","contrast","saturate","opacity"]);function cM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mv)||[];if(!r)return t;const s=n.replace(r,"");let a=uM.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const hM=/\b([a-z-]*)\(.*?\)/gu,Vg={...ns,getAnimatableNone:t=>{const e=t.match(hM);return e?e.map(cM).join(" "):t}},dM={...ev,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Vg,WebkitFilter:Vg},yv=t=>dM[t];function cR(t,e){let n=yv(t);return n!==Vg&&(n=ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fM=new Set(["auto","none","0"]);function pM(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!fM.has(a)&&Kl(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=cR(n,s)}const TT=t=>t===ga||t===Se,ET=(t,e)=>parseFloat(t.split(", ")[e]),bT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return ET(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?ET(a[1],t):0}},mM=new Set(["x","y","z"]),gM=ma.filter(t=>!mM.has(t));function yM(t){const e=[];return gM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bT(4,13),y:bT(5,14)};aa.translateX=aa.x;aa.translateY=aa.y;const Bs=new Set;let Lg=!1,Og=!1;function hR(){if(Og){const t=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=yM(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Og=!1,Lg=!1,Bs.forEach(t=>t.complete()),Bs.clear()}function dR(){Bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Og=!0)})}function vM(){dR(),hR()}class vv{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bs.add(this),Lg||(Lg=!0,lt.read(dR),lt.resolveKeyframes(hR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_M=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wM(t){const e=_M.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function pR(t,e,n=1){const[r,s]=wM(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return fR(l)?parseFloat(l):l}return Zy(s)?pR(s,e,n+1):s}const mR=t=>e=>e.test(t),xM={test:t=>t==="auto",parse:t=>t},gR=[ga,Se,Mr,Mi,cj,uj,xM],ST=t=>gR.find(mR(t));class yR extends vv{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Zy(p))){const g=pR(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!GC.has(r)||e.length!==2)return;const[s,a]=e,l=ST(s),c=ST(a);if(l!==c)if(TT(l)&&TT(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Yj(e[s])&&r.push(s);r.length&&pM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=aa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{n.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const CT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ns.test(t)||t==="0")&&!t.startsWith("url("));function TM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EM(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=CT(s,e),c=CT(a,e);return!l||!c?!1:TM(t)||(n==="spring"||av(n))&&r}const bM=t=>t!==null;function Gh(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(bM),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const SM=40;class vR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!EM(e,r,s,a))if(l)this.options.duration=0;else{d&&d(Gh(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pt=(t,e,n)=>t+(e-t)*n;function qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=qm(d,c,t+1/3),a=qm(d,c,t),l=qm(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function gh(t,e){return n=>n>0?e:t}const zm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},RM=[Dg,Ms,Wo],IM=t=>RM.find(e=>e.test(t));function RT(t){const e=IM(t);if(!e)return!1;let n=e.parse(t);return e===Wo&&(n=CM(n)),n}const IT=(t,e)=>{const n=RT(t),r=RT(e);if(!n||!r)return gh(t,e);const s={...n};return a=>(s.red=zm(n.red,r.red,a),s.green=zm(n.green,r.green,a),s.blue=zm(n.blue,r.blue,a),s.alpha=pt(n.alpha,r.alpha,a),Ms.transform(s))},AM=(t,e)=>n=>e(t(n)),cu=(...t)=>t.reduce(AM),jg=new Set(["none","hidden"]);function PM(t,e){return jg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kM(t,e){return n=>pt(t,e,n)}function _v(t){return typeof t=="number"?kM:typeof t=="string"?Zy(t)?gh:an.test(t)?IT:VM:Array.isArray(t)?_R:typeof t=="object"?an.test(t)?IT:NM:gh}function _R(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>_v(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function NM(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=_v(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function DM(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=d,s[l]++}return r}const VM=(t,e)=>{const n=ns.createTransformer(e),r=Kl(t),s=Kl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jg.has(t)&&!s.values.length||jg.has(e)&&!r.values.length?PM(t,e):cu(_R(DM(r,s),s.values),n):gh(t,e)};function wR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):_v(t)(t,e)}const LM=5;function xR(t,e,n){const r=Math.max(e-LM,0);return KC(n-t(r),e-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AT=.001;function OM({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let s,a,l=1-e;l=di(_t.minDamping,_t.maxDamping,l),t=di(_t.minDuration,_t.maxDuration,li(t)),l<1?(s=p=>{const g=p*l,_=g*t,w=g-n,b=Mg(p,l),C=Math.exp(-_);return AT-w/b*C},a=p=>{const _=p*l*t,w=_*n+n,b=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-_),S=Mg(Math.pow(p,2),l);return(-s(p)+AT>0?-1:1)*((w-b)*C)/S}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,d=MM(s,a,c);if(t=ai(t),isNaN(d))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const jM=12;function MM(t,e,n){let r=n;for(let s=1;s<jM;s++)r=r-t(r)/e(r);return r}function Mg(t,e){return t*Math.sqrt(1-e*e)}const FM=["duration","bounce"],UM=["stiffness","damping","mass"];function PT(t,e){return e.some(n=>t[n]!==void 0)}function BM(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!PT(t,UM)&&PT(t,FM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:_t.mass,stiffness:s,damping:a}}else{const n=OM(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function TR(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:b}=BM({...n,velocity:-li(n.velocity||0)}),C=w||0,S=p/(2*Math.sqrt(d*g)),x=l-a,I=li(Math.sqrt(d/g)),D=Math.abs(x)<5;r||(r=D?_t.restSpeed.granular:_t.restSpeed.default),s||(s=D?_t.restDelta.granular:_t.restDelta.default);let j;if(S<1){const $=Mg(I,S);j=Q=>{const P=Math.exp(-S*I*Q);return l-P*((C+S*I*x)/$*Math.sin($*Q)+x*Math.cos($*Q))}}else if(S===1)j=$=>l-Math.exp(-I*$)*(x+(C+I*x)*$);else{const $=I*Math.sqrt(S*S-1);j=Q=>{const P=Math.exp(-S*I*Q),A=Math.min($*Q,300);return l-P*((C+S*I*x)*Math.sinh(A)+$*x*Math.cosh(A))/$}}const L={calculatedDuration:b&&_||null,next:$=>{const Q=j($);if(b)c.done=$>=_;else{let P=0;S<1&&(P=$===0?ai(C):xR(j,$,Q));const A=Math.abs(P)<=r,V=Math.abs(l-Q)<=s;c.done=A&&V}return c.value=c.done?l:Q,c},toString:()=>{const $=Math.min(UC(L),Pg),Q=BC(P=>L.next($*P).value,$,30);return $+"ms "+Q}};return L}function kT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},b=A=>c!==void 0&&A<c||d!==void 0&&A>d,C=A=>c===void 0?d:d===void 0||Math.abs(c-A)<Math.abs(d-A)?c:d;let S=n*e;const x=_+S,I=l===void 0?x:l(x);I!==x&&(S=I-_);const D=A=>-S*Math.exp(-A/r),j=A=>I+D(A),L=A=>{const V=D(A),O=j(A);w.done=Math.abs(V)<=p,w.value=w.done?I:O};let $,Q;const P=A=>{b(w.value)&&($=A,Q=TR({keyframes:[w.value,C(w.value)],velocity:xR(j,A,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return P(0),{calculatedDuration:null,next:A=>{let V=!1;return!Q&&$===void 0&&(V=!0,L(A),P(A)),$!==void 0&&A>=$?Q.next(A-$):(!V&&L(A),w)}}}const $M=uu(.42,0,1,1),qM=uu(0,0,.58,1),ER=uu(.42,0,.58,1),zM=t=>Array.isArray(t)&&typeof t[0]!="number",NT={linear:On,easeIn:$M,easeInOut:ER,easeOut:qM,circIn:pv,circInOut:rR,circOut:nR,backIn:fv,backInOut:eR,backOut:ZC,anticipate:tR},DT=t=>{if(lv(t)){Ig(t.length===4);const[e,n,r,s]=t;return uu(e,n,r,s)}else if(typeof t=="string")return Ig(NT[t]!==void 0),NT[t];return t};function HM(t,e,n){const r=[],s=n||wR,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||On:e;c=cu(d,c)}r.push(c)}return r}function WM(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Ig(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=HM(e,r,s),d=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(d>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=sa(t[_],t[_+1],g);return c[_](w)};return n?g=>p(di(t[0],t[a-1],g)):p}function GM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=sa(0,e,r);t.push(pt(n,1,s))}}function KM(t){const e=[0];return GM(e,t.length-1),e}function QM(t,e){return t.map(n=>n*e)}function XM(t,e){return t.map(()=>e||ER).splice(0,t.length-1)}function yh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=zM(r)?r.map(DT):DT(r),a={done:!1,value:e[0]},l=QM(n&&n.length===e.length?n:KM(e),t),c=WM(l,e,{ease:Array.isArray(s)?s:XM(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const YM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>lt.update(e,!0),stop:()=>ts(e),now:()=>Xt.isProcessing?Xt.timestamp:Fr.now()}},JM={decay:kT,inertia:kT,tween:yh,keyframes:yh,spring:TR},ZM=t=>t/100;class wv extends vR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||vv,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=av(n)?n:JM[n]||yh;let d,p;c!==yh&&typeof e[0]!="number"&&(d=cu(ZM,wR(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=UC(g));const{calculatedDuration:_}=g,w=_+s,b=w*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:_,resolvedDuration:w,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:b,repeatType:C,repeatDelay:S,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const I=this.currentTime-w*(this.speed>=0?1:-1),D=this.speed>=0?I<0:I>g;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let j=this.currentTime,L=a;if(b){const A=Math.min(this.currentTime,g)/_;let V=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&V--,V=Math.min(V,b+1),!!(V%2)&&(C==="reverse"?(O=1-O,S&&(O-=S/_)):C==="mirror"&&(L=l)),j=di(0,1,O)*_}const $=D?{done:!1,value:d[0]}:L.next(j);c&&($.value=c($.value));let{done:Q}=$;!D&&p!==null&&(Q=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return P&&s!==void 0&&($.value=Gh(d,this.options,s)),x&&x($.value),P&&this.finish(),$}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=ai(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const e3=new Set(["opacity","clipPath","filter","transform"]);function t3(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:n};d&&(p.offset=d);const g=qC(c,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const n3=Hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vh=10,r3=2e4;function i3(t){return av(t.type)||t.type==="spring"||!$C(t.ease)}function s3(t,e){const n=new wv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<r3;)r=n.sample(a),s.push(r.value),a+=vh;return{times:void 0,keyframes:s,duration:a-vh,ease:"linear"}}const bR={anticipate:tR,backInOut:eR,circInOut:rR};function o3(t){return t in bR}class VT extends vR{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new yR(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&mh()&&o3(a)&&(a=bR[a]),i3(this.options)){const{onComplete:_,onUpdate:w,motionValue:b,element:C,...S}=this.options,x=s3(e,S);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,a=x.ease,l="keyframes"}const g=t3(c.owner.current,d,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(gT(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;c.set(Gh(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ai(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return On;const{animation:r}=n;gT(r,e)}return On}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:w,...b}=this.options,C=new wv({...b,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),S=ai(this.time);p.setWithVelocity(C.sample(S-vh).value,C.sample(S).value,vh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return n3()&&r&&e3.has(r)&&!d&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const a3={type:"spring",stiffness:500,damping:25,restSpeed:10},l3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u3={type:"keyframes",duration:.8},c3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h3=(t,{keyframes:e})=>e.length>2?u3:Js.has(t)?t.startsWith("scale")?l3(e[1]):a3:c3;function d3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const xv=(t,e,n,r={},s,a)=>l=>{const c=ov(r,t)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ai(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};d3(c)||(g={...g,...h3(t,g)}),g.duration&&(g.duration=ai(g.duration)),g.repeatDelay&&(g.repeatDelay=ai(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const w=Gh(g.keyframes,c);if(w!==void 0)return lt.update(()=>{g.onUpdate(w),g.onComplete()}),new Nj([])}return!a&&VT.supports(g)?new VT(g):new wv(g)};function f3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in d){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),b=d[_];if(b===void 0||g&&f3(g,_))continue;const C={delay:n,...ov(l||{},_)};let S=!1;if(window.MotionHandoffAnimation){const I=QC(t);if(I){const D=window.MotionHandoffAnimation(I,_,lt);D!==null&&(C.startTime=D,S=!0)}}Ng(t,_),w.start(xv(_,w,b,t.shouldReduceMotion&&GC.has(_)?{type:!1}:C,t,S));const x=w.animation;x&&p.push(x)}return c&&Promise.all(p).then(()=>{lt.update(()=>{c&&Wj(t,c)})}),p}function Fg(t,e,n={}){var r;const s=Wh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(SR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:w}=a;return p3(t,e,g+p,_,w,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function p3(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,d=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(m3).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Fg(p,e,{...a,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function m3(t,e){return t.sortNodePosition(e)}function g3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Fg(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Fg(t,e,n);else{const s=typeof e=="function"?Wh(t,e,n.custom):e;r=Promise.all(SR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const y3=Gy.length;function CR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<y3;n++){const r=Gy[n],s=t.props[r];(zl(s)||s===!1)&&(e[r]=s)}return e}const v3=[...Wy].reverse(),_3=Wy.length;function w3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>g3(t,n,r)))}function x3(t){let e=w3(t),n=LT(),r=!0;const s=d=>(p,g)=>{var _;const w=Wh(t,g,d==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:b,transitionEnd:C,...S}=w;p={...p,...S,...C}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=CR(t.parent)||{},_=[],w=new Set;let b={},C=1/0;for(let x=0;x<_3;x++){const I=v3[x],D=n[I],j=p[I]!==void 0?p[I]:g[I],L=zl(j),$=I===d?D.isActive:null;$===!1&&(C=x);let Q=j===g[I]&&j!==p[I]&&L;if(Q&&r&&t.manuallyAnimateOnMount&&(Q=!1),D.protectedKeys={...b},!D.isActive&&$===null||!j&&!D.prevProp||zh(j)||typeof j=="boolean")continue;const P=T3(D.prevProp,j);let A=P||I===d&&D.isActive&&!Q&&L||x>C&&L,V=!1;const O=Array.isArray(j)?j:[j];let M=O.reduce(s(I),{});$===!1&&(M={});const{prevResolvedValues:q={}}=D,F={...q,...M},Le=ye=>{A=!0,w.has(ye)&&(V=!0,w.delete(ye)),D.needsAnimating[ye]=!0;const oe=t.getValue(ye);oe&&(oe.liveStyle=!1)};for(const ye in F){const oe=M[ye],me=q[ye];if(b.hasOwnProperty(ye))continue;let ue=!1;Ag(oe)&&Ag(me)?ue=!FC(oe,me):ue=oe!==me,ue?oe!=null?Le(ye):w.add(ye):oe!==void 0&&w.has(ye)?Le(ye):D.protectedKeys[ye]=!0}D.prevProp=j,D.prevResolvedValues=M,D.isActive&&(b={...b,...M}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(Q&&P)||V)&&_.push(...O.map(ye=>({animation:ye,options:{type:I}})))}if(w.size){const x={};w.forEach(I=>{const D=t.getBaseTarget(I),j=t.getValue(I);j&&(j.liveStyle=!0),x[I]=D??null}),_.push({animation:x})}let S=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(_):Promise.resolve()}function c(d,p){var g;if(n[d].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var b;return(b=w.animationState)===null||b===void 0?void 0:b.setActive(d,p)}),n[d].isActive=p;const _=l(d);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=LT(),r=!0}}}function T3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FC(e,t):!1}function Ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LT(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class is{constructor(e){this.isMounted=!1,this.node=e}update(){}}class E3 extends is{constructor(e){super(e),e.animationState||(e.animationState=x3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let b3=0;class S3 extends is{constructor(){super(...arguments),this.id=b3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const C3={animation:{Feature:E3},exit:{Feature:S3}};function Ql(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hu(t){return{point:{x:t.pageX,y:t.pageY}}}const R3=t=>e=>uv(e)&&t(e,hu(e));function Al(t,e,n,r){return Ql(t,e,R3(n),r)}const OT=(t,e)=>Math.abs(t-e);function I3(t,e){const n=OT(t.x,e.x),r=OT(t.y,e.y);return Math.sqrt(n**2+r**2)}class RR{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Wm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,b=I3(_.offset,{x:0,y:0})>=3;if(!w&&!b)return;const{point:C}=_,{timestamp:S}=Xt;this.history.push({...C,timestamp:S});const{onStart:x,onMove:I}=this.handlers;w||(x&&x(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Hm(w,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wm(_.type==="pointercancel"?this.lastMoveEventInfo:Hm(w,this.transformPagePoint),this.history);this.startEvent&&b&&b(_,x),C&&C(_,x)},!uv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=hu(e),c=Hm(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=Xt;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Wm(c,this.history)),this.removeListeners=cu(Al(this.contextWindow,"pointermove",this.handlePointerMove),Al(this.contextWindow,"pointerup",this.handlePointerUp),Al(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ts(this.updatePoint)}}function Hm(t,e){return e?{point:e(t.point)}:t}function jT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wm({point:t},e){return{point:t,delta:jT(t,IR(e)),offset:jT(t,A3(e)),velocity:P3(e,.1)}}function A3(t){return t[0]}function IR(t){return t[t.length-1]}function P3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=IR(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ai(e)));)n--;if(!r)return{x:0,y:0};const a=li(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const AR=1e-4,k3=1-AR,N3=1+AR,PR=.01,D3=0-PR,V3=0+PR;function yn(t){return t.max-t.min}function L3(t,e,n){return Math.abs(t-e)<=n}function MT(t,e,n,r=.5){t.origin=r,t.originPoint=pt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=k3&&t.scale<=N3||isNaN(t.scale))&&(t.scale=1),(t.translate>=D3&&t.translate<=V3||isNaN(t.translate))&&(t.translate=0)}function Pl(t,e,n,r){MT(t.x,e.x,n.x,r?r.originX:void 0),MT(t.y,e.y,n.y,r?r.originY:void 0)}function FT(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function O3(t,e,n){FT(t.x,e.x,n.x),FT(t.y,e.y,n.y)}function UT(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function kl(t,e,n){UT(t.x,e.x,n.x),UT(t.y,e.y,n.y)}function j3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pt(n,t,r.max):Math.min(t,n)),t}function BT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function M3(t,{top:e,left:n,bottom:r,right:s}){return{x:BT(t.x,n,s),y:BT(t.y,e,r)}}function $T(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function F3(t,e){return{x:$T(t.x,e.x),y:$T(t.y,e.y)}}function U3(t,e){let n=.5;const r=yn(t),s=yn(e);return s>r?n=sa(e.min,e.max-r,t.min):r>s&&(n=sa(t.min,t.max-s,e.min)),di(0,1,n)}function B3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ug=.35;function $3(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:qT(t,"left","right"),y:qT(t,"top","bottom")}}function qT(t,e,n){return{min:zT(t,e),max:zT(t,n)}}function zT(t,e){return typeof t=="number"?t:t[e]||0}const HT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:HT(),y:HT()}),WT=()=>({min:0,max:0}),bt=()=>({x:WT(),y:WT()});function Qn(t){return[t("x"),t("y")]}function kR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function q3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gm(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!Gm(t)||!Gm(e)||!Gm(n)}function Ls(t){return Bg(t)||NR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function NR(t){return GT(t.x)||GT(t.y)}function GT(t){return t&&t!=="0%"}function _h(t,e,n){const r=t-n,s=e*r;return n+s}function KT(t,e,n,r,s){return s!==void 0&&(t=_h(t,s,r)),_h(t,n,r)+e}function $g(t,e=0,n=1,r,s){t.min=KT(t.min,e,n,r,s),t.max=KT(t.max,e,n,r,s)}function DR(t,{x:e,y:n}){$g(t.x,e.translate,e.scale,e.originPoint),$g(t.y,n.translate,n.scale,n.originPoint)}const QT=.999999999999,XT=1.0000000000001;function H3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,DR(t,l)),r&&Ls(a.latestValues)&&Qo(t,a.latestValues))}e.x<XT&&e.x>QT&&(e.x=1),e.y<XT&&e.y>QT&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function YT(t,e,n,r,s=.5){const a=pt(t.min,t.max,s);$g(t,e,n,a,r)}function Qo(t,e){YT(t.x,e.x,e.scaleX,e.scale,e.originX),YT(t.y,e.y,e.scaleY,e.scale,e.originY)}function VR(t,e){return kR(z3(t.getBoundingClientRect(),e))}function W3(t,e,n){const r=VR(t,n),{scroll:s}=e;return s&&(Ko(r.x,s.offset.x),Ko(r.y,s.offset.y)),r}const LR=({current:t})=>t?t.ownerDocument.defaultView:null,G3=new WeakMap;class K3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hu(g).point)},a=(g,_)=>{const{drag:w,dragPropagation:b,onDragStart:C}=this.getProps();if(w&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bj(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(x=>{let I=this.getAxisMotionValue(x).get()||0;if(Mr.test(I)){const{projection:D}=this.visualElement;if(D&&D.layout){const j=D.layout.layoutBox[x];j&&(I=yn(j)*(parseFloat(I)/100))}}this.originPoint[x]=I}),C&&lt.postRender(()=>C(g,_)),Ng(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:w,dragDirectionLock:b,onDirectionLock:C,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:x}=_;if(b&&this.currentDirection===null){this.currentDirection=Q3(x),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,x),this.updateAxis("y",_.point,x),this.visualElement.render(),S&&S(g,_)},c=(g,_)=>this.stop(g,_),d=()=>Qn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new RR(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:LR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&lt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Fc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=j3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ho(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=M3(s.layoutBox,n):this.constraints=!1,this.elastic=$3(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=B3(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ho(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=W3(r,s.root,this.visualElement.getTransformPagePoint());let l=F3(s.layout.layoutBox,a);if(n){const c=n(q3(l));this.hasMutatedConstraints=!!c,c&&(l=kR(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Qn(g=>{if(!Fc(g,n,this.currentDirection))return;let _=d[g]||{};l&&(_={min:0,max:0});const w=s?200:1e6,b=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ng(this.visualElement,e),r.start(xv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qn(n=>{const{drag:r}=this.getProps();if(!Fc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-pt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ho(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=U3({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qn(l=>{if(!Fc(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(pt(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;G3.set(this.visualElement,this);const e=this.visualElement.current,n=Al(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Ho(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),lt.read(r);const l=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=d[g].translate,_.set(_.get()+d[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Ug,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Q3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class X3 extends is{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new K3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const JT=t=>(e,n)=>{t&&lt.postRender(()=>t(e,n))};class Y3 extends is{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new RR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JT(e),onStart:JT(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&lt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=ZT(t,e.target.x),r=ZT(t,e.target.y);return`${n}% ${r}%`}},J3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ns.parse(t);if(s.length>5)return r;const a=ns.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=pt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class Z3 extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;wj(e6),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||lt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OR(t){const[e,n]=LO(),r=N.useContext(wC);return E.jsx(Z3,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(RC),isPresent:e,safeToRemove:n})}const e6={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:J3};function t6(t,e,n){const r=cn(t)?t:Gl(t);return r.start(xv("",r,e,n)),r.animation}function n6(t){return t instanceof SVGElement&&t.tagName!=="svg"}const r6=(t,e)=>t.depth-e.depth;class i6{constructor(){this.children=[],this.isDirty=!1}add(e){cv(this.children,e),this.isDirty=!0}remove(e){hv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r6),this.isDirty=!1,this.children.forEach(e)}}function s6(t,e){const n=Fr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(ts(r),t(a-e))};return lt.read(r,!0),()=>ts(r)}const jR=["TopLeft","TopRight","BottomLeft","BottomRight"],o6=jR.length,eE=t=>typeof t=="string"?parseFloat(t):t,tE=t=>typeof t=="number"||Se.test(t);function a6(t,e,n,r,s,a){s?(t.opacity=pt(0,n.opacity!==void 0?n.opacity:1,l6(r)),t.opacityExit=pt(e.opacity!==void 0?e.opacity:1,0,u6(r))):a&&(t.opacity=pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<o6;l++){const c=`border${jR[l]}Radius`;let d=nE(e,c),p=nE(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||tE(d)===tE(p)?(t[c]=Math.max(pt(eE(d),eE(p),r),0),(Mr.test(p)||Mr.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,r))}function nE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l6=MR(0,.5,nR),u6=MR(.5,.95,On);function MR(t,e,n){return r=>r<t?0:r>e?1:n(sa(t,e,r))}function rE(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){rE(t.x,e.x),rE(t.y,e.y)}function iE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sE(t,e,n,r,s){return t-=e,t=_h(t,1/n,r),s!==void 0&&(t=_h(t,1/s,r)),t}function c6(t,e=0,n=1,r=.5,s,a=t,l=t){if(Mr.test(e)&&(e=parseFloat(e),e=pt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=pt(a.min,a.max,r);t===a&&(c-=e),t.min=sE(t.min,e,n,c,s),t.max=sE(t.max,e,n,c,s)}function oE(t,e,[n,r,s],a,l){c6(t,e[n],e[r],e[s],e.scale,a,l)}const h6=["x","scaleX","originX"],d6=["y","scaleY","originY"];function aE(t,e,n,r){oE(t.x,e,h6,n?n.x:void 0,r?r.x:void 0),oE(t.y,e,d6,n?n.y:void 0,r?r.y:void 0)}function lE(t){return t.translate===0&&t.scale===1}function FR(t){return lE(t.x)&&lE(t.y)}function uE(t,e){return t.min===e.min&&t.max===e.max}function f6(t,e){return uE(t.x,e.x)&&uE(t.y,e.y)}function cE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return cE(t.x,e.x)&&cE(t.y,e.y)}function hE(t){return yn(t.x)/yn(t.y)}function dE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class p6{constructor(){this.members=[]}add(e){cv(this.members,e),e.scheduleRender()}remove(e){if(hv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m6(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:b,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wl=typeof window<"u"&&window.MotionDebug!==void 0,Km=["","X","Y","Z"],g6={visibility:"hidden"},fE=1e3;let y6=0;function Qm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function BR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&BR(r)}function $R({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=y6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wl&&(Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0),this.nodes.forEach(w6),this.nodes.forEach(S6),this.nodes.forEach(C6),this.nodes.forEach(x6),wl&&window.MotionDebug.record(Os)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new i6)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new dv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n6(l),this.instance=l;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=s6(w,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(mE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeLayoutChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||k6,{onLayoutAnimationStart:x,onLayoutAnimationComplete:I}=g.getProps(),D=!this.targetLayout||!UR(this.targetLayout,C),j=!w&&b;if(this.options.layoutRoot||this.resumeFrom||j||w&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,j);const L={...ov(S,"layout"),onPlay:x,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else w||mE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}this.isUpdating||this.nodes.forEach(E6),this.isUpdating=!1,this.nodes.forEach(b6),this.nodes.forEach(v6),this.nodes.forEach(_6),this.clearAllSnapshots();const c=Fr.now();Xt.delta=di(0,1e3/60,c-Xt.timestamp),Xt.timestamp=c,Xt.isProcessing=!0,Um.update.process(Xt),Um.preRender.process(Xt),Um.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T6),this.sharedNodes.forEach(I6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!FR(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||Ls(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),N6(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return bt();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(D6))){const{scroll:g}=this.root;g&&(Ko(d.x,g.offset.x),Ko(d.y,g.offset.y))}return d}removeElementScroll(l){var c;const d=bt();if(Kn(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:w}=g;g!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Kn(d,l),Ko(d.x,_.offset.x),Ko(d.y,_.offset.y))}return d}applyTransform(l,c=!1){const d=bt();Kn(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qo(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ls(g.latestValues)&&Qo(d,g.latestValues)}return Ls(this.latestValues)&&Qo(d,this.latestValues),d}removeTransform(l){const c=bt();Kn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ls(p.latestValues))continue;Bg(p.latestValues)&&p.updateSnapshot();const g=bt(),_=p.measurePageBox();Kn(g,_),aE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ls(this.latestValues)&&aE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),kl(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),DR(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),kl(this.relativeTargetOrigin,this.target,b.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wl&&Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||NR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Kn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;H3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),Pl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!dE(this.projectionDelta.x,this.prevProjectionDelta.x)||!dE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),wl&&Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},_=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=bt(),b=d?d.source:void 0,C=this.layout?this.layout.source:void 0,S=b!==C,x=this.getStack(),I=!x||x.members.length<=1,D=!!(S&&!I&&this.options.crossfade===!0&&!this.path.some(P6));this.animationProgress=0;let j;this.mixTargetDelta=L=>{const $=L/1e3;gE(_.x,l.x,$),gE(_.y,l.y,$),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A6(this.relativeTarget,this.relativeTargetOrigin,w,$),j&&f6(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=bt()),Kn(j,this.relativeTarget)),S&&(this.animationValues=g,a6(g,p,this.latestValues,$,D,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=t6(0,fE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&qR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||bt();const _=yn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+_;const w=yn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Kn(c,d),Qo(c,g),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new p6),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&Qm("z",l,p,this.animationValues);for(let g=0;g<Km.length;g++)Qm(`rotate${Km[g]}`,l,p,this.animationValues),Qm(`skew${Km[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g6;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Qc(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Qc(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(S.transform=g?g({},""):"none",this.hasProjected=!1),S}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=m6(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:b,y:C}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,_.animationValues?p.opacity=_===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const S in Wl){if(w[S]===void 0)continue;const{correct:x,applyTo:I,isCSSVariable:D}=Wl[S],j=p.transform==="none"?w[S]:x(w[S],_);if(I){const L=I.length;for(let $=0;$<L;$++)p[I[$]]=j}else D?this.options.visualElement.renderState.vars[S]=j:p[S]=j}return this.options.layoutId&&(p.pointerEvents=_===this?Qc(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function v6(t){t.updateLayout()}function _6(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Qn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],b=yn(w);w.min=r[_].min,w.max=w.min+b}):qR(a,n.layoutBox,r)&&Qn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],b=yn(r[_]);w.max=w.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+b)});const c=Go();Pl(c,r,n.layoutBox);const d=Go();l?Pl(d,t.applyTransform(s,!0),n.measuredBox):Pl(d,r,n.layoutBox);const p=!FR(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:b}=_;if(w&&b){const C=bt();kl(C,n.layoutBox,w.layoutBox);const S=bt();kl(S,r,b.layoutBox),UR(C,S)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function w6(t){wl&&Os.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function x6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function T6(t){t.clearSnapshot()}function pE(t){t.clearMeasurements()}function E6(t){t.isLayoutDirty=!1}function b6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S6(t){t.resolveTargetDelta()}function C6(t){t.calcProjection()}function R6(t){t.resetSkewAndRotation()}function I6(t){t.removeLeadSnapshot()}function gE(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yE(t,e,n,r){t.min=pt(e.min,n.min,r),t.max=pt(e.max,n.max,r)}function A6(t,e,n,r){yE(t.x,e.x,n.x,r),yE(t.y,e.y,n.y,r)}function P6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k6={duration:.45,ease:[.4,0,.1,1]},vE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_E=vE("applewebkit/")&&!vE("chrome/")?Math.round:On;function wE(t){t.min=_E(t.min),t.max=_E(t.max)}function N6(t){wE(t.x),wE(t.y)}function qR(t,e,n){return t==="position"||t==="preserve-aspect"&&!L3(hE(e),hE(n),.2)}function D6(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const V6=$R({attachResizeListener:(t,e)=>Ql(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},zR=$R({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xm.current){const t=new V6({});t.mount(window),t.setOptions({layoutScroll:!0}),Xm.current=t}return Xm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),L6={pan:{Feature:Y3},drag:{Feature:X3,ProjectionNode:zR,MeasureLayout:OR}};function xE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&lt.postRender(()=>a(e,hu(e)))}class O6 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=Oj(e,(n,r)=>(xE(this.node,r,"Start"),s=>xE(this.node,s,"End"))))}unmount(){}}class j6 extends is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&lt.postRender(()=>a(e,hu(e)))}class M6 extends is{mount(){const{current:e}=this.node;e&&(this.unmount=Uj(e,(n,r)=>(TE(this.node,r,"Start"),(s,{success:a})=>TE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qg=new WeakMap,Ym=new WeakMap,F6=t=>{const e=qg.get(t.target);e&&e(t)},U6=t=>{t.forEach(F6)};function B6({root:t,...e}){const n=t||document;Ym.has(n)||Ym.set(n,{});const r=Ym.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(U6,{root:t,...e})),r[s]}function $6(t,e,n){const r=B6(e);return qg.set(t,n),r.observe(t),()=>{qg.delete(t),r.unobserve(t)}}const q6={some:0,all:1};class z6 extends is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:q6[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(d)};return $6(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(H6(e,n))&&this.startObserver()}unmount(){}}function H6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W6={inView:{Feature:z6},tap:{Feature:M6},focus:{Feature:j6},hover:{Feature:O6}},G6={layout:{ProjectionNode:zR,MeasureLayout:OR}},zg={current:null},HR={current:!1};function K6(){if(HR.current=!0,!!zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zg.current=t.matches;t.addListener(e),e()}else zg.current=!1}const Q6=[...gR,an,ns],X6=t=>Q6.find(mR(t)),EE=new WeakMap;function Y6(t,e,n){for(const r in e){const s=e[r],a=n[r];if(cn(s))t.addValue(r,s);else if(cn(a))t.addValue(r,Gl(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Gl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J6{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Fr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,lt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Hh(n),this.isVariantNode=SC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in w){const C=w[b];d[b]!==void 0&&cn(C)&&C.set(d[b],!1)}}mount(e){this.current=e,EE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HR.current||K6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){EE.delete(this.current),this.projection&&this.projection.unmount(),ts(this.notifyUpdate),ts(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Js.has(e),s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oa){const n=oa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bE.length;r++){const s=bE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=Y6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fR(s)||iR(s))?s=parseFloat(s):!X6(s)&&ns.test(n)&&(s=cR(e,n)),this.setBaseTarget(e,cn(s)?s.get():s)),cn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Yy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!cn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WR extends J6{constructor(){super(...arguments),this.KeyframeResolver=yR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Z6(t){return window.getComputedStyle(t)}class e5 extends WR{constructor(){super(...arguments),this.type="html",this.renderInstance=DC}readValueFromInstance(e,n){if(Js.has(n)){const r=yv(n);return r&&r.default||0}else{const r=Z6(e),s=(Jy(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VR(e,n)}build(e,n,r){tv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sv(e,n,r)}}class t5 extends WR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Js.has(n)){const r=yv(n);return r&&r.default||0}return n=VC.has(n)?n:Ky(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jC(e,n,r)}build(e,n,r){nv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){LC(e,n,r,s)}mount(e){this.isSVGTag=iv(e.tagName),super.mount(e)}}const n5=(t,e)=>Xy(t)?new t5(e):new e5(e,{allowProjection:t!==N.Fragment}),r5=Aj({...C3,...W6,...L6,...G6},n5),Uc=zO(r5),du=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 min-h-[70vh]",children:[E.jsx(Uc.div,{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),E.jsx(Uc.div,{className:"text-lg text-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:"Loading content... ✨"}),E.jsx(Uc.div,{className:"flex space-x-1",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[0,1,2].map(t=>E.jsx(Uc.div,{className:"w-2 h-2 bg-blue-600 rounded-full",animate:{y:[0,-10,0]},transition:{duration:1,repeat:1/0,delay:t*.3}},t))})]}),Tv=({visible:t=!0,onClick:e})=>{const[n,r]=N.useState(!0);return t?E.jsx("div",{className:"fixed bottom-4 right-4 z-50 cursor-pointer",children:E.jsxs("div",{className:`flex items-center ${n?"w-auto px-2 py-1":"w-12 h-12 justify-center"} bg-green-600 rounded-full shadow-lg overflow-hidden cursor-pointer`,children:[n&&E.jsx("button",{onClick:e,className:"text-white font-semibold px-4 py-2 cursor-pointer",children:"Lưu thay đổi"}),E.jsx("button",{className:`text-white w-8 h-8 flex items-center justify-center rounded-full cursor-pointer ${n?"ml-2":""}`,onClick:()=>r(s=>!s),children:n?"➖":"➕"})]})}):null};function Nl({value:t,onChange:e,className:n="relative inline-block rounded-full w-8 h-8 ml-2 overflow-hidden border-2 border-gray-300 hover:border-gray-500 transition-colors duration-200"}){return E.jsx("div",{className:`${n}`,style:{backgroundColor:t},children:E.jsx("input",{type:"color",value:t,onChange:e,className:"absolute top-0 left-0 w-[100%] h-[100%] opacity-0 cursor-pointer"})})}const i5=()=>{const{primaryBackgroundColor:t,setPrimaryBackgroundColor:e,secondaryBackgroundColor:n,setSecondaryBackgroundColor:r,tertitaryBackgroundColor:s,setTertiaryBackgroundColor:a}=N.useContext(jn),[l,c]=N.useState(!0),d=()=>{c(!l)};return E.jsx("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 z-50",children:E.jsxs("div",{className:`relative w-full max-w-md bg-white shadow-lg rounded-t-lg p-4 flex flex-col sm:flex-row items-start sm:items-center justify-center space-y-2 sm:space-y-0 sm:space-x-3 transform transition-transform duration-300 ${l?"translate-y-0":"translate-y-full"}`,children:[E.jsxs("button",{onClick:d,className:"absolute -top-10 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-white text-black rounded-full flex items-center justify-center shadow-md hover:bg-gray-100 transition-colors duration-200 z-60","aria-label":l?"Hide color picker":"Show color picker",children:[E.jsx("i",{className:`fas fa-chevron-${l?"down":"up"} text-base`}),E.jsx("span",{className:"sr-only",children:l?"↓":"↑"})]}),E.jsxs("label",{className:"text-xs sm:text-sm flex items-center mt-4 sm:mt-0",children:["Primary:",E.jsx(Nl,{type:"color",value:t,onChange:p=>e(p.target.value)})]}),E.jsxs("label",{className:"text-xs sm:text-sm flex items-center",children:["Secondary:",E.jsx(Nl,{type:"color",value:n,onChange:p=>r(p.target.value)})]}),E.jsxs("label",{className:"text-xs sm:text-sm flex items-center",children:["Tertitary:",E.jsx(Nl,{type:"color",value:s,onChange:p=>a(p.target.value)})]})]})})},GR=({children:t})=>E.jsx(pC,{children:E.jsx(KR,{children:t})}),KR=({children:t})=>{const{loading:e,handleGlobalSave:n,...r}=N.useContext(jn),s=qr(),a=s.pathname==="/"?"home":s.pathname.slice(1);return e?E.jsx(du,{}):E.jsxs("div",{className:"w-full max-w-full",children:[E.jsx(NO,{page:a,...r}),t,E.jsx(DO,{...r}),s.pathname!=="/edit-content"&&E.jsx(Tv,{visible:!0,onClick:n}),E.jsx(i5,{})]})};GR.propTypes={children:H.node};KR.propTypes={children:H.node};const s5=()=>{var l,c,d;const{heroSections:t,setHeroSections:e,enqueueImageUpload:n}=N.useContext(jn),[r,s]=N.useState(((l=t.home)==null?void 0:l.image)||"");N.useEffect(()=>{var p;s(((p=t.home)==null?void 0:p.image)||"")},[(c=t.home)==null?void 0:c.image]);const a=p=>{if(!p)return;const g=URL.createObjectURL(p);console.log(g),s(g),e(_=>({..._,home:{..._.home,image:g}})),n("main_pages.hero_sections.home.image","main_pages/hero_sections/home/image.jsx",p)};return N.useEffect(()=>()=>{r.startsWith("blob:")&&URL.revokeObjectURL(r)},[r]),E.jsx("div",{className:"w-full",children:E.jsx(Ct,{handleImageUpload:p=>a(p.target.files[0]),section:"hero",className:"w-full h-96 md:h-128 lg:h-[80vh] bg-cover bg-center relative",style:{backgroundImage:`url("${((d=t==null?void 0:t.home)==null?void 0:d.image)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})})},QR=({data:t,setData:e,setHasPendingChanges:n})=>{const[r,s]=N.useState((t==null?void 0:t.primaryColor)||"#ffffff"),[a,l]=N.useState((t==null?void 0:t.secondaryColor)||"#000000"),c=[{title:"Số sự kiện",key:"num_events",value:String((t==null?void 0:t.num_events)??"")},{title:"Số người đã giúp đỡ",key:"num_people_helped",value:String((t==null?void 0:t.num_people_helped)??"")},{title:"Số tiền quyên góp",key:"total_money_donated",value:String((t==null?void 0:t.total_money_donated)??"")},{title:"Số dự án đã làm",key:"num_projects",value:String((t==null?void 0:t.num_projects)??"")}],d=(p,g)=>{const _=g===""?"":Number(String(g).replace(/\D/g,""))||0;e(w=>({...w,[p]:_})),n(!0)};return N.useEffect(()=>{e(p=>p.primaryColor===r&&p.secondaryColor===a?p:(n(!0),{...p,primaryColor:r,secondaryColor:a}))},[r,a]),E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-full h-250 md:h-64 flex flex-col md:flex-row gap-4 justify-center items-center z-auto relative -mt-[120px] px-2 sm:px-4",children:c.map((p,g)=>E.jsxs("div",{className:"w-64 h-full relative overflow-hidden rounded-xl",style:{backgroundColor:r,borderRadius:"1.5rem",boxShadow:"0px 8px 28px -9px rgba(0,0,0,0.45)"},children:[E.jsx("div",{className:"wave absolute w-[540px] h-[700px] opacity-60",style:{left:"0",top:"270px",marginLeft:"-50%",marginTop:"-70%",background:`linear-gradient(744deg, ${a}, #5b42f3 50%, #00ddeb)`,borderRadius:"40%",animation:"wave 10s infinite linear"}}),E.jsxs("div",{className:"relative z-10 md:top-0 top-10 w-full flex flex-col items-center justify-center",children:[E.jsx("h3",{className:"w-full font-medium text-xl py-3 md:py-9 text-center outline-none text-white",children:p.title}),E.jsx("input",{type:"number",className:"w-full font-bold text-6xl text-white text-center outline-none",value:p.value,onChange:_=>d(p.key,_.target.value),placeholder:"..."})]})]},p.key))}),E.jsxs("div",{className:"w-full h-20 flex justify-center items-center gap-4 px-2 sm:px-4",children:[E.jsx(Nl,{type:"color",value:r,onChange:p=>s(p.target.value)}),E.jsx(Nl,{type:"color",value:a,onChange:p=>l(p.target.value)})]}),E.jsx("style",{children:`
          @keyframes wave {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})};QR.propTypes={data:H.object.isRequired,setData:H.func.isRequired,setHasPendingChanges:H.func.isRequired};function gr({children:t,borderColor:e,className:n}){return E.jsx("div",{className:`${n} border-t-2 w-full py-5 mb-3`,style:{borderTopColor:e},children:t})}const XR=({data:t,setData:e,sectionTitle:n,setSectionTitle:r,enqueueImageUpload:s,buttonColor:a})=>{const l=Ws(),c=N.useRef({});N.useEffect(()=>{Object.keys(t||{}).forEach(w=>{c.current[w]||(c.current[w]=mr.createRef())}),Object.keys(c.current).forEach(w=>{t[w]||delete c.current[w]})},[t]);const d=(w,b,C)=>{e(S=>{const x={...S};return x[w]={...x[w],[b==="description"?"abstract":b]:C,thumbnail:{...x[w].thumbnail,title:b==="title"?C:x[w].title}},x})},p=(w,b)=>{if(!(b instanceof File))return;const C=URL.createObjectURL(b);e(S=>({...S,[w]:{...S[w],thumbnail:{...S[w].thumbnail,src:C}}})),s(`main_pages.event_overviews.${w}.thumbnail.src`,`main_pages/event_overviews/${w}/thumbnail_${Date.now()}.jpg`,b)},g=()=>{const w=`event_${new Date().getTime()}`;e(b=>({...b,[w]:{title:"",abstract:"",thumbnail:{src:"",alt:"",caption:""},started_time:new Date}}))},_=w=>{e(b=>{const C={...b};return delete C[w],C})};return E.jsxs(gr,{className:"w-full",borderColor:a,children:[E.jsx(we,{className:"w-full pt-20 font-bold text-[2.5rem] text-primary-title text-center outline-none",value:n,onChange:w=>r(w.target.value),placeholder:"Nhập tiêu đề mục sự kiện"}),E.jsx("div",{className:"w-full flex justify-center mb-8",children:E.jsx("button",{onClick:g,className:"py-2 px-6 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-base md:text-lg",children:"Thêm sự kiện"})}),E.jsx("div",{className:"w-full px-2 sm:px-4",children:Object.entries(t||{}).map(([w,b])=>{var C;return{key:w,title:b.title,description:b.abstract,imageUrl:(C=b==null?void 0:b.thumbnail)==null?void 0:C.src,started_time:b.started_time}}).sort((w,b)=>new Date(b.started_time)-new Date(w.started_time)).map(({key:w,title:b,description:C,imageUrl:S})=>E.jsxs("div",{className:"w-full mt-12 flex flex-col md:flex-row relative",children:[E.jsx("div",{className:"w-full md:w-1/2 h-80 md:h-84 px-2 md:px-4 mb-4 md:mb-0",children:E.jsx(Ct,{handleImageUpload:x=>p(w,x.target.files[0]),section:"event",top:"top-2",className:"w-full h-full bg-cover bg-center rounded-lg",style:{backgroundImage:`url("${S||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})}),E.jsxs("div",{className:"w-full md:w-1/2 h-auto px-2 md:px-4 flex flex-col",children:[E.jsx(we,{className:"w-full font-bold text-xl md:text-2xl text-primary-title outline-none",value:b,onChange:x=>d(w,"title",x.target.value),placeholder:"Nhập tiêu đề sự kiện"}),E.jsx(we,{type:"textarea",className:"w-full text-base md:text-base/5 py-4 md:py-6 text-primary-paragraph outline-none resize-none",value:C,onChange:x=>d(w,"description",x.target.value),placeholder:"Nhập mô tả sự kiện",rows:"5"}),E.jsx("button",{className:"py-2 px-5 rounded-full cursor-pointer font-semibold text-secondary-title mt-2 text-sm md:text-base w-fit",style:{backgroundColor:a},onClick:()=>l("/edit-content",{state:{id:w,title:b,thumbnail:S}}),children:"Tìm hiểu thêm"})]}),E.jsx("button",{className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:()=>_(w),children:E.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},w))})]})};XR.propTypes={data:H.object.isRequired,setData:H.func.isRequired,sectionTitle:H.string,setSectionTitle:H.func.isRequired,enqueueImageUpload:H.func.isRequired,buttonColor:H.string};var YR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SE=mr.createContext&&mr.createContext(YR),o5=["attr","size","title"];function a5(t,e){if(t==null)return{};var n=l5(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){u5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u5(t,e,n){return e=c5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c5(t){var e=h5(t,"string");return typeof e=="symbol"?e:e+""}function h5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JR(t){return t&&t.map((e,n)=>mr.createElement(e.tag,xh({key:n},e.attr),JR(e.child)))}function Kh(t){return e=>mr.createElement(d5,wh({attr:xh({},t.attr)},e),JR(t.child))}function d5(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=a5(t,o5),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),mr.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:xh(xh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&mr.createElement("title",null,a),t.children)};return SE!==void 0?mr.createElement(SE.Consumer,null,n=>e(n)):e(YR)}function ZR(t){return Kh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function Xl(t){return Kh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function Th(t){return Kh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(t)}const Ev=({data:t,setData:e,title:n,setTitle:r,enqueueImageUpload:s,buttonColor:a})=>{const l=Ws(),[c,d]=N.useState(0),p=3,g=()=>{const x=`story_${new Date().getTime()}`;e(I=>({...I,[x]:{title:"",abstract:"",thumbnail:{src:"https://blog.photobucket.com/hubfs/upload_pics_online.png",alt:"",caption:""},posted_time:new Date}}))},_=(x,I,D)=>{e(j=>({...j,[x]:{...j[x],[I==="description"?"abstract":I]:D,thumbnail:{...j[x].thumbnail,title:I==="title"?D:j[x].title}}}))},w=(x,I)=>{const D=URL.createObjectURL(I);e(j=>({...j,[x]:{...j[x],thumbnail:{...j[x].thumbnail,src:D}}})),s(`main_pages.story_overviews.${x}.thumbnail.src`,`main_pages/story_overviews/${x}/thumbnail.jpg`,I)},b=x=>{e(I=>{const D={...I};return delete D[x],D})},C=Object.entries(t||{}).sort((x,I)=>new Date(I[1].posted_time)-new Date(x[1].posted_time)),S=Math.ceil(C.length/p);return E.jsxs(gr,{borderColor:a,className:"w-full",children:[E.jsx(we,{className:"w-full pt-20 font-bold text-2xl sm:text-[2.5rem] text-primary-title text-center outline-none",value:n,onChange:x=>r(x.target.value),placeholder:"Nhập tiêu đề mục câu chuyện"}),E.jsx("div",{className:"w-full flex justify-center mb-8",children:E.jsx("button",{onClick:g,className:"py-2 px-6 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-sm md:text-base",children:"Thêm câu chuyện"})}),E.jsx("div",{className:"w-full pt-12 flex justify-center px-2 sm:px-4",children:E.jsxs("div",{className:"w-full max-w-[1152px] h-128 relative",children:[E.jsx("button",{onClick:()=>d(Math.max(c-1,0)),className:`w-11 h-11 absolute -left-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer z-10 ${S<=1?"hidden":""} md:block`,children:E.jsx(ZR,{className:"w-5 h-5 md:w-6 md:h-6 ml-2"})}),E.jsx("button",{onClick:()=>d(Math.min(c+1,S-1)),className:`w-11 h-11 absolute -right-6 top-54 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer z-10 ${S<=1?"hidden":""} md:block`,children:E.jsx(Xl,{className:"w-5 h-5 md:w-6 md:h-6 ml-3"})}),E.jsx("div",{className:"w-full h-full relative overflow-hidden",children:E.jsx("div",{className:"w-[100000px] h-full flex transition-all duration-750 flex-col md:flex-row",style:{marginLeft:`calc(${-288*c} * var(--spacing))`},children:C.map(([x,I])=>{var D;return E.jsxs("div",{className:"w-88 mr-8 h-full",children:[E.jsx("button",{className:"relative top-10 left-1 bg-red-500 text-white p-2 rounded-full z-9 hover:bg-red-600",onClick:()=>b(x),children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsx("div",{className:"relative",children:E.jsx(Ct,{handleImageUpload:j=>w(x,j.target.files[0]),section:"story",top:"top-2",left:"left-2",className:"w-full h-60 md:h-60 bg-no-repeat md:bg-cover md:bg-center rounded-lg",style:{backgroundImage:`url("${(D=I==null?void 0:I.thumbnail)==null?void 0:D.src}")`}})}),E.jsx(we,{className:"w-full font-bold text-xl md:text-2xl pt-5 text-primary-title outline-none",value:I.title,onChange:j=>_(x,"title",j.target.value),placeholder:"Nhập tiêu đề câu chuyện"}),E.jsx(we,{type:"textarea",className:"w-full text-sm md:text-base/5 py-5 text-primary-paragraph outline-none resize-none",value:I.abstract,onChange:j=>_(x,"description",j.target.value),placeholder:"Nhập mô tả câu chuyện",rows:"4"}),E.jsxs("button",{className:"font-semibold block mt-2 text-sm md:text-base",style:{color:a},onClick:()=>l("/edit-content",{state:{id:x,title:I.title,thumbnail:I.thumbnail.src}}),children:["Đọc thêm ",E.jsx(Xl,{className:"inline-block mb-0.5 ml-1 w-4 h-4 md:w-5 md:h-5"})]})]},x)})})}),E.jsx("div",{className:"w-full flex justify-center",children:Array.from({length:S},(x,I)=>E.jsx(Th,{className:`w-2.5 h-2.5 mx-0.5 ${c===I?"text-secondary":"text-primary-darken-2"}`},`dot_${I}`))})]})})]})};Ev.propTypes={data:H.object.isRequired,setData:H.func.isRequired,title:H.string.isRequired,setTitle:H.func.isRequired,enqueueImageUpload:H.func.isRequired,buttonColor:H.string};const f5=()=>{const{primaryBackgroundColor:t,secondaryBackgroundColor:e,mainData:n,setMainData:r,heroSections:s,setHeroSections:a,orgStats:l,setOrgStats:c,eventOverviews:d,setEventOverviews:p,storyOverviews:g,setStoryOverviews:_,sectionTitles:w,setSectionTitles:b,enqueueImageUpload:C,handleGlobalSave:S}=N.useContext(jn),[x,I]=N.useState(!1),D=$=>{b(Q=>({...Q,events:$})),I(!0)},j=$=>{b(Q=>({...Q,stories:$})),I(!0)},L=async()=>{try{await S(),I(!1),console.log("✅ HomePage data saved successfully!")}catch($){console.error("❌ Save error:",$)}};return E.jsxs("div",{className:"w-full pb-10",style:{backgroundColor:t},children:[E.jsx(s5,{data:s,setData:a,enqueueImageUpload:C}),E.jsx(QR,{data:l,setData:c,setHasPendingChanges:I,enqueueImageUpload:C}),E.jsx(XR,{data:d,setData:p,sectionTitle:w.events,setSectionTitle:D,buttonColor:e,enqueueImageUpload:C}),E.jsx("div",{className:"w-full",children:E.jsx(Ev,{data:g,setData:_,title:w.stories,setTitle:j,buttonColor:e,enqueueImageUpload:C})}),E.jsx(Tv,{visible:x,onSave:L})]})};function eI({children:t}){const[e,n]=N.useState(0),r=N.useRef(null),[s,a]=N.useState(5);N.useEffect(()=>{const p=()=>{const g=window.innerWidth;g<640?a(1):g<1024?a(3):a(5)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const l=Math.ceil(mr.Children.count(t)/s),c=()=>n(p=>Math.max(p-1,0)),d=()=>n(p=>Math.min(p+1,l-1));return E.jsx("div",{className:"w-full pt-12 flex justify-center px-2 sm:px-4",children:E.jsxs("div",{className:"w-full max-w-[1152px] relative",children:[E.jsx("button",{onClick:c,className:`w-11 h-11 absolute left-0 top-1/2 -translate-y-1/2 z-10 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer ${e===0?"opacity-50 cursor-not-allowed":""}`,disabled:e===0,"aria-label":"Previous members",children:E.jsx(ZR,{className:"w-5 h-5"})}),E.jsx("button",{onClick:d,className:`w-11 h-11 absolute right-0 top-1/2 -translate-y-1/2 z-10 rounded-full bg-primary-darken flex justify-center items-center cursor-pointer ${e>=l-1?"opacity-50 cursor-not-allowed":""}`,disabled:e>=l-1,"aria-label":"Next members",children:E.jsx(Xl,{className:"w-5 h-5"})}),E.jsx("div",{className:"w-full overflow-hidden",ref:r,children:E.jsx("div",{className:"flex transition-transform duration-500 gap-8",style:{transform:`translateX(-${e*(125/s)}%)`},children:mr.Children.map(t,(p,g)=>mr.cloneElement(p,{index:g}))})}),E.jsx("div",{className:"flex justify-center mt-4",children:Array.from({length:l},(p,g)=>E.jsx(Th,{className:`w-2.5 h-2.5 mx-0.5 cursor-pointer ${e===g?"text-secondary":"text-primary-darken-2"}`,onClick:()=>n(g),"aria-label":`Go to page ${g+1}`},`dot_${g}`))})]})})}eI.propTypes={children:H.node};function tI({index:t,imageUrl:e,name:n,role:r,setMembers:s,enqueueImageUpload:a,setHasChanges:l}){const[c,d]=N.useState(n||""),[p,g]=N.useState(r||""),_=N.useCallback((S,x)=>{let I;return(...D)=>{clearTimeout(I),I=setTimeout(()=>S(...D),x)}},[]),w=N.useCallback((S,x)=>{console.log(`ScrollMemberListItem[${t}]: Updating ${S} to ${x}`);const I=_((D,j)=>{s(L=>L.map(($,Q)=>Q===t?{...$,[D]:j}:$)),l(!0)},500);S==="name"?d(x):g(x),I(S,x)},[t,s,l]),b=N.useCallback(S=>{if(S instanceof File||S instanceof Blob){console.log(`ScrollMemberListItem[${t}]: Enqueuing image`);const x=URL.createObjectURL(S),I=`about/members/${S.name}`;a(`main_pages.members.${t}.image`,I,S),s(D=>D.map((j,L)=>L===t?{...j,image:x}:j)),l(!0)}else console.error(`ScrollMemberListItem[${t}]: Invalid file`,S)},[t,a,s,l]),C=N.useCallback(()=>{console.log(`ScrollMemberListItem[${t}]: Deleting member`),s(S=>S.filter((x,I)=>I!==t)),l(!0)},[t,s,l]);return E.jsxs("div",{className:"w-64 h-full relative flex-shrink-0",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Ct,{handleImageUpload:S=>b(S.target.files[0]),top:"top-2",left:"left-2",style:{backgroundImage:`url("${e||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},className:"w-full h-64 bg-cover bg-center rounded-sm"}),E.jsx("button",{className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:C,"aria-label":`Delete member ${n||"unknown"}`,children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx(we,{className:"w-full font-bold text-lg pt-2 text-primary-title text-center outline-none bg-transparent",value:c,onChange:S=>w("name",S.target.value),placeholder:"Nhập tên thành viên"}),E.jsx(we,{className:"w-full text-base/5 text-primary-paragraph text-center outline-none bg-transparent",value:p,onChange:S=>w("role",S.target.value),placeholder:"Nhập chức vụ"})]})}tI.propTypes={index:H.number.isRequired,imageUrl:H.string,name:H.string,role:H.string,setMembers:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired};function p5(t){return Kh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"},child:[]}]})(t)}function nI({children:t}){return E.jsx("div",{className:"w-full",children:t.map((e,n)=>E.jsx("div",{className:`w-full ${n%2===1?"flex flex-row-reverse":"flex"}`,children:e},`activity_${n}`))})}nI.propTypes={children:H.arrayOf(H.element).isRequired};function rI({index:t,startDate:e,endDate:n,imageUrl1:r,imageUrl2:s,description:a,setActivityHistory:l,enqueueImageUpload:c,setHasChanges:d,buttonColor:p}){const[g,_]=N.useState(()=>{if(!e)return"";try{const L=e!=null&&e.toDate?e.toDate():new Date(e);return L instanceof Date&&!isNaN(L.getTime())?L.toISOString().split("T")[0]:""}catch(L){return console.error(`Invalid startDate for activity ${t}:`,e,L),""}}),[w,b]=N.useState(()=>{if(!n)return"";try{const L=n!=null&&n.toDate?n.toDate():new Date(n);return L instanceof Date&&!isNaN(L.getTime())?L.toISOString().split("T")[0]:""}catch(L){return console.error(`Invalid endDate for activity ${t}:`,n,L),""}}),[C,S]=N.useState(a||""),x=N.useCallback((L,$)=>{let Q;return(...P)=>{clearTimeout(Q),Q=setTimeout(()=>L(...P),$)}},[]),I=N.useCallback((L,$)=>{if(console.log(`ActivityHistoryListItem[${t}]: Updating ${L} to ${$}`),(L==="started_time"||L==="ended_time")&&$){const P=new Date($);if(isNaN(P.getTime())){console.error(`Invalid date for ${L}: ${$}`);return}}const Q=x((P,A)=>{l(V=>V.map((O,M)=>M===t?{...O,[P]:A}:O)),d(!0)},500);L==="started_time"?_($):L==="ended_time"?b($):S($),Q(L,$)},[t,l,d]),D=N.useCallback((L,$)=>{if($ instanceof File||$ instanceof Blob){console.log(`ActivityHistoryListItem[${t}]: Enqueuing image for ${L}`);const Q=URL.createObjectURL($),P=`about/activity_history/${L}/${$.name}`;c(`main_pages.activity_history.${t}.${L}`,P,$),l(A=>A.map((V,O)=>O===t?{...V,[L]:Q}:V)),d(!0)}else console.error(`ActivityHistoryListItem[${t}]: Invalid file for ${L}:`,$)},[t,c,l,d]),j=N.useCallback(()=>{console.log(`ActivityHistoryListItem[${t}]: Deleting activity`),l(L=>L.filter(($,Q)=>Q!==t)),d(!0)},[t,l,d]);return E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"w-full h-84 mt-12 md:mt-8 flex",children:[E.jsx("div",{className:"w-1/2 h-full px-4",children:E.jsxs("div",{className:"w-136 h-full float-right relative",children:[E.jsx("div",{children:E.jsx(Ct,{handleImageUpload:L=>D("image1",L.target.files[0]),className:"absolute w-88 h-62 bg-cover bg-center rounded-lg top-0 left-0",style:{backgroundImage:`url("${r||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},section:"activity",top:"top-2",left:"left-2"})}),E.jsx("div",{children:E.jsx(Ct,{className:"absolute w-88 h-47 bg-cover bg-center rounded-lg bottom-0 right-0",style:{backgroundImage:`url("${s||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},handleImageUpload:L=>D("image2",L.target.files[0]),section:"activity",top:"top-2",right:"right-2"})})]})}),E.jsx("div",{className:"w-1/2 h-full",children:E.jsxs("div",{className:"w-136 h-full",children:[E.jsxs("div",{className:"w-83 flex justify-between text-[1.6rem] font-bold text-primary-title",children:[E.jsx(we,{className:"w-60 text-[1.6rem] font-bold text-primary-title outline-none bg-transparent",value:g,type:"date",onChange:L=>I("started_time",L.target.value),placeholder:"Start date"}),E.jsx(we,{className:"w-60 text-[1.6rem] font-bold text-primary-title outline-none bg-transparent",value:w,type:"date",onChange:L=>I("ended_time",L.target.value),placeholder:"End date"})]}),E.jsxs("div",{className:"flex items-center py-2",children:[E.jsx(Th,{className:"w-5 h-5 mr-0.5",style:{color:p}}),E.jsx("div",{className:"w-72 h-0.75 rounded-full",style:{backgroundColor:p}}),E.jsx(p5,{className:"w-3.5 h-3.5 -ml-1",style:{color:p}}),E.jsx(Th,{className:"w-5 h-5 mx-0.5",style:{color:p}}),E.jsx("div",{className:"w-20 h-0.75 rounded-full",style:{backgroundColor:p}})]}),E.jsx(we,{type:"textarea",className:"w-136 text-base/5 pt-2 text-primary-paragraph outline-none bg-transparent resize-none",value:C,onChange:L=>I("text",L.target.value),placeholder:"Nhập mô tả hoạt động",rows:"4"})]})})]}),E.jsx("button",{className:"absolute top-2 -right-4/3 p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:j,children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}rI.propTypes={index:H.number.isRequired,startDate:H.oneOfType([H.string,H.instanceOf(Date),H.shape({toDate:H.func})]),endDate:H.oneOfType([H.string,H.instanceOf(Date),H.shape({toDate:H.func})]),imageUrl1:H.string,imageUrl2:H.string,description:H.string,setActivityHistory:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired};const m5="https://blog.photobucket.com/hubfs/upload_pics_online.png",Qh=t=>{const[e,n]=N.useState(!1);return N.useEffect(()=>{let r=!0;return(async()=>{if(!t||!Array.isArray(t)||t.length===0){r&&n(!0);return}const a=t.map(l=>l&&typeof l=="string"&&l.trim()!==""?l:m5);try{const l=a.map((c,d)=>new Promise(p=>{const g=new Image;g.src=c,g.onload=()=>p(!0),g.onerror=()=>{console.warn(`Image failed to load: ${c} (index: ${d}). Using fallback.`),p(!0)}}));await Promise.all(l),r&&n(!0)}catch(l){console.error("Unexpected error in image preloader:",l),r&&n(!0)}})(),()=>{r=!1}},[t]),e};function bv({projects:t,setProjectOverviews:e,enqueueImageUpload:n,setHasChanges:r,buttonColor:s,sectionTitles:a,setSectionTitles:l}){const c=Ws();N.useEffect(()=>{console.log("ProjectLayout projects:",t)},[t]);const d=N.useCallback(()=>{const g=`project_${new Date().getTime()}`;e(_=>({..._,[g]:{title:"",abstract:"",thumbnail:{src:"https://via.placeholder.com/300",alt:"",caption:""},started_time:""}})),r(!0)},[e,r]),p=N.useCallback(g=>{l(_=>({..._,projects:g})),r(!0)},[l,r]);return E.jsxs(gr,{className:"py-10 w-full flex flex-col items-center",borderColor:s,children:[E.jsx(we,{className:"text-2xl md:text-[2.5rem] w-full font-bold mb-4 text-primary-title text-center outline-none",value:(a==null?void 0:a.projects)||"Dự án & hoạt động nổi bật đã thực hiện",onChange:g=>p(g.target.value),placeholder:"Nhập tiêu đề mục dự án"}),E.jsx("div",{className:"w-full flex justify-center mb-4",children:E.jsx("button",{onClick:d,className:"py-2 px-4 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-sm md:text-base",children:"Thêm dự án"})}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-[1152px] mb-8 px-2 sm:px-4",children:Object.entries(t).map(([g,_])=>[g,_]).sort((g,_)=>_[0].slice(8)-g[0].slice(8)).map(([g,_])=>{var w;return E.jsx(iI,{id:g,title:_.title,imageUrl:(w=_.thumbnail)==null?void 0:w.src,started_time:_.started_time,setProjectOverviews:e,enqueueImageUpload:n,setHasChanges:r,navigate:c},`project_${g}`)})})]})}bv.propTypes={projects:H.object.isRequired,setProjectOverviews:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired,sectionTitles:H.object.isRequired,setSectionTitles:H.func.isRequired};function iI({id:t,title:e,imageUrl:n,started_time:r,setProjectOverviews:s,enqueueImageUpload:a,setHasChanges:l,navigate:c}){const[d,p]=N.useState(e||""),[g,_]=N.useState(()=>{if(!r)return"";try{const x=r!=null&&r.toDate?r.toDate():new Date(r);return x instanceof Date&&!isNaN(x.getTime())?x.toISOString().split("T")[0]:""}catch(x){return console.error(`Invalid started_time for project ${t}:`,r,x),""}});N.useEffect(()=>{console.log("ProjectListItem props:",{id:t,imageUrl:n,title:e,started_time:r,localTitle:d,localStartedTime:g})},[t,n,e,r,d,g]);const w=N.useCallback((x,I)=>{let D;return(...j)=>{clearTimeout(D),D=setTimeout(()=>x(...j),I)}},[]),b=N.useCallback((x,I)=>{if(console.log(`TextInput changed: ${x} = ${I}`),x==="started_time"&&I){const j=new Date(I);if(isNaN(j.getTime())){console.error(`Invalid date for ${x}: ${I}`);return}}const D=w((j,L)=>{s($=>{var Q,P;return{...$,[t]:{...$[t]||{title:"",abstract:"",thumbnail:{src:"",alt:"",caption:""},started_time:""},[j==="description"?"abstract":j]:L,thumbnail:{...((Q=$[t])==null?void 0:Q.thumbnail)||{src:"",alt:"",caption:""},title:j==="title"?L:((P=$[t])==null?void 0:P.title)||""}}}}),l(!0)},500);x==="title"?p(I):x==="started_time"&&_(I),D(x,I)},[t,s,l]),C=N.useCallback(x=>{if(console.log("handleImageUpload called with file:",x),!x){console.error("No file selected");return}if(!(x instanceof File||x instanceof Blob)){console.error("Invalid file type");return}if(!x.type.startsWith("image/")){console.error("Selected file is not an image");return}const I=5*1024*1024;if(x.size>I){console.error("File size exceeds 5MB");return}const D=URL.createObjectURL(x);console.log("Blob URL created:",D);const j=`projects/${t}/${x.name}`;console.log("Enqueuing image upload:",{path:`main_pages.project_overviews.${t}.thumbnail.src`,storagePath:j}),a(`main_pages.project_overviews.${t}.thumbnail.src`,j,x),s(L=>{var $,Q,P;return console.log("Updating projectOverviews with new image:",D),{...L,[t]:{...L[t]||{title:"",abstract:"",thumbnail:{src:"",alt:"",caption:""},started_time:""},thumbnail:{...(($=L[t])==null?void 0:$.thumbnail)||{src:"",alt:"",caption:""},src:D,alt:((P=(Q=L[t])==null?void 0:Q.thumbnail)==null?void 0:P.alt)||x.name}}}}),l(!0)},[t,a,s,l]);N.useEffect(()=>()=>{n&&n.startsWith("blob:")&&(console.log("Revoking blob URL:",n),URL.revokeObjectURL(n))},[n]);const S=N.useCallback(()=>{s(x=>Object.keys(x).filter(D=>D!==t).reduce((D,j)=>({...D,[j]:x[j]}),{})),l(!0)},[t,s,l]);return E.jsx("div",{className:"relative h-80 rounded-lg overflow-hidden shadow-md",children:E.jsxs(Ct,{handleImageUpload:x=>{console.log("ImageInput onChange triggered"),C(x.target.files[0])},top:"top-2",left:"left-2",section:"project",className:"relative w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${n||"https://via.placeholder.com/300"})`},children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/50 z-10"}),E.jsx("button",{className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full cursor-pointer z-15",onClick:x=>{x.stopPropagation(),S()},children:E.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),E.jsxs("div",{className:"absolute bottom-0 z-20",children:[E.jsx(we,{className:"px-3 pb-3 ml-2 w-full text-sm md:text-base text-white font-semibold rounded outline-none z-20",value:d,onChange:x=>{b("title",x.target.value)},placeholder:"Nhập tiêu đề dự án"}),E.jsx(we,{type:"date",className:"px-3 pb-3 ml-2 text-sm md:text-base text-white font-semibold rounded outline-none z-20",value:g,onChange:x=>{b("started_time",x.target.value)},placeholder:"Chọn ngày bắt đầu"})]}),E.jsxs("button",{className:"absolute bottom-0 right-0 p-3 text-sm md:text-base text-white font-semibold z-20",onClick:x=>{x.stopPropagation(),c("/edit-content",{state:{id:t,title:d,thumbnail:n}})},children:["Chi tiết ",E.jsx(Xl,{className:"inline-block mb-0.5 ml-1 w-4 h-4 md:w-5 md:h-5"})]})]})})}iI.propTypes={id:H.string.isRequired,title:H.string,imageUrl:H.string,started_time:H.oneOfType([H.string,H.instanceOf(Date),H.shape({toDate:H.func})]),setProjectOverviews:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,navigate:H.func.isRequired};const sI=({coverImage:t,backgroundColor:e,title:n,description:r,setHeroSections:s,enqueueImageUpload:a,setHasChanges:l})=>{const[c,d]=N.useState(n||""),[p,g]=N.useState(r||""),_=N.useCallback((C,S)=>{let x;return(...I)=>{clearTimeout(x),x=setTimeout(()=>C(...I),S)}},[]),w=N.useCallback((C,S)=>{const x=_((I,D)=>{s(j=>({...j,about:{...j.about,[I]:D}})),l(!0)},500);C==="title"?d(S):g(S),x(C,S)},[s,l]),b=N.useCallback((C,S)=>{if(S instanceof File||S instanceof Blob){const x=URL.createObjectURL(S),I=`hero_sections/about/${S.name}`;a(`main_pages.hero_sections.about.${C}`,I,S),s(D=>({...D,about:{...D.about,[C]:x}})),l(!0)}},[a,s,l]);return E.jsx("div",{className:"relative w-full",children:E.jsx(Ct,{handleImageUpload:C=>b("coverImage",C.target.files[0]),className:"w-full h-96 md:h-128 lg:h-[80vh] bg-cover bg-bottom flex justify-center items-end bg-blend-multiply",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8)), url("${t||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},section:"hero",children:E.jsxs("div",{className:"w-full px-2 sm:px-4 pb-4",children:[E.jsx(we,{className:"ml-8 sm:mb-2 md:mb-4 p-2 w-full text-xl md:text-2xl lg:text-[2.5rem] font-semibold text-secondary-title outline-none bg-transparent",value:c,onChange:C=>w("title",C.target.value),placeholder:"Nhập tiêu đề",section:"hero"}),E.jsx(we,{type:"textarea",className:"ml-8 sm:mb-2 md:mb-4 p-2 w-full text-sm md:text-base text-secondary-title outline-none bg-transparent resize-none",value:p,onChange:C=>w("description",C.target.value),placeholder:"Nhập mô tả",rows:"3",section:"hero"})]})})})};sI.propTypes={coverImage:H.string,backgroundColor:H.string,title:H.string,description:H.string,setHeroSections:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired};const oI=({mission:t,setStatements:e,enqueueImageUpload:n,setHasChanges:r})=>{const[s,a]=N.useState((t==null?void 0:t.title)||""),[l,c]=N.useState((t==null?void 0:t.description)||""),d=N.useCallback((_,w)=>{let b;return(...C)=>{clearTimeout(b),b=setTimeout(()=>_(...C),w)}},[]),p=N.useCallback((_,w)=>{const b=d((C,S)=>{e(x=>({...x,mission:{...x.mission,[C]:S}})),r(!0)},500);_==="title"?a(w):c(w),b(_,w)},[e,r]),g=N.useCallback((_,w)=>{if(w instanceof File||w instanceof Blob){const b=URL.createObjectURL(w),C=`about/statements/mission/${w.name}`;n(`main_pages.statements.mission.${_}`,C,w),e(S=>({...S,mission:{...S.mission,[_]:b}})),r(!0)}},[n,e,r]);return E.jsxs("div",{className:"w-[80%] mx-auto pt-8 md:pt-12 flex flex-col md:flex-row",children:[E.jsx("div",{className:"w-full md:w-1/2 px-2 sm:px-4 relative mb-4 md:mb-0",children:E.jsx(Ct,{handleImageUpload:_=>g("imageUrl",_.target.files[0]),section:"mission",top:"top-2",className:"w-[90%] h-64 md:h-80 lg:h-120 bg-cover bg-center rounded-lg",style:{backgroundImage:`url("${(t==null?void 0:t.imageUrl)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`}})}),E.jsx("div",{className:"w-full md:w-1/2 px-2 sm:px-4 flex items-center",children:E.jsxs("div",{className:"w-full rounded-lg bg-tag-2 text-primary-title shadow-[1rem_-1rem_#E6EBFB] z-20 p-20",children:[E.jsx(we,{className:"w-full font-bold text-xl md:text-2xl lg:text-[2.5rem] text-center outline-none bg-transparent",value:s,onChange:_=>p("title",_.target.value),placeholder:"Nhập tiêu đề sứ mệnh"}),E.jsx(we,{type:"textarea",className:"w-full px-4 text-sm md:text-base font-medium py-2 text-primary-paragraph text-center outline-none bg-transparent resize-none",value:l,onChange:_=>p("description",_.target.value),placeholder:"Nhập mô tả sứ mệnh",rows:"3"})]})})]})};oI.propTypes={mission:H.shape({title:H.string,description:H.string,imageUrl:H.string}),setStatements:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired};const aI=({vision:t,setStatements:e,enqueueImageUpload:n,setHasChanges:r})=>{const[s,a]=N.useState((t==null?void 0:t.title)||""),[l,c]=N.useState((t==null?void 0:t.description)||""),d=N.useCallback((_,w)=>{let b;return(...C)=>{clearTimeout(b),b=setTimeout(()=>_(...C),w)}},[]),p=N.useCallback((_,w)=>{const b=d((C,S)=>{e(x=>({...x,vision:{...x.vision,[C]:S}})),r(!0)},500);_==="title"?a(w):c(w),b(_,w)},[e,r]),g=N.useCallback((_,w)=>{if(w instanceof File||w instanceof Blob){const b=URL.createObjectURL(w),C=`about/statements/vision/${w.name}`;n(`main_pages.statements.vision.${_}`,C,w),e(S=>({...S,vision:{...S.vision,[_]:b}})),r(!0)}},[n,e,r]);return E.jsxs("div",{className:"w-[80%] mx-auto pt-8 md:pt-12 flex flex-col-reverse md:flex-row-reverse",children:[E.jsx("div",{className:"w-full md:w-1/2 px-2 sm:px-4 relative mb-4 md:mb-0",children:E.jsx(Ct,{handleImageUpload:_=>g("imageUrl",_.target.files[0]),className:"w-[90%] h-64 md:h-80 lg:h-120 bg-cover bg-center rounded-lg",style:{backgroundImage:`url("${(t==null?void 0:t.imageUrl)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},section:"vision",top:"top-2"})}),E.jsx("div",{className:"w-full md:w-1/2 px-2 sm:px-4 flex items-center justify-end",children:E.jsxs("div",{className:"w-full rounded-lg bg-tag-2 text-primary-title shadow-[-1rem_-1rem_#E6EBFB] z-0 p-20",children:[E.jsx(we,{className:"w-full font-bold text-xl md:text-2xl lg:text-[2.5rem] text-center outline-none bg-transparent",value:s,onChange:_=>p("title",_.target.value),placeholder:"Nhập tiêu đề tầm nhìn"}),E.jsx(we,{type:"textarea",className:"w-full px-4 text-sm md:text-base font-medium py-2 text-primary-paragraph text-center outline-none bg-transparent resize-none",value:l,onChange:_=>p("description",_.target.value),placeholder:"Nhập mô tả tầm nhìn",rows:"3"})]})})]})};aI.propTypes={vision:H.shape({title:H.string,description:H.string,imageUrl:H.string}),setStatements:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired};function g5(){var O,M,q,F,Le,je;const{primaryBackgroundColor:t,secondaryBackgroundColor:e,tertitaryBackgroundColor:n,heroSections:r,setHeroSections:s,statements:a,setStatements:l,members:c,setMembers:d,activityHistory:p,setActivityHistory:g,enqueueImageUpload:_,storyOverviews:w,setStoryOverviews:b,sectionTitles:C,setSectionTitles:S,projectOverviews:x,setProjectOverviews:I,handleGlobalSave:D}=N.useContext(jn),j=[((O=r==null?void 0:r.about)==null?void 0:O.coverImage)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",((M=a==null?void 0:a.mission)==null?void 0:M.imageUrl)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",((q=a==null?void 0:a.vision)==null?void 0:q.imageUrl)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",...c.map(be=>be.image||"https://blog.photobucket.com/hubfs/upload_pics_online.png"),...p.flatMap(be=>[be.image1||"https://blog.photobucket.com/hubfs/upload_pics_online.png",be.image2||"https://blog.photobucket.com/hubfs/upload_pics_online.png"])],L=Qh(j),[$,Q]=N.useState(!1),P=be=>{S(ye=>({...ye,members:be})),Q(!0)},A=be=>{S(ye=>({...ye,activity_history:be})),Q(!0)},V=be=>{S(ye=>({...ye,stories:be})),Q(!0)};return L?E.jsxs("div",{className:"w-full mx-auto overflow-x-hidden pt-20",style:{backgroundColor:t},children:[E.jsx(sI,{coverImage:(F=r==null?void 0:r.about)==null?void 0:F.coverImage,backgroundColor:t,title:(Le=r==null?void 0:r.about)==null?void 0:Le.title,description:(je=r==null?void 0:r.about)==null?void 0:je.description,setHeroSections:s,enqueueImageUpload:_,setHasChanges:Q}),E.jsxs(gr,{className:"w-full",borderColor:e,children:[E.jsx(oI,{mission:(a==null?void 0:a.mission)||{title:"",description:"",imageUrl:""},setStatements:l,enqueueImageUpload:_,setHasChanges:Q}),E.jsx(aI,{vision:(a==null?void 0:a.vision)||{title:"",description:"",imageUrl:""},setStatements:l,enqueueImageUpload:_,setHasChanges:Q})]}),E.jsx("div",{className:"w-full",children:E.jsx(Ev,{data:w,setData:b,title:C.stories,setTitle:V,enqueueImageUpload:_,buttonColor:e})}),E.jsxs(gr,{borderColor:e,className:"w-full",children:[E.jsx(we,{className:"w-full pt-8 font-bold text-2xl sm:text-[2.5rem] text-primary-title text-center outline-none",value:C.members,onChange:be=>P(be.target.value),placeholder:"Nhập tiêu đề mục thành viên"}),E.jsx("div",{className:"w-full flex justify-center my-4",children:E.jsx("button",{onClick:()=>{d(be=>[...be,{name:"",role:"",image:"https://blog.photobucket.com/hubfs/upload_pics_online.png"}]),Q(!0)},className:"py-2 px-4 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-sm md:text-base",children:"Thêm thành viên"})}),E.jsx(eI,{children:c.map((be,ye)=>E.jsx("div",{className:"relative w-full max-w-[12rem] md:max-w-[16rem] mx-auto",children:E.jsx(tI,{index:ye,imageUrl:be.image,name:be.name,role:be.role,setMembers:d,enqueueImageUpload:_,setHasChanges:Q})},`member_${ye}`))})]}),E.jsxs(gr,{borderColor:e,children:[E.jsx(we,{className:"w-full pt-8 font-bold text-2xl sm:text-[2.5rem] text-primary-title text-center outline-none",value:C.activity_history,onChange:be=>A(be.target.value),placeholder:"Nhập tiêu đề mục lịch sử hoạt động"}),E.jsx("div",{className:"w-full flex justify-center my-4",children:E.jsx("button",{onClick:()=>{g(be=>[...be,{started_time:"",ended_time:"",text:"",image1:"https://blog.photobucket.com/hubfs/upload_pics_online.png",image2:"https://blog.photobucket.com/hubfs/upload_pics_online.png"}]),Q(!0)},className:"py-2 px-4 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-sm md:text-base",children:"Thêm hoạt động"})}),E.jsx(nI,{children:p.map((be,ye)=>E.jsx("div",{className:"relative w-full max-w-[1152px] mx-auto",children:E.jsx(rI,{index:ye,startDate:be.started_time||"",endDate:be.ended_time||"",imageUrl1:be.image1,imageUrl2:be.image2,description:be.text,setActivityHistory:g,enqueueImageUpload:_,setHasChanges:Q,buttonColor:e})},`activity_${ye}`))})]}),E.jsx(bv,{projects:x,setProjectOverviews:I,enqueueImageUpload:_,setHasChanges:Q,buttonColor:e,sectionTitles:C,setSectionTitles:S}),E.jsx("div",{className:"mt-8 md:mt-16 pb-20"})]}):E.jsx(du,{})}const y5=()=>{const t=qr(),{id:e,title:n,thumbnail:r}=t.state||{},[s,a]=N.useState({title:"",author:"",date:new Date().toLocaleDateString("vn-VN"),content:"",gallery:[],thumbnail:null}),[l,c]=N.useState(r||null);N.useEffect(()=>{(async()=>{if(e){const S=e.split("_")[0],x=S.charAt(0).toUpperCase()+S.slice(1),I=ra(ia,x,e);try{const D=await xg(I);if(D.exists()){const j=D.data();a({title:j.title||n||"",author:j.author||"",date:j.date||new Date().toLocaleDateString("vn-VN"),content:j.content||"",gallery:j.gallery?j.gallery.map((L,$)=>({preview:L,name:`Image_${$+1}`})):[],thumbnail:j.thumbnail||null}),c(j.thumbnail||r||null)}else a({title:n||"",author:"",date:new Date().toLocaleDateString("vn-VN"),content:"",gallery:[],thumbnail:null}),c(r||null)}catch(D){console.error("Error fetching document:",D),a({title:n||"",author:"",date:new Date().toLocaleDateString("vn-VN"),content:"",gallery:[],thumbnail:null}),c(r||null)}}})()},[e,n,r]);const d=C=>{const{name:S,value:x}=C.target;a(I=>({...I,[S]:x}))},p=C=>{const S=C.target.files[0];S&&(a(x=>({...x,thumbnail:S})),c(URL.createObjectURL(S)))},g=C=>{const x=Array.from(C.target.files).map(I=>({file:I,preview:URL.createObjectURL(I),name:I.name}));a(I=>({...I,gallery:[...I.gallery,...x]}))},_=C=>{a(S=>({...S,gallery:S.gallery.filter((x,I)=>I!==C)}))};N.useEffect(()=>()=>{s.gallery.forEach(C=>{C.preview&&C.file&&URL.revokeObjectURL(C.preview)}),s.thumbnail&&l&&URL.revokeObjectURL(l)},[s.gallery,s.thumbnail,l]);const w=async()=>{const C=e.split("_")[0],S=C.charAt(0).toUpperCase()+C.slice(1);let x=l;if(s.thumbnail)try{const j=`${C}s/${e}/thumbnail_${s.thumbnail.name}`,L=Cg(Rg,j);await bg(L,s.thumbnail),x=await Sg(L)}catch(j){console.error("Error uploading thumbnail:",j)}const I=[];for(const j of s.gallery)try{if(j.file){const L=`${C}s/${e}/${j.name}`,$=Cg(Rg,L);await bg($,j.file);const Q=await Sg($);I.push(Q)}else I.push(j.preview)}catch(L){console.error(`Error uploading image ${j.name}:`,L)}const D={title:s.title,author:s.author,date:s.date,content:s.content,gallery:I,thumbnail:x||""};try{await Tg(ra(ia,S,e),D,{merge:!0}),console.log({id:e,type:C,...s,gallery:I,thumbnail:x}),console.log(`Document successfully written to ${S}/${e}`)}catch(j){console.error("Error writing document: ",j)}};function b(C){C.style.height="5px",C.style.height=`${C.scrollHeight}px`}return E.jsxs("div",{className:"flex justify-center min-h-screen mt-20",children:[E.jsxs("div",{className:"w-full max-w-4xl p-8 bg-white rounded-lg shadow-xl",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Thumbnail:"}),l?E.jsxs("div",{className:"relative group mb-4",children:[E.jsx("img",{src:l,alt:"Thumbnail",className:"w-full h-auto max-h-120 object-cover mx-auto rounded-lg shadow-lg transition-transform duration-300 group-hover:scale-105 group-hover:shadow-2xl"}),E.jsx("label",{className:"absolute top-2 right-2 bg-gray-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-gray-600 cursor-pointer",htmlFor:"thumbnail",children:"✎"}),E.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:p,className:"hidden"})]}):E.jsxs("label",{className:"custum-file-upload",htmlFor:"thumbnail",children:[E.jsx("div",{className:"icon",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"rgba(75, 85, 99, 1)",d:"M10 1C9.73478 1 9.48043 1.10536 9.29289 1.29289L3.29289 7.29289C3.10536 7.48043 3 7.73478 3 8V20C3 21.6569 4.34315 23 6 23H7C7.55228 23 8 22.5523 8 22C8 21.4477 7.55228 21 7 21H6C5.44772 21 5 20.5523 5 20V9H10C10.5523 9 11 8.55228 11 8V3H18C18.5523 3 19 3.44772 19 4V9C19 9.55228 19.4477 10 20 10C20.5523 10 21 9.55228 21 9V4C21 2.34315 19.6569 1 18 1H10ZM9 7H6.41421L9 4.41421V7ZM14 15.5C14 14.1193 15.1193 13 16.5 13C17.8807 13 19 14.1193 19 15.5V16V17H20C21.1046 17 22 17.8954 22 19C22 20.1046 21.1046 21 20 21H13C11.8954 21 11 20.1046 11 19C11 17.8954 11 17H14V16V15.5ZM16.5 11C14.142 11 12.2076 12.8136 12.0156 15.122C10.2825 15.5606 9 17.1305 9 19C9 21.2091 10.7909 23 13 23H20C22.2091 23 24 21.2091 24 19C24 17.1305 22.7175 15.5606 20.9844 15.122C20.7924 12.8136 18.858 11 16.5 11Z",clipRule:"evenodd",fillRule:"evenodd"})})}),E.jsx("div",{className:"text",children:E.jsx("span",{children:"Click to upload thumbnail"})}),E.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:p,className:"hidden"})]})]}),E.jsxs("div",{className:"text-left",children:[E.jsx("input",{type:"text",name:"title",value:s.title,onChange:d,placeholder:"Enter title",className:"w-full text-3xl font-bold mb-6 p-3 bg-transparent border-none focus:ring-0 focus:outline-none transition-colors duration-200 hover:bg-gray-50"}),E.jsxs("div",{className:"flex flex-row items-center mb-4",children:[E.jsx("label",{className:"block font-medium text-gray-700 mr-2",children:"From:"}),E.jsx("input",{type:"text",name:"author",value:s.author,onChange:d,placeholder:"Enter author",className:"w-full p-3 rounded-lg outline-none border border-gray-200 focus:border-gray-500 transition-colors duration-200"})]}),E.jsxs("div",{className:"flex flex-row items-center mb-4",children:[E.jsx("label",{className:"block font-medium text-gray-700 mr-2",children:"Date:"}),E.jsx("input",{type:"date",name:"date",value:s.date,onChange:d,className:"w-full p-3 outline-none rounded-lg border border-gray-200 focus:border-gray-500 transition-colors duration-200"})]}),E.jsx("hr",{className:"w-full border-t-2 border-gray-500 my-3"}),E.jsx("textarea",{name:"content",value:s.content,onChange:d,placeholder:"Enter content",onInput:C=>b(C.target),className:"w-full p-3 rounded-lg outline-none mb-8 min-h-[120px] max-h-[500px] overflow-hidden resize-none border border-gray-200 focus:border-gray-500 transition-colors duration-200"}),E.jsxs("div",{className:"mb-8",children:[E.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gallery:"}),E.jsxs("label",{className:"custum-file-upload",htmlFor:"gallery",children:[E.jsx("div",{className:"icon",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:E.jsx("path",{fill:"rgba(75, 85, 99, 1)",d:"M10 1C9.73478 1 9.48043 1.10536 9.29289 1.29289L3.29289 7.29289C3.10536 7.48043 3 7.73478 3 8V20C3 21.6569 4.34315 23 6 23H7C7.55228 23 8 22.5523 8 22C8 21.4477 7.55228 21 7 21H6C5.44772 21 5 20.5523 5 20V9H10C10.5523 9 11 8.55228 11 8V3H18C18.5523 3 19 3.44772 19 4V9C19 9.55228 19.4477 10 20 10C20.5523 10 21 9.55228 21 9V4C21 2.34315 19.6569 1 18 1H10ZM9 7H6.41421L9 4.41421V7ZM14 15.5C14 14.1193 15.1193 13 16.5 13C17.8807 13 19 14.1193 19 15.5V16V17H20C21.1046 17 22 17.8954 22 19C22 20.1046 21.1046 21 20 21H13C11.8954 21 11 20.1046 11 19C11 17.8954 11.8954 17 13 17H14V16V15.5ZM16.5 11C14.142 11 12.2076 12.8136 12.0156 15.122C10.2825 15.5606 9 17.1305 9 19C9 21.2091 10.7909 23 13 23H20C22.2091 23 24 21.2091 24 19C24 17.1305 22.7175 15.5606 20.9844 15.122C20.7924 12.8136 18.858 11 16.5 11Z",clipRule:"evenodd",fillRule:"evenodd"})})}),E.jsx("div",{className:"text",children:E.jsx("span",{children:"Click to upload images"})}),E.jsx("input",{type:"file",id:"gallery",multiple:!0,accept:"image/*",onChange:g,className:"hidden"})]}),s.gallery.length>0&&E.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:s.gallery.map((C,S)=>E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:C.preview,alt:C.name,className:"w-full h-48 object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105 group-hover:shadow-xl"}),E.jsx("button",{onClick:()=>_(S),className:"absolute top-1 right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-red-600",children:"×"})]},S))})]})]})]}),E.jsx(Tv,{visible:!0,onClick:w})]})},lI=({image_url:t,fundraiser_name:e,amount_raised:n,goal_amount:r,qr_code_url:s,onSupportClick:a,setFundraising:l,enqueueImageUpload:c,setHasChanges:d,buttonColor:p,sectionTitles:g,setSectionTitles:_})=>{const[w,b]=N.useState(e||""),[C,S]=N.useState(g.fundraising_header||""),[x,I]=N.useState(!1),[D,j]=N.useState(r||0),L=N.useCallback((P,A)=>{if(console.log(`FundraisingHeader: Updating ${P} to ${A}`),P==="section_title")S(A),_(V=>({...V,fundraising_header:A})),d(!0);else if(P==="fundraiser_name")b(A),l(V=>({...V,[P]:A})),d(!0);else if(P==="goal_amount"){const V=A===""?"":Number(A)>=0?Number(A):0;j(V),A!==""&&l(O=>({...O,[P]:V})),d(!0)}else l(V=>({...V,[P]:A})),d(!0)},[l,_,d]),$=N.useCallback((P,A)=>{if(console.log(`FundraisingHeader: handleImageUpload called for ${P} with file:`,A),!A){console.error(`FundraisingHeader: No file selected for ${P}`);return}if(!(A instanceof File||A instanceof Blob)){console.error(`FundraisingHeader: Invalid file type for ${P}:`,A);return}if(!A.type.startsWith("image/")){console.error(`FundraisingHeader: Selected file is not an image for ${P}`);return}const V=5*1024*1024;if(A.size>V){console.error(`FundraisingHeader: File size exceeds 5MB for ${P}`);return}const O=URL.createObjectURL(A);console.log(`FundraisingHeader: Blob URL created for ${P}:`,O);const M=`fundraising/${P}/${A.name}`;c(`main_pages.fundraising.${P}`,M,A),l(q=>({...q,[P]:O})),d(!0)},[c,l,d]),Q=D>0?Math.min(n/D*100,100):0;return E.jsxs("div",{children:[E.jsx(we,{className:"text-2xl sm:text-[2.5rem] font-bold text-center mb-4",value:C,onChange:P=>L("section_title",P.target.value),placeholder:"Nhập tiêu đề phần quỹ"}),E.jsx(Ct,{handleImageUpload:P=>$("image_url",P.target.files[0]),section:"fundraising-header",top:"top-2",right:"right-2",className:"relative w-full h-[400px] bg-cover bg-center bg-blend-multiply",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.5)), url(${t||"https://via.placeholder.com/300"})`},children:E.jsxs("div",{className:"absolute bottom-4 left-4 right-4 event",children:[E.jsx(we,{className:"text-2xl font-bold text-white bg-black/50 border border-white/30 rounded px-2 py-1 outline-none w-full z-10",value:w,onChange:P=>{P.stopPropagation(),L("fundraiser_name",P.target.value)},onClick:P=>P.stopPropagation(),placeholder:"Nhập tên quỹ"}),E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:E.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Q}%`}})}),E.jsxs("div",{className:"flex items-center mt-1 flex-wrap gap-2",children:[E.jsx("span",{className:"text-white mx-2",style:{textShadow:"rgba(0, 0, 0, 0.6) 0px 3px 3px"},children:"Đã quyên góp:"}),E.jsx(we,{type:"number",className:"text-white bg-black/50 border border-white/30 rounded px-2 py-1 outline-none w-32 z-10",value:n,onChange:P=>{P.stopPropagation(),L("amount_raised",P.target.value)},onClick:P=>P.stopPropagation(),placeholder:"Nhập số đã quyên góp",min:"0"}),E.jsx("span",{className:"text-white mx-2",style:{textShadow:"rgba(0, 0, 0, 0.6) 0px 3px 3px"},children:"Mục tiêu:"}),E.jsxs("div",{className:"flex flex-row items-center",children:[E.jsx(we,{type:"number",className:"text-white bg-black/50 border border-white/30 rounded px-2 py-1 outline-none w-32 z-10",value:D,onChange:P=>{P.stopPropagation(),L("goal_amount",P.target.value)},onClick:P=>P.stopPropagation(),placeholder:"Nhập mục tiêu",min:"0"}),E.jsx("p",{className:"text-white ml-1",children:"VND"})]})]})]}),E.jsxs("div",{className:"mt-4 flex items-center",onClick:P=>P.stopPropagation(),children:[E.jsx(Ct,{handleImageUpload:P=>{P.stopPropagation(),$("qr_code_url",P.target.files[0])},section:"qr-code",top:"top-2",left:"left-2",className:"w-24 h-24 object-cover z-10 border-2 border-white rounded bg-black/40 bg-center bg-cover",style:{backgroundImage:`url("${s||"https://via.placeholder.com/300"}")`,backgroundRepeat:"no-repeat"}}),E.jsx("button",{className:"ml-4 text-white font-medium px-4 py-2 rounded-full hover:opacity-80 transition-opacity duration-200 z-10",style:{backgroundColor:p||"#4160DF"},onClick:P=>{P.stopPropagation(),I(!0)},children:"Ủng hộ ngay"})]})]})}),x&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",onClick:()=>I(!1),children:E.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-sm w-full",onClick:P=>P.stopPropagation(),children:[E.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Cảm ơn bạn đã ủng hộ"}),E.jsx("img",{src:s||"https://via.placeholder.com/300",alt:"QR Code",className:"w-full h-auto object-contain"}),E.jsx("button",{className:"mt-4 w-full text-white bg-blue-600 py-2 rounded hover:bg-blue-700",onClick:()=>I(!1),children:"Đóng"})]})})]})};lI.propTypes={image_url:H.string,fundraiser_name:H.string,amount_raised:H.number,goal_amount:H.number,qr_code_url:H.string,onSupportClick:H.func.isRequired,setFundraising:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string,sectionTitles:H.object.isRequired,setSectionTitles:H.func.isRequired};const uI=({donors:t,setFundraising:e,setHasChanges:n,buttonColor:r,sectionTitles:s,setSectionTitles:a})=>{const[l,c]=N.useState(t||[]),[d,p]=N.useState(s.donor_list||"");N.useEffect(()=>{c(t||[]),p(s.donor_list||"")},[t,s.donor_list]);const g=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),_=N.useCallback((S,x,I)=>{console.log(`DonorList: Updating donor[${S}].${x} to ${I}`);const D=x==="amount"?Number(I)||0:I;c(j=>{const L=[...j];return L[S]={...L[S],[x]:D},L}),e(j=>{const L=[...j.donors];return L[S]={...L[S],[x]:D},{...j,donors:L,amount_raised:L.reduce(($,Q)=>$+(Number(Q.amount)||0),0)}}),n(!0)},[e,n]),w=N.useCallback(()=>{const S=`donor_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log(`DonorList: Adding donor with id ${S}`),e(x=>({...x,donors:[...x.donors,{id:S,name:"",amount:0}]})),c(x=>[...x,{id:S,name:"",amount:0}]),n(!0)},[e,n]),b=N.useCallback(S=>{console.log(`DonorList: Deleting donor at index ${S}`),e(x=>{const I=x.donors.filter((D,j)=>j!==S);return{...x,donors:I,amount_raised:I.reduce((D,j)=>D+(Number(j.amount)||0),0)}}),c(x=>x.filter((I,D)=>D!==S)),n(!0)},[e,n]),C=N.useCallback(S=>{console.log(`DonorList: Updating section_title to ${S}`),p(S),a(x=>({...x,donor_list:S})),n(!0)},[a,n]);return E.jsxs(gr,{borderColor:r,className:"mt-8 max-w-lg mx-auto",children:[E.jsx(we,{className:"text-2xl sm:text-[2.5rem] font-bold text-center",value:d,onChange:S=>C(S.target.value),placeholder:"Nhập tiêu đề danh sách ủng hộ"}),E.jsx("div",{className:"flex justify-center mt-4",children:E.jsx("button",{className:"text-white font-medium px-5 py-2 rounded-full hover:opacity-80 transition-opacity duration-200",style:{backgroundColor:r||"#4160DF"},onClick:w,children:"Thêm người ủng hộ"})}),E.jsx("ul",{className:"mt-6 space-y-4",children:l.map((S,x)=>E.jsxs("li",{className:"border border-gray-200 rounded-xl p-4 flex justify-between items-start bg-white shadow-sm",children:[E.jsxs("div",{className:"flex-1 pr-4 space-y-2",children:[E.jsx(we,{className:"text-base font-semibold text-black w-full px-3 py-2 border rounded focus:outline-none",value:S.name||"",onChange:I=>_(x,"name",I.target.value),placeholder:"Nhập tên người ủng hộ"}),E.jsx(we,{type:"number",className:"text-base text-black w-full px-3 py-2 border rounded focus:outline-none",value:S.amount!==void 0?S.amount:"",onChange:I=>_(x,"amount",I.target.value),placeholder:"Nhập số tiền",min:"0"}),E.jsxs("div",{className:"px-1 pt-1 flex items-center gap-2 text-sm font-medium",children:[E.jsxs("div",{className:"text-gray-800",children:[S.name,":"]}),E.jsx("div",{className:"text-green-600",children:g.format(S.amount||0)})]})]}),E.jsx("button",{className:"mt-1 shrink-0 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",onClick:()=>b(x),"aria-label":"Xoá người ủng hộ",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},S.id||x))})]})};uI.propTypes={donors:H.arrayOf(H.shape({id:H.oneOfType([H.number,H.string]),name:H.string,amount:H.number})),setFundraising:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string,sectionTitles:H.object.isRequired,setSectionTitles:H.func.isRequired};const cI=({campaign_title:t,campaign_description:e,setFundraising:n,setHasChanges:r,buttonColor:s,sectionTitles:a,setSectionTitles:l})=>{const[c,d]=N.useState(t||""),[p,g]=N.useState(e||""),[_,w]=N.useState(a.campaign_details||""),b=N.useCallback((S,x)=>{let I;return(...D)=>{clearTimeout(I),I=setTimeout(()=>S(...D),x)}},[]),C=N.useCallback((S,x)=>{console.log(`CampaignDetails: Updating ${S} to ${x}`);const I=b((D,j)=>{D==="section_title"?l(L=>({...L,campaign_details:j})):n(L=>({...L,[D]:j})),r(!0)},500);S==="campaign_title"?d(x):S==="campaign_description"?g(x):S==="section_title"&&w(x),I(S,x)},[n,l,r]);return E.jsxs(gr,{borderColor:s,className:"mt-6 px-6 max-w-2xl mx-auto",children:[E.jsx(we,{className:"text-2xl sm:text-[2.5rem] font-bold text-gray-900 bg-white/80 border border-gray-300 rounded px-2 py-1 outline-none w-full",value:_,onChange:S=>C("section_title",S.target.value),placeholder:"Nhập tiêu đề phần chiến dịch"}),E.jsx(we,{className:"text-2xl sm:text-[2.5rem] font-bold text-gray-900 bg-white/80 border border-gray-300 rounded px-2 py-1 outline-none w-full mt-4",value:c,onChange:S=>C("campaign_title",S.target.value),placeholder:"Nhập tiêu đề của quỹ"}),E.jsx(we,{type:"textarea",className:"text-gray-700 mt-2 bg-white/80 border border-gray-300 rounded px-2 py-1 outline-none resize-none w-full",value:p,onChange:S=>C("campaign_description",S.target.value),placeholder:"Nhập mô tả của quỹ",rows:"4"})]})};cI.propTypes={campaign_title:H.string,campaign_description:H.string,setFundraising:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string,sectionTitles:H.object.isRequired,setSectionTitles:H.func.isRequired};const v5=()=>{const{primaryBackgroundColor:t,secondaryBackgroundColor:e,fundraising:n,setFundraising:r,sectionTitles:s,setSectionTitles:a,enqueueImageUpload:l}=N.useContext(jn),c=[(n==null?void 0:n.image_url)||"https://via.placeholder.com/300",(n==null?void 0:n.qr_code_url)||"https://via.placeholder.com/300"],d=Qh(c),[p,g]=N.useState(!1),_=()=>{alert("Cảm ơn bạn đã ủng hộ! 🎉")};return d?E.jsxs("div",{style:{backgroundColor:t},className:"min-h-screen relative overflow-hidden p-6",children:[E.jsx(lI,{image_url:(n==null?void 0:n.image_url)||"https://via.placeholder.com/300",fundraiser_name:(n==null?void 0:n.fundraiser_name)||"",amount_raised:(n==null?void 0:n.amount_raised)||0,goal_amount:(n==null?void 0:n.goal_amount)||0,qr_code_url:(n==null?void 0:n.qr_code_url)||"https://via.placeholder.com/300",onSupportClick:_,setFundraising:r,enqueueImageUpload:l,setHasChanges:g,buttonColor:e,sectionTitles:s,setSectionTitles:a}),E.jsx(cI,{campaign_title:(n==null?void 0:n.campaign_title)||"",campaign_description:(n==null?void 0:n.campaign_description)||"",setFundraising:r,setHasChanges:g,buttonColor:e,sectionTitles:s,setSectionTitles:a}),E.jsx(uI,{donors:(n==null?void 0:n.donors)||[],setFundraising:r,setHasChanges:g,buttonColor:e,sectionTitles:s,setSectionTitles:a})]}):E.jsx(du,{})},hI=({title:t,description:e,backgroundImage:n,setHeroSections:r,enqueueImageUpload:s,setHasChanges:a})=>{const[l,c]=N.useState(t||""),[d,p]=N.useState(e||""),g=N.useCallback((b,C)=>{let S;return(...x)=>{clearTimeout(S),S=setTimeout(()=>b(...x),C)}},[]),_=N.useCallback((b,C)=>{console.log(`HeroSection: Updating ${b} to ${C}`);const S=g((x,I)=>{r(D=>({...D,events:{...D.events,[x]:I}})),a(!0)},500);b==="title"?c(C):p(C),S(b,C)},[r,a]),w=N.useCallback(b=>{if(b instanceof File||b instanceof Blob){console.log("HeroSection: Enqueuing image for image");const C=URL.createObjectURL(b),S=`hero/events/${b.name}`;s("main_pages.hero_sections.events.image",S,b),r(x=>({...x,events:{...x.events,image:C}})),a(!0)}else console.error("HeroSection: Invalid file for image:",b)},[s,r,a]);return E.jsx("div",{children:E.jsx(Ct,{handleImageUpload:b=>w(b.target.files[0]),className:"w-full h-[80vh] sm:h-[90vh] md:h-[calc(100vh-5rem)] bg-cover bg-bottom flex justify-center items-end bg-blend-multiply hero_section cursor-pointer",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url("${n||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`},children:E.jsxs("div",{className:"w-full sm:w-3/4 md:w-1/2 absolute left-4 sm:left-10 ",children:[E.jsx(we,{className:"ml-8 sm:mb-2 md:mb-4 p-2 w-full text-2xl sm:text-3xl md:text-[2.5rem] font-semibold text-white outline-none bg-transparent",style:{textShadow:"rgba(0, 0, 0, 0.6) 0px 1px 3px"},value:l,onChange:b=>_("title",b.target.value),placeholder:"Nhập tiêu đề"}),E.jsx(we,{type:"textarea",className:"ml-8 sm:mb-2 md:mb-4 p-2 w-full text-sm sm:text-base text-white outline-none bg-transparent resize-none",style:{textShadow:"rgba(0, 0, 0, 0.6) 0px 1px 3px"},value:d,onChange:b=>_("description",b.target.value),placeholder:"Nhập mô tả",rows:"3 sm:4"})]})})})};hI.propTypes={title:H.string,description:H.string,backgroundImage:H.string,setHeroSections:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired};function dI({pageData:t,setHeroSections:e,enqueueImageUpload:n,setHasChanges:r,buttonColor:s}){const[a,l]=N.useState(t.heading||""),[c,d]=N.useState(t.title1||""),[p,g]=N.useState(t.title2||""),_=Ws(),w=N.useCallback((S,x)=>{let I;return(...D)=>{clearTimeout(I),I=setTimeout(()=>S(...D),x)}},[]),b=N.useCallback((S,x)=>{console.log(`DonateOverview: Updating ${S} to ${x}`);const I=w((D,j)=>{e(L=>({...L,donate:{...L.donate,[D]:j}})),r(!0)},500);S==="heading"?l(x):S==="title1"?d(x):g(x),I(S,x)},[e,r]),C=N.useCallback((S,x)=>{if(x instanceof File||x instanceof Blob){console.log(`DonateOverview: Enqueuing image for images[${S}]`);const I=URL.createObjectURL(x),D=`hero/donate/${x.name}`;n(`main_pages.hero_sections.donate.images.${S}`,D,x),e(j=>{var $;const L=[...(($=j.donate)==null?void 0:$.images)||["",""]];return L[S]=I,{...j,donate:{...j.donate,images:L}}}),r(!0)}else console.error(`DonateOverview: Invalid file for images[${S}]:`,x)},[n,e,r]);return E.jsxs(gr,{className:"w-full",borderColor:s,children:[E.jsx(we,{className:"w-full text-2xl sm:text-[2.5rem] font-bold text-black outline-none bg-transparent text-center mb-4 sm:mb-6",value:a,onChange:S=>b("heading",S.target.value),placeholder:"Nhập tiêu đề phần"}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-start gap-6 sm:gap-10 text-center max-w-[1600px] mx-auto",children:[E.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[E.jsxs("div",{className:"w-full h-[30vh] sm:h-[40vh] bg-gray-600 relative flex flex-col justify-end",children:[E.jsx(we,{className:"text-sm sm:text-base text-center font-semibold text-white outline-none bg-transparent mb-2",value:c,onChange:S=>b("title1",S.target.value),placeholder:"Nhập tiêu đề"}),E.jsx(Ct,{handleImageUpload:S=>C(0,S.target.files[0]),className:"bg-cover bg-center rounded-lg flex justify-center items-center",style:{backgroundImage:`url("${t.images[0]||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`,height:"100%",width:"100%"},section:"donate_0"})]}),E.jsx("button",{className:"mt-2 text-white font-medium px-2 sm:px-3 py-1.5 sm:py-2 rounded-full hover:opacity-50 transition-opacity duration-200 text-sm sm:text-base",style:{backgroundColor:s},onClick:()=>_("/donate"),children:"Mua ngay"})]}),E.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[E.jsxs("div",{className:"w-full h-[30vh] sm:h-[40vh] bg-gray-600 relative flex flex-col justify-end",children:[E.jsx(we,{className:"text-sm sm:text-base font-semibold text-center text-white outline-none bg-transparent mb-2",value:p,onChange:S=>b("title2",S.target.value),placeholder:"Nhập tiêu đề"}),E.jsx(Ct,{handleImageUpload:S=>C(1,S.target.files[0]),className:"bg-cover bg-center rounded-lg flex justify-center items-center",style:{backgroundImage:`url("${t.images[1]||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}")`,height:"100%",width:"100%"},section:"donate_1"})]}),E.jsx("button",{className:"mt-2 text-white font-medium px-2 sm:px-3 py-1.5 sm:py-2 rounded-full hover:opacity-50 transition-opacity duration-200 text-sm sm:text-base",style:{backgroundColor:s},onClick:()=>_("/donate"),children:"Ủng hộ"})]})]})]})}dI.propTypes={pageData:H.shape({heading:H.string,title1:H.string,title2:H.string,images:H.arrayOf(H.string)}).isRequired,setHeroSections:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired};function fI({pageData:t,setEventOverviews:e,enqueueImageUpload:n,setHasChanges:r,buttonColor:s,secondaryBackgroundColor:a}){const[l,c]=N.useState(0),[d,p]=N.useState(t.heading||""),[g,_]=N.useState(t.events.map(L=>L.title||"")),w=N.useCallback((L,$)=>{let Q;return(...P)=>{clearTimeout(Q),Q=setTimeout(()=>L(...P),$)}},[]),b=N.useCallback((L,$,Q)=>{console.log(`EventsOverview[${L}]: Updating ${$} to ${Q}`);const P=w((A,V,O)=>{var M;if(V==="heading")console.log("EventsOverview: Heading is UI-only, not saved to Firestore");else{const q=(M=t.events[A])==null?void 0:M.id;q&&(e(F=>{var Le,je;return{...F,[q]:{...F[q]||{title:"",abstract:"",thumbnail:{src:"",alt:"",caption:""}},[V==="description"?"abstract":V]:O,thumbnail:{...((Le=F[q])==null?void 0:Le.thumbnail)||{src:"",alt:"",caption:""},title:V==="title"?O:((je=F[q])==null?void 0:je.title)||""}}}}),r(!0))}},500);$==="heading"?p(Q):_(A=>{const V=[...A];return V[L]=Q,V}),P(L,$,Q)},[t.events,e,r]),C=N.useCallback((L,$)=>{if(console.log(`EventsOverview[${L}]: handleImageUpload called with file:`,$),!$){console.error(`EventsOverview[${L}]: No file selected`);return}if(!($ instanceof File||$ instanceof Blob)){console.error(`EventsOverview[${L}]: Invalid file type`);return}if(!$.type.startsWith("image/")){console.error(`EventsOverview[${L}]: Selected file is not an image`);return}const Q=5*1024*1024;if($.size>Q){console.error(`EventsOverview[${L}]: File size exceeds 5MB`);return}const P=URL.createObjectURL($);console.log(`EventsOverview[${L}]: Blob URL created:`,P);const A=`events/${L}/${$.name}`;n(`main_pages.event_overviews.${L}.thumbnail.src`,A,$),e(V=>{var O;return console.log(`EventsOverview[${L}]: Updating eventOverviews with new image:`,P),{...V,[L]:{...V[L]||{title:"",abstract:"",thumbnail:{src:"",alt:"",caption:""}},thumbnail:{...((O=V[L])==null?void 0:O.thumbnail)||{src:"",alt:"",caption:""},src:P,alt:$.name}}}}),r(!0)},[n,e,r]),S=N.useCallback(()=>{console.log("EventsOverview: Adding new event");const L=`event_${Date.now()}`;e($=>({...$,[L]:{title:"",abstract:"",thumbnail:{src:"https://via.placeholder.com/300",alt:"",caption:""}}})),_($=>[...$,""]),r(!0)},[e,r]),x=N.useCallback((L,$)=>{console.log(`EventsOverview[${L}]: Deleting event`),e(Q=>{const P={...Q};return delete P[L],P}),_(Q=>Q.filter((P,A)=>A!==$)),c(Q=>Math.max(0,Math.min(Q,t.events.length-2))),r(!0)},[e,r]),I=N.useCallback(()=>{t.events.length>4&&(c(L=>(L+1)%t.events.length),console.log("EventsOverview: Next image, currentIndex:",(l+1)%t.events.length))},[t.events.length,l]),D=N.useCallback(()=>{t.events.length>4&&(c(L=>(L-1+t.events.length)%t.events.length),console.log("EventsOverview: Prev image, currentIndex:",(l-1+t.events.length)%t.events.length))},[t.events.length,l]),j=t.events.length>0?t.events.slice(l,l+4).concat(t.events.slice(0,Math.max(0,l+4-t.events.length))):[];return E.jsxs(gr,{className:"w-full",borderColor:s,children:[E.jsx(we,{className:"w-full text-2xl sm:text-[2.5rem] font-bold text-black outline-none bg-transparent text-center mb-4",value:d,onChange:L=>b(0,"heading",L.target.value),placeholder:"Nhập tiêu đề phần"}),E.jsx("div",{className:"w-full flex justify-center mb-6 sm:mb-8",children:E.jsx("button",{onClick:S,className:"py-1.5 sm:py-2 px-4 sm:px-6 rounded-full cursor-pointer font-semibold bg-secondary text-secondary-title text-sm sm:text-base",children:"Thêm sự kiện"})}),t.events.length===0?E.jsx("div",{className:"w-full text-center text-primary-paragraph",children:"Không có sự kiện nào để hiển thị"}):E.jsxs("div",{className:"flex items-center justify-between w-full sm:w-2/3 mx-auto mb-8 sm:mb-10",children:[E.jsx("button",{className:`px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-200 text-black rounded-lg hover:bg-gray-300 transition-colors duration-200 text-sm sm:text-base ${t.events.length<=4?"opacity-50 cursor-not-allowed":""}`,onClick:D,disabled:t.events.length<=4,children:"Previous"}),E.jsx("div",{className:"grid grid-cols-1 xxs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-5 h-48 sm:h-64 overflow-hidden w-full",children:j.map((L,$)=>E.jsx("div",{className:"relative h-48 sm:h-64 rounded-lg overflow-hidden shadow-md",children:E.jsxs(Ct,{handleImageUpload:Q=>{console.log(`EventsOverview[${L.id}]: ImageInput onChange triggered`),C(L.id,Q.target.files[0])},top:"top-2",left:"left-2",section:`event_${L.id}`,className:"relative bg-cover bg-center h-full rounded-lg flex p-2 text-white items-end z-0 cursor-pointer",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.5)), url("${L.imageUrl||"https://via.placeholder.com/300"}")`},children:[E.jsxs("div",{className:"w-full flex flex-row items-center justify-end z-10",children:[E.jsx(we,{className:"w-full pl-2 pb-2 text-sm sm:text-base font-medium text-white rounded outline-none bg-transparent z-10",value:g[$+l]||"",onChange:Q=>{Q.stopPropagation(),b($+l,"title",Q.target.value)},placeholder:"Nhập tiêu đề sự kiện"}),E.jsx(Yg,{to:"/edit-content",state:{id:L.id,title:g[$+l]||L.title||"",thumbnail:L.imageUrl||"https://via.placeholder.com/300"},onClick:Q=>Q.stopPropagation(),className:"absolute bottom-2 right-2 z-10",children:E.jsxs("button",{className:"group flex items-center justify-center whitespace-nowrap overflow-hidden transition-all duration-500 ease-in-out text-white text-sm font-semibold rounded-full w-9 h-9 hover:w-auto hover:px-4 hover:brightness-90",style:{backgroundColor:a,minWidth:"2rem",minHeight:"2rem"},children:[E.jsx("span",{className:"block group-hover:hidden mx-auto text-base leading-none",children:E.jsx(Xl,{className:"inline-block w-4 h-4 md:w-5 md:h-5"})}),E.jsx("span",{className:"hidden group-hover:inline",children:"Edit Chi Tiết"})]})})]}),E.jsx("button",{className:"absolute top-2 right-2 p-1.5 sm:p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:Q=>{Q.stopPropagation(),x(L.id,$+l)},children:E.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},`event_${L.id}`))}),E.jsx("button",{className:`px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-200 text-black rounded-lg hover:bg-gray-300 transition-colors duration-200 text-sm sm:text-base ${t.events.length<=4?"opacity-50 cursor-not-allowed":""}`,onClick:I,disabled:t.events.length<=4,children:"Next"})]})]})}fI.propTypes={pageData:H.shape({heading:H.string,events:H.arrayOf(H.shape({id:H.string,title:H.string,imageUrl:H.string}))}).isRequired,setEventOverviews:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired};function _5(){var D,j,L,$,Q,P,A,V;const{primaryBackgroundColor:t,secondaryBackgroundColor:e,tertiaryBackgroundColor:n,heroSections:r,setHeroSections:s,projectOverviews:a,setProjectOverviews:l,eventOverviews:c,setEventOverviews:d,sectionTitles:p,setSectionTitles:g,enqueueImageUpload:_}=N.useContext(jn),w=[((D=r==null?void 0:r.events)==null?void 0:D.image)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",...(((j=r==null?void 0:r.donate)==null?void 0:j.images)||["",""]).map(O=>O||"https://blog.photobucket.com/hubfs/upload_pics_online.png"),...Object.values(a||{}).map(O=>{var M;return((M=O.thumbnail)==null?void 0:M.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}),...Object.values(c||{}).map(O=>{var M;return((M=O.thumbnail)==null?void 0:M.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})],b=Qh(w),[C,S]=N.useState(!1);if(!b)return E.jsx(du,{});Object.keys(a).length>0&&(a[Object.keys(a)[0]].title,a[Object.keys(a)[0]].abstract,Object.values(a).map(O=>{var M;return((M=O.thumbnail)==null?void 0:M.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}),(()=>{const O=a[Object.keys(a)[0]].started_time;try{const M=O!=null&&O.toDate?O.toDate():new Date(O);return M instanceof Date&&!isNaN(M.getTime())?M.toISOString():""}catch(M){return console.error("Invalid started_time in projectOverview:",O,M),""}})());const x={heading:"Hãy đồng hành cùng chúng mình",title1:((L=r==null?void 0:r.donate)==null?void 0:L.title1)||"Đặt mua bánh chưng",title2:(($=r==null?void 0:r.donate)==null?void 0:$.title2)||"Ủng hộ hiện kim",images:((Q=r==null?void 0:r.donate)==null?void 0:Q.images)||["https://blog.photobucket.com/hubfs/upload_pics_online.png","https://blog.photobucket.com/hubfs/upload_pics_online.png"]},I={heading:"Tổng kết các sự kiện đã qua",events:Object.entries(c).map(([O,M])=>{var q;return{id:O,title:M.title||"",imageUrl:((q=M.thumbnail)==null?void 0:q.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"}})};return E.jsxs("div",{style:{backgroundColor:t},className:"w-full pt-20 pb-20",children:[E.jsx(hI,{title:(P=r==null?void 0:r.events)==null?void 0:P.title,description:(A=r==null?void 0:r.events)==null?void 0:A.description,backgroundImage:(V=r==null?void 0:r.events)==null?void 0:V.image,setHeroSections:s,enqueueImageUpload:_,setHasChanges:S}),E.jsxs("div",{className:"projects",children:[E.jsx(dI,{pageData:x,setHeroSections:s,enqueueImageUpload:_,setHasChanges:S,buttonColor:e}),E.jsx(bv,{projects:a,setProjectOverviews:l,enqueueImageUpload:_,setHasChanges:S,buttonColor:e,sectionTitles:p,setSectionTitles:g}),E.jsx(fI,{pageData:I,setEventOverviews:d,enqueueImageUpload:_,setHasChanges:S,buttonColor:e,tertiaryBackgroundColor:n})]})]})}const pI=({title:t,description:e,heroImage:n,setHeroSections:r,enqueueImageUpload:s,setHasChanges:a,buttonColor:l})=>{const[c,d]=N.useState(t||""),[p,g]=N.useState(e||""),_=Ws(),w=N.useCallback((x,I)=>{let D;return(...j)=>{clearTimeout(D),D=setTimeout(()=>x(...j),I)}},[]),b=N.useCallback((x,I)=>{console.log(`HeroSection[stories]: Updating ${x} to ${I}`);const D=w((j,L)=>{r($=>({...$,stories:{...$.stories,[j]:L}})),a(!0)},500);x==="title"?d(I):g(I),D(x,I)},[r,a]),C=N.useCallback(x=>{if(x instanceof File||x instanceof Blob){console.log("HeroSection[stories]: Enqueuing image for image");const I=URL.createObjectURL(x),D=`hero/stories/${x.name}`;s("main_pages.hero_sections.stories.image",D,x),r(j=>({...j,stories:{...j.stories,image:I}})),a(!0)}else console.error("HeroSection[stories]: Invalid file for image:",x)},[s,r,a]),S=x=>{x.stopPropagation(),_("/edit-content",{state:{id:"story_hero",title:c,thumbnail:n}})};return E.jsx("div",{children:E.jsx(Ct,{handleImageUpload:x=>C(x.target.files[0]),section:"hero",top:"top-2 sm:top-23",right:"right-2",className:"w-full bg-cover bg-bottom flex justify-center items-end bg-blend-multiply hero_section",style:{backgroundImage:`linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.6)), url(${n||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})`,height:"80vh sm:90vh md:calc(100vh - 5rem)"},children:E.jsxs("div",{className:"w-full sm:w-3/4 md:w-1/2 py-2 sm:py-4 absolute left-4 sm:left-10",children:[E.jsx(we,{className:"w-full text-2xl sm:text-3xl md:text-[2.5rem] font-semibold text-white outline-none bg-transparent",value:c,onChange:x=>b("title",x.target.value),placeholder:"Nhập tiêu đề câu chuyện"}),E.jsx(we,{type:"textarea",className:"w-full text-sm sm:text-base text-white outline-none bg-transparent resize-none",value:p,onChange:x=>b("description",x.target.value),placeholder:"Nhập mô tả câu chuyện",rows:"3 sm:4"}),E.jsx("button",{onClick:S,className:"text-white font-medium px-2 sm:px-3 py-1.5 sm:py-2 rounded-full hover:opacity-50 transition-opacity duration-200 text-sm sm:text-base mt-2 sm:mt-4",style:{backgroundColor:l},children:"Đọc thêm"})]})})})};pI.propTypes={title:H.string,description:H.string,heroImage:H.string,setHeroSections:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired};const mI=({pageData:t,setStoryOverviews:e,enqueueImageUpload:n,setHasChanges:r,buttonColor:s,sectionTitles:a,setSectionTitles:l})=>{const c=Ws(),[d,p]=N.useState(t.heading||""),[g,_]=N.useState(t.stories||[]);N.useEffect(()=>{p(a.stories||""),_(t.stories)},[a.stories,t.stories]);const w=N.useCallback((x,I,D,j)=>{if(console.log(`StoriesSection[${D}]: Updating ${x} to ${I}`),x==="heading")p(I),l(L=>({...L,stories:I})),r(!0);else{const $=(x==="posted_time"&&I&&(Q=>!isNaN(new Date(Q).getTime()))(I),I);_(Q=>{const P=[...Q];return P[j]={...P[j],[x]:I},P}),e(Q=>{var P,A;return{...Q,[D]:{...Q[D],[x==="description"?"abstract":x]:$,thumbnail:{...((P=Q[D])==null?void 0:P.thumbnail)||{src:"",alt:"",caption:""},title:x==="title"?I:((A=Q[D])==null?void 0:A.title)||""}}}}),r(!0)}},[e,l,r]),b=N.useCallback((x,I)=>{if(I instanceof File||I instanceof Blob){console.log(`StoriesSection[${x}]: Enqueuing image for thumbnail.src`);const D=URL.createObjectURL(I),j=`stories/${I.name}`;n(`main_pages.story_overviews.${x}.thumbnail.src`,j,I),e(L=>{var $;return{...L,[x]:{...L[x],thumbnail:{...(($=L[x])==null?void 0:$.thumbnail)||{src:"",alt:"",caption:""},src:D}}}}),_(L=>L.map($=>$.id===x?{...$,imageUrl:D}:$)),r(!0)}else console.error(`StoriesSection[${x}]: Invalid file for thumbnail.src:`,I)},[n,e,r]),C=N.useCallback(()=>{console.log("StoriesSection: Adding new story");const x=`story_${new Date().getTime()}`;e(I=>({...I,[x]:{title:"",abstract:"",thumbnail:{src:"https://blog.photobucket.com/hubfs/upload_pics_online.png",alt:"",caption:""},posted_time:new Date().toISOString()}})),_(I=>[...I,{id:x,title:"",description:"",imageUrl:"https://blog.photobucket.com/hubfs/upload_pics_online.png",posted_time:new Date().toISOString().split("T")[0]}]),r(!0)},[e,r]),S=N.useCallback(x=>{console.log(`StoriesSection[${x}]: Deleting story`),e(I=>Object.keys(I).filter(j=>j!==x).reduce((j,L)=>({...j,[L]:I[L]}),{})),_(I=>I.filter(D=>D.id!==x)),r(!0)},[e,r]);return E.jsxs(gr,{className:"w-full",borderColor:s,children:[E.jsx(we,{className:"mt-5 w-full text-center font-bold text-4xl ml-5 sm:ml-0 mx-auto outline-none bg-transparent",value:d,onChange:x=>w("heading",x.target.value),placeholder:"Nhập tiêu đề phần"}),E.jsxs("div",{className:"block sm:hidden mt-4 mb-5",children:[t.stories.map((x,I)=>{var D,j;return E.jsxs("div",{className:"flex flex-col items-center mb-6",children:[E.jsxs("div",{className:"relative w-full max-w-[300px] h-[300px] overflow-hidden rounded-lg mb-4",children:[E.jsx(Ct,{handleImageUpload:L=>b(x.id,L.target.files[0]),section:`story-${x.id}`,top:"top-2",left:"left-2",className:"w-full h-full bg-no-repeat",style:{backgroundImage:`url("${x.imageUrl||"https://via.placeholder.com/144x144"}")`}}),E.jsx("button",{className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:()=>S(x.id),children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"text-content text-center max-w-[300px]",children:[E.jsx(we,{className:"text-lg font-semibold text-black outline-none bg-transparent w-full text-center",value:((D=g[I])==null?void 0:D.title)||"",onChange:L=>w("title",L.target.value,x.id,I),placeholder:"Nhập tiêu đề câu chuyện"}),E.jsx(we,{type:"textarea",className:"text-sm px-3 text-black outline-none bg-transparent resize-none w-full",value:((j=g[I])==null?void 0:j.description)||"",onChange:L=>w("description",L.target.value,x.id,I),placeholder:"Nhập mô tả câu chuyện",rows:"4"}),E.jsx("button",{className:"text-white font-medium px-3 py-2 rounded-full hover:opacity-50 transition-opacity duration-200 mt-2",style:{backgroundColor:s},onClick:()=>c("/edit-content",{state:{id:x.id,title:x.title,thumbnail:x.imageUrl}}),children:"Đọc thêm"})]})]},x.id)}),E.jsx("div",{className:"flex justify-center",children:E.jsx("button",{className:"text-white font-medium px-3 py-2 rounded-full hover:opacity-50 transition-opacity duration-200",style:{backgroundColor:s},onClick:C,children:"Thêm câu chuyện"})})]}),E.jsxs("div",{className:"hidden sm:block",children:[t.stories.map((x,I)=>{var D,j;return E.jsxs("div",{className:"flex flex-row justify-center items-start mt-10",children:[E.jsxs("div",{className:"image-container w-full max-w-[40%] h-[400px] overflow-hidden rounded-lg mr-4 relative",children:[E.jsx(Ct,{handleImageUpload:L=>b(x.id,L.target.files[0]),section:`story-${x.id}`,top:"top-2",left:"left-2",style:{backgroundImage:`url("${x.imageUrl||"https://via.placeholder.com/144x144"}")`},className:"w-full h-full object-cover bg-center bg-no-repeat"}),E.jsx("button",{className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full cursor-pointer z-10",onClick:()=>S(x.id),children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"text-content max-w-md",children:[E.jsx(we,{className:"text-lg font-semibold text-black outline-none bg-transparent w-full",value:((D=g[I])==null?void 0:D.title)||"",onChange:L=>w("title",L.target.value,x.id,I),placeholder:"Nhập tiêu đề câu chuyện"}),E.jsx(we,{type:"textarea",className:"text-base text-black outline-none bg-transparent resize-none w-full",value:((j=g[I])==null?void 0:j.description)||"",onChange:L=>w("description",L.target.value,x.id,I),placeholder:"Nhập mô tả câu chuyện",rows:"4"}),E.jsx("button",{className:"text-white font-medium px-3 py-2 rounded-full hover:opacity-50 transition-opacity duration-200 mt-2",style:{backgroundColor:s},onClick:()=>c("/edit-content",{state:{id:x.id,title:x.title,thumbnail:x.imageUrl}}),children:"Đọc thêm"})]})]},x.id)}),E.jsx("div",{className:"flex justify-center mt-6",children:E.jsx("button",{className:"text-white font-medium px-3 py-2 rounded-full hover:opacity-50 transition-opacity duration-200",style:{backgroundColor:s},onClick:C,children:"Thêm câu chuyện"})})]})]})};mI.propTypes={pageData:H.shape({heading:H.string,stories:H.arrayOf(H.shape({id:H.string,title:H.string,description:H.string,imageUrl:H.string,posted_time:H.string}))}).isRequired,setStoryOverviews:H.func.isRequired,enqueueImageUpload:H.func.isRequired,setHasChanges:H.func.isRequired,buttonColor:H.string.isRequired,sectionTitles:H.object.isRequired,setSectionTitles:H.func.isRequired};function w5(){var S,x,I,D;const{primaryBackgroundColor:t,secondaryBackgroundColor:e,heroSections:n,setHeroSections:r,storyOverviews:s,setStoryOverviews:a,sectionTitles:l,setSectionTitles:c,enqueueImageUpload:d,handleGlobalSave:p}=N.useContext(jn),g=[((S=n==null?void 0:n.stories)==null?void 0:S.image)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",...Object.values(s||{}).map(j=>{var L;return((L=j.thumbnail)==null?void 0:L.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png"})],_=Qh(g),[w,b]=N.useState(!1);if(!_)return E.jsx(du,{});const C={heading:l.stories||"Câu chuyện",stories:Object.entries(s||{}).map(([j,L])=>{var Q;let $="";if(L.posted_time){const P=L.posted_time.toDate?L.posted_time.toDate():new Date(L.posted_time);isNaN(P.getTime())||($=P.toISOString().split("T")[0])}return{id:j,title:L.title||"",description:L.abstract||"",imageUrl:((Q=L.thumbnail)==null?void 0:Q.src)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",posted_time:$}})};return E.jsxs("div",{style:{backgroundColor:t},children:[E.jsx(pI,{title:((x=n==null?void 0:n.stories)==null?void 0:x.title)||"",description:((I=n==null?void 0:n.stories)==null?void 0:I.description)||"",heroImage:((D=n==null?void 0:n.stories)==null?void 0:D.image)||"https://blog.photobucket.com/hubfs/upload_pics_online.png",setHeroSections:r,enqueueImageUpload:d,setHasChanges:b,buttonColor:e}),E.jsx(mI,{pageData:C,setStoryOverviews:a,enqueueImageUpload:d,setHasChanges:b,buttonColor:e,sectionTitles:l,setSectionTitles:c})]})}const x5=()=>{const t=qr();return E.jsx(GR,{page:t.pathname,children:E.jsxs(gP,{children:[E.jsx(ji,{path:"/",element:E.jsx(f5,{})}),E.jsx(ji,{path:"/about",element:E.jsx(g5,{})}),E.jsx(ji,{path:"/edit-content",element:E.jsx(y5,{})}),E.jsx(ji,{path:"/events",element:E.jsx(_5,{})}),E.jsx(ji,{path:"/stories",element:E.jsx(w5,{})}),E.jsx(ji,{path:"/donate",element:E.jsx(v5,{})}),E.jsx(ji,{path:"*",element:E.jsx("div",{children:"404 | Page Not Found"})})]})})},T5=document.getElementById("root");CA.createRoot(T5).render(E.jsx(UP,{children:E.jsx(x5,{})}));
